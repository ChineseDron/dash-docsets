<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>The DateInterval class</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="datetimezone.listidentifiers.html">DateTimeZone::listIdentifiers</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="dateinterval.construct.html">DateInterval::__construct</a></div>
 <div class="up"><a href="book.datetime.html">Date/Time</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="class.dateinterval" class="reference">

 <h1 class="title">The DateInterval class</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.3.0)</p>


  <div class="section" id="dateinterval.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Representation of date interval. A date interval stores either a fixed amount of time
    (in years, months, days, hours etc) or a relative time string in the format that
    DateTime&#039;s constructor supports.
   </p>
  </div>


  <div class="section" id="dateinterval.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <b class="classname">DateInterval</b>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.y">$<var class="varname">y</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.m">$<var class="varname">m</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.d">$<var class="varname">d</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.h">$<var class="varname">h</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.i">$<var class="varname">i</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.s">$<var class="varname">s</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.invert">$<var class="varname">invert</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.days">$<var class="varname">days</var></a></var>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname"><a href="dateinterval.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$interval_spec</tt></span>
   )</div>

    
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">DateInterval</span> <span class="methodname"><a href="dateinterval.createfromdatestring.html" class="methodname">createFromDateString</a></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$time</tt></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="dateinterval.format.html" class="methodname">format</a></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$format</tt></span>
   )</div>


   }</div>


  </div>
  
  <div class="section" id="dateinterval.props">
   <h2 class="title">Properties</h2>
   <dl>

    <dt id="dateinterval.props.y">
     <span class="term"><var class="varname"><var class="varname">y</var></var></span>
     <dd>

      <p class="para">
       Number of years.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.m">
     <span class="term"><var class="varname"><var class="varname">m</var></var></span>
     <dd>

      <p class="para">
       Number of months.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.d">
     <span class="term"><var class="varname"><var class="varname">d</var></var></span>
     <dd>

      <p class="para">
       Number of days.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.h">
     <span class="term"><var class="varname"><var class="varname">h</var></var></span>
     <dd>

      <p class="para">
       Number of hours.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.i">
     <span class="term"><var class="varname"><var class="varname">i</var></var></span>
     <dd>

      <p class="para">
       Number of minutes.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.s">
     <span class="term"><var class="varname"><var class="varname">s</var></var></span>
     <dd>

      <p class="para">
       Number of seconds.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.invert">
     <span class="term"><var class="varname"><var class="varname">invert</var></var></span>
     <dd>

      <p class="para">
       Is <i>1</i> if the interval is inverted and
       <i>0</i> otherwise. See
        <span class="methodname"><a href="dateinterval.format.html" class="methodname">DateInterval::format()</a></span>.
      </p>
     </dd>

    </dt>

    <dt id="dateinterval.props.days">
     <span class="term"><var class="varname"><var class="varname">days</var></var></span>
     <dd>

      <p class="para">
       Total number of days between the starting and ending dates
       in a <span class="function"><a href="datetime.diff.html" class="function">DateTime::diff()</a></span> calculation.
       <var class="varname"><var class="varname">days</var></var> will be <b><tt>FALSE</tt></b> in other circumstances.
      </p>
     </dd>

    </dt>

   </dl>

  </div>

 </div>

 






















<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="dateinterval.construct.html">DateInterval::__construct</a> â€” Creates new DateInterval object</li><li><a href="dateinterval.createfromdatestring.html">DateInterval::createFromDateString</a> â€” Sets up a DateInterval from the relative parts of the string</li><li><a href="dateinterval.format.html">DateInterval::format</a> â€” Formats the interval</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106300""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#106300" class="date">26-Oct-2011 07:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is helpful to note that the value of the property 'i' is never greater than 59. That is, it is not the TOTAL number of minutes in the interval. It is the number of minutes left after counting up all the hours. <br />
For an interval of 182 minutes, 'h' is 3 and 'i' is 2.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102930""></a>
  <div class="note">
   <strong class="user">p dot scheit at ps-webforge dot com</strong>
   <a href="#102930" class="date">15-Mar-2011 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to convert a Timespan given in Seconds into an DateInterval Object you could dot the following:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$dv </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT'</span><span class="keyword">.</span><span class="default">$timespan</span><span class="keyword">.</span><span class="string">'S'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
but wenn you look at the object, only the $dv-&gt;s property is set. <br />
<br />
As stated in the documentation to DateInterval::format<br />
<br />
The DateInterval::format() method does not recalculate carry over points in time strings nor in date segments. This is expected because it is not possible to overflow values like "32 days" which could be interpreted as anything from "1 month and 4 days" to "1 month and 1 day". <br />
<br />
If you still want to calculate the seconds into hours / days / years, etc do the following:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$d1 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br />
</span><span class="default">$d2 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br />
</span><span class="default">$d2</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT'</span><span class="keyword">.</span><span class="default">$timespan</span><span class="keyword">.</span><span class="string">'S'</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
</span><span class="default">$iv </span><span class="keyword">= </span><span class="default">$d2</span><span class="keyword">-&gt;</span><span class="default">diff</span><span class="keyword">(</span><span class="default">$d1</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
$iv is an DateInterval set with days, years, hours, seconds, etc ...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102521""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#102521" class="date">18-Feb-2011 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You cannot use the ++ operator on the DateInterval fields; it has no effect on the field value. To increase a field value, you have to do it the long way, for example $diff-&gt;h = $diff-&gt;h + 1; instead of $diff-&gt;h++; (observed in PHP 5.3.1).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99918""></a>
  <div class="note">
   <strong class="user">jeff dot davies at yahoo dot com</strong>
   <a href="#99918" class="date">14-Sep-2010 05:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This class became available in PHP 5.3. It is not present in 5.2 or earlier releases. I found this out the hard way when you PHP scripts stopped working when I deployed them onto a Yahoo server. Yahoo has 5.2 while my machine hosts 5.3.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99662""></a>
  <div class="note">
   <strong class="user">sebastien dot michea at manaty dot net</strong>
   <a href="#99662" class="date">29-Aug-2010 08:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It would be nice that when converting a DateInterval to a string, the interval specification used to construct the object is returned (like "P2W").<br />
I need this to serialize a DateInterval object in order to store it in a postgres DB.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="datetimezone.listidentifiers.html">DateTimeZone::listIdentifiers</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="dateinterval.construct.html">DateInterval::__construct</a></div>
 <div class="up"><a href="book.datetime.html">Date/Time</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
