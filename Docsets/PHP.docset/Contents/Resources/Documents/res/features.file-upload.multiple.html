<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Uploading multiple files</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.common-pitfalls.html">Common Pitfalls</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.put-method.html">PUT method support</a></div>
 <div class="up"><a href="features.file-upload.html">Handling file uploads</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="features.file-upload.multiple" class="sect1">
   <h2 class="title">Uploading multiple files</h2>
   <p class="simpara">
    Multiple files can be uploaded using different
    <i>name</i> for <i>input</i>.
   </p>
   <p class="simpara">
    It is also possible to upload multiple files simultaneously and
    have the information organized automatically in arrays for you. To
    do so, you need to use the same array submission syntax in the
    HTML form as you do with multiple selects and checkboxes:
   </p>
   <p class="para">
    <div class="example" id="example-337">
     <p><b>Example #1 Uploading multiple files</b></p>
     <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;form action=&quot;file-upload.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  Send these files:&lt;br /&gt;
  &lt;input name=&quot;userfile[]&quot; type=&quot;file&quot; /&gt;&lt;br /&gt;
  &lt;input name=&quot;userfile[]&quot; type=&quot;file&quot; /&gt;&lt;br /&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Send files&quot; /&gt;
&lt;/form&gt;</pre>
</div>
     </div>

    </div>
   </p>
   <p class="simpara">
    When the above form is submitted, the arrays
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']</a></var></var>,
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name']</a></var></var>, and
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size']</a></var></var> will be
    initialized (as well as in <var class="varname"><var class="varname">$HTTP_POST_FILES</var></var> for PHP versions prior
    to 4.1.0).
    When
    <a href="ini.core.html#ini.register-globals" class="link">register_globals</a> is on, globals for uploaded
    files are also initialized. Each of these will be a numerically
    indexed array of the appropriate values for the submitted files.
   </p>
   <p class="simpara">
    For instance, assume that the filenames
    <var class="filename">/home/test/review.html</var> and
    <var class="filename">/home/test/xwp.out</var> are submitted.  In this
    case, <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][0]</a></var></var>
    would contain the value <var class="filename">review.html</var>, and
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][1]</a></var></var> would
    contain the value <var class="filename">xwp.out</var>. Similarly,
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size'][0]</a></var></var> would
    contain <var class="filename">review.html</var>&#039;s file size, and so forth.
   </p>
   <p class="simpara">
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['name'][0]</a></var></var>,
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['tmp_name'][0]</a></var></var>,
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['size'][0]</a></var></var>, and
    <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES['userfile']['type'][0]</a></var></var> are
    also set.
   </p>
   <div class="warning"><b class="warning">Warning</b>
    <p class="simpara">
     Since PHP 5.2.12, the
     <a href="ini.core.html#ini.max-file-uploads" class="link">max_file_uploads</a>
     configuration setting acts as a limit on the number of files that can be
     uploaded in one request. You will need to ensure that your form does not
     try to upload more files in one request than this limit.
    </p>
   </div>
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106565""></a>
  <div class="note">
   <strong class="user">timspeelman at live dot nl</strong>
   <a href="#106565" class="date">18-Nov-2011 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The cleanest way to rearrange the $_FILES<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rearrange</span><span class="keyword">( </span><span class="default">$arr </span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; foreach( </span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$all </span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$all </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$new</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105224""></a>
  <div class="note">
   <strong class="user">lugae at gmx dot ch</strong>
   <a href="#105224" class="date">03-Aug-2011 02:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Multiple upload might not work if you use a table for displaying your form inputs when &lt;form&gt; element is inside the &lt;table&gt; element. In this case only the first file will be uploaded.<br />
<br />
Put the &lt;form&gt; element outside the &lt;table&gt; element to get it to work.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104976""></a>
  <div class="note">
   <strong class="user">contato at dgmike dot com dot br</strong>
   <a href="#104976" class="date">19-Jul-2011 11:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I prefer something like this!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">public function </span><span class="default">arrayImages </span><span class="keyword">( &amp;</span><span class="default">$file_post </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( empty( </span><span class="default">$file_post </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$file_post</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="string">'array'</span><span class="keyword">!==</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$file_post</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$file_post</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$file_post</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$file_post </span><span class="keyword">as </span><span class="default">$res</span><span class="keyword">=&gt;</span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$file_array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$res</span><span class="keyword">] = </span><span class="default">$item</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$file_array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104241""></a>
  <div class="note">
   <strong class="user">leehowarth1 at live dot co dot uk</strong>
   <a href="#104241" class="date">02-Jun-2011 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to handle multiple $_FILES is quite easy i would use continue and build a further array for error messages to be displayed for output to the user, this is very good as say if you accept 4 of the 10 files the user uploads u can show 6 messages stating there file extensions are not allowed and then say a few was uploaded.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; $uploaded </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; <br />
&nbsp;&nbsp; </span><span class="default">$message </span><span class="keyword">= array();<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; foreach (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image'</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">] as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image'</span><span class="keyword">][</span><span class="string">'error'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">4</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image'</span><span class="keyword">][</span><span class="string">'error'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image'</span><span class="keyword">][</span><span class="string">'size'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] &gt; </span><span class="default">99439443</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$message</span><span class="keyword">[] = </span><span class="string">"</span><span class="default">$name</span><span class="string"> exceeded file limit."</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/* <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * Check File Extension<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * Move&nbsp; File&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$uploaded</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; echo </span><span class="default">$uploaded </span><span class="keyword">. </span><span class="string">' files uploaded.'</span><span class="keyword">;<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; foreach (</span><span class="default">$message </span><span class="keyword">as </span><span class="default">$error</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="default">$error</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103982""></a>
  <div class="note">
   <strong class="user">sque</strong>
   <a href="#103982" class="date">15-May-2011 12:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This a solution, using php closures (version &gt;= 5.3), to convert the weird indexes schema of $_FILES. Very useful in case you have multiple indexes in the name of the html input element (e.g name="form1[set1][file1][]"), or if you just want to handle multiple files per element.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Fix the $_FILES order by converting from wierd schema<br />
&nbsp;* [firstel]["name"][subel][0], [firstel]["size"][subel][0] ... [firstel]["error"][subel][0]<br />
&nbsp;* <br />
&nbsp;* to a more straightforward one.<br />
&nbsp;* [firstel][subel][0]["name"], [firstel][subel][0]["size"] ... [firstel][subel][0]["error"]<br />
&nbsp;* <br />
&nbsp;* @author Sque<br />
&nbsp;*/<br />
</span><span class="default">$fix_files_keys </span><span class="keyword">= function(</span><span class="default">$files</span><span class="keyword">) use (&amp; </span><span class="default">$fix_files_keys</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$files</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">], </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'tmp_name'</span><span class="keyword">], </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">], </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'type'</span><span class="keyword">], </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'error'</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Multiple values for post-keys indexes<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$move_indexes_right </span><span class="keyword">= function(</span><span class="default">$files</span><span class="keyword">) use(&amp; </span><span class="default">$move_indexes_right</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$files</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">] as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reordered </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'tmp_name' </span><span class="keyword">=&gt; </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'tmp_name'</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'size' </span><span class="keyword">=&gt; </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'type' </span><span class="keyword">=&gt; </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'type'</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'error' </span><span class="keyword">=&gt; </span><span class="default">$files</span><span class="keyword">[</span><span class="string">'error'</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// If this is not leaf do it recursivly<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$reordered </span><span class="keyword">= </span><span class="default">$move_indexes_right</span><span class="keyword">(</span><span class="default">$reordered</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = </span><span class="default">$reordered</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$results</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$move_indexes_right</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Re order pre-keys indexes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">, function(&amp;</span><span class="default">$sub</span><span class="keyword">) use(&amp; </span><span class="default">$fix_files_keys</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sub </span><span class="keyword">= </span><span class="default">$fix_files_keys</span><span class="keyword">(</span><span class="default">$sub</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; });&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$files</span><span class="keyword">;<br />
};<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96983""></a>
  <div class="note">
   <strong class="user">Corey Ballou</strong>
   <a href="#96983" class="date">25-Mar-2010 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to fix the indices of a multi-dimensional for easier parsing when dealing with file uploads.&nbsp; It takes a single $_FILES field array as a parameter and separates each individual uploaded file by numeric key.&nbsp; This allows for iterating like:<br />
<br />
<span class="default">&lt;?php<br />
fixFilesArray</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'array_of_files'</span><span class="keyword">]);<br />
foreach (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'array_of_files'</span><span class="keyword">] as </span><span class="default">$position </span><span class="keyword">=&gt; </span><span class="default">$file</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// should output array with indices name, type, tmp_name, error, size<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Here's the code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Fixes the odd indexing of multiple file uploads from the format:<br />
&nbsp;*<br />
&nbsp;* $_FILES['field']['key']['index']<br />
&nbsp;*<br />
&nbsp;* To the more standard and appropriate:<br />
&nbsp;*<br />
&nbsp;* $_FILES['field']['index']['key']<br />
&nbsp;*<br />
&nbsp;* @param array $files<br />
&nbsp;* @author Corey Ballou<br />
&nbsp;* @link <a href="http://www.jqueryin.com" rel="nofollow" target="_blank">http://www.jqueryin.com</a><br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">fixFilesArray</span><span class="keyword">(&amp;</span><span class="default">$files</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$names </span><span class="keyword">= array( </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'type' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'tmp_name' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'error' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'size' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$files </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$part</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// only deal with valid keys and multiple files<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= (string) </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$names</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$part </span><span class="keyword">as </span><span class="default">$position </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$files</span><span class="keyword">[</span><span class="default">$position</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// remove old key reference<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$files</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96365""></a>
  <div class="note">
   <strong class="user">christiaan at baartse dot nl</strong>
   <a href="#96365" class="date">23-Feb-2010 08:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After trying dozens of ways that are supposed to fix the wonkyness of the $_FILES array I didn't find any that could work with a input name like: userfile[christiaan][][][is][gaaf][]<br />
<br />
So I came up with this class<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* A class that takes the pain out of the $_FILES array<br />
&nbsp;* @author Christiaan Baartse &lt;christiaan@baartse.nl&gt;<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">UploadedFiles </span><span class="keyword">extends </span><span class="default">ArrayObject<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">current</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_normalize</span><span class="keyword">(</span><span class="default">parent</span><span class="keyword">::</span><span class="default">current</span><span class="keyword">());<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">offsetGet</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_normalize</span><span class="keyword">(</span><span class="default">parent</span><span class="keyword">::</span><span class="default">offsetGet</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">_normalize</span><span class="keyword">(</span><span class="default">$entry</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$files </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">] as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$files</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'tmp_name' </span><span class="keyword">=&gt; </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'tmp_name'</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'size' </span><span class="keyword">=&gt; </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'type' </span><span class="keyword">=&gt; </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'type'</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'error' </span><span class="keyword">=&gt; </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">'error'</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">]<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return new </span><span class="default">self</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$entry</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This allows you to access a file uploaded using the following inputtype<br />
&lt;input type="file" name="userfile[christiaan][][][is][gaaf][]" /&gt;<br />
like<br />
<span class="default">&lt;?php<br />
$files </span><span class="keyword">= new </span><span class="default">UploadedFiles</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'christiaan'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">][</span><span class="string">'is'</span><span class="keyword">][</span><span class="string">'gaaf'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]);<br />
</span><span class="comment">// or<br />
</span><span class="keyword">foreach(</span><span class="default">$files</span><span class="keyword">[</span><span class="string">'userfile'</span><span class="keyword">][</span><span class="string">'christiaan'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">][</span><span class="string">'is'</span><span class="keyword">][</span><span class="string">'gaaf'</span><span class="keyword">] as </span><span class="default">$file</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95856""></a>
  <div class="note">
   <strong class="user">thomas dot hebinck at digionline dot de</strong>
   <a href="#95856" class="date">26-Jan-2010 02:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
HTML5 defines &lt;input type="file" multiple="true" name="files[]"&gt; for uploading multiple files (implemented in Firefox 3.6 and Chrome 4 so far).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89333""></a>
  <div class="note">
   <strong class="user">jess at semlabs dot co dot uk</strong>
   <a href="#89333" class="date">03-Mar-2009 12:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you try and upload files with multi-dimensional names like this:<br />
<br />
&lt;input type="file" name="submission[screenshot]" /&gt;<br />
&lt;input type="file" name="other[dem][][img][]" /&gt;<br />
<br />
You will get an unexpected format like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'submission' </span><span class="keyword">=&gt; array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; array( </span><span class="string">'screenshot' </span><span class="keyword">=&gt; </span><span class="string">'monster_wallpaper.jpg' </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'type' </span><span class="keyword">=&gt; array( </span><span class="string">'screenshot' </span><span class="keyword">=&gt; </span><span class="string">'image/jpeg' </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'tmp_name' </span><span class="keyword">=&gt; array( </span><span class="string">'screenshot' </span><span class="keyword">=&gt; </span><span class="string">'/tmp/php48lX2Y' </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'error' </span><span class="keyword">=&gt; array( </span><span class="string">'screenshot' </span><span class="keyword">=&gt; </span><span class="default">0 </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'size' </span><span class="keyword">=&gt; array( </span><span class="string">'screenshot' </span><span class="keyword">=&gt; </span><span class="default">223262 </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
....<br />
</span><span class="default">?&gt;<br />
</span><br />
You can use the following function to re-format the array recursively in the usual format:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">format_files_array</span><span class="keyword">( </span><span class="default">$files</span><span class="keyword">, </span><span class="default">$name </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, &amp;</span><span class="default">$new </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$path </span><span class="keyword">= </span><span class="default">false </span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$names </span><span class="keyword">= array( </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'name'</span><span class="keyword">, </span><span class="string">'type' </span><span class="keyword">=&gt; </span><span class="string">'type'</span><span class="keyword">, </span><span class="string">'tmp_name' </span><span class="keyword">=&gt; </span><span class="string">'tmp_name'</span><span class="keyword">, </span><span class="string">'error' </span><span class="keyword">=&gt; </span><span class="string">'error'</span><span class="keyword">, </span><span class="string">'size' </span><span class="keyword">=&gt; </span><span class="string">'size' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach( </span><span class="default">$files </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$part </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= ( string ) </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$names </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( !</span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$names </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$path</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$part </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$part </span><span class="keyword">= </span><span class="default">format_files_array</span><span class="keyword">( </span><span class="default">$part</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$new</span><span class="keyword">, </span><span class="default">$path </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$part </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current </span><span class="keyword">=&amp; </span><span class="default">$new</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$path </span><span class="keyword">as </span><span class="default">$p </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current </span><span class="keyword">=&amp; </span><span class="default">$current</span><span class="keyword">[</span><span class="default">$p</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$part</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset( </span><span class="default">$path </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$new</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81896""></a>
  <div class="note">
   <strong class="user">tom at nono dot be</strong>
   <a href="#81896" class="date">18-Mar-2008 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Handling multiple uploads can be a lot more user friendly with a little help of javascript and form posting to iFrame...<br />
To make it all a little bit more edible, you can use AJAX and divs to provide loader gifs etc...<br />
<br />
Work with separate forms; note the target of each form = csr. It is the ID of an iFrame somewhere on the page. I call it CSR as short for Client-Server-Request.<br />
<br />
Also note the hidden input formId that we will use in the php upload handler.<br />
<br />
disable submitting the form using onsubmit="return false"...<br />
<br />
Finally a button outside the form structure starting a javascript function onclick="upload(document.form_0, document.loader_0)"<br />
<br />
&lt;form onsubmit="return false" id="file_0" name="file_0" action="upload.php" target="csr" enctype="multipart/form-data" method="post" style="margin:px; padding:0px"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;table width="100%" border="0" cellspacing="0" cellpadding="0"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;File 1:&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="hidden" id="formId" name="formId" value="0" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="1000000" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="file" id="userFile" name="userFile" class="invulveld100pct" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;div id="loader_0"&gt;&lt;/div&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br />
&lt;/form&gt;<br />
&lt;form onsubmit="return false" id="file_1" name="file_1" action="upload.php" target="csr" enctype="multipart/form-data" method="post" style="margin:px; padding:0px"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;table width="100%" border="0" cellspacing="0" cellpadding="0"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;File 2:&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="hidden" id="formId" name="formId" value="1" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="1000000" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;input type="file" id="userFile" name="userFile" class="invulveld100pct" /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;div id="loader_0"&gt;&lt;/div&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/table&gt;<br />
&lt;/form&gt;<br />
&lt;input type="button" onclick="upload(document.form_0, document.loader_0)" /&gt;<br />
&lt;iframe id="csr" name="csr" height="1" width="1" style="border:0px none"&gt;&lt;/iframe&gt;<br />
<br />
&lt;!--//The javascript://--&gt;<br />
<br />
&lt;script type="javascript"&gt;<br />
function upload(form, loader){<br />
&nbsp;&nbsp;&nbsp; //only do this if the form exists<br />
&nbsp;&nbsp;&nbsp; if(form){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //display a loadbar<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; loader.innerHTML = 'loading.gif';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; form.submit();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
&lt;/script&gt;<br />
<br />
The php upload handler upload.php<br />
Remember, your page will not refresh because the post is sent to your CSR iFrame.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//there are enough examples around to handle the upload...<br />
//the only important difference is the error reporting and the starting of the next form upload...<br />
//presume $uploadOk is a boolean that is true if the upload succeeds; false if it fails...<br />
//note the use of "parent" in the outputted javascript... the script is outputted into the CSR iFrame... therefor it needs parent to acces dom objects and javascript of the main page.<br />
<br />
</span><span class="default">$currentFormId </span><span class="keyword">= </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'formId'</span><span class="keyword">];<br />
</span><span class="default">$nextFormId </span><span class="keyword">= </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'formId'</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;script type=\"javascript\"&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="comment">//change the content of your loader div to a desired image<br />
</span><span class="keyword">if(</span><span class="default">$uploadOk</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"parent.loader_</span><span class="keyword">{</span><span class="default">$currentFormId</span><span class="keyword">}</span><span class="string">.innerHTML = 'uploadOk.gif';"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"parent.loader_</span><span class="keyword">{</span><span class="default">$currentFormId</span><span class="keyword">}</span><span class="string">.innerHTML = 'uploadNotOk.gif';"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//submit the next form... the javascript function will only perform it if the form exists.<br />
</span><span class="keyword">echo </span><span class="string">"parent.upload(document.form_</span><span class="keyword">{</span><span class="default">$nextFormId</span><span class="keyword">}</span><span class="string">, document.loader_</span><span class="keyword">{</span><span class="default">$nextFormId</span><span class="keyword">}</span><span class="string">);"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;/script&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This is just a quick draft of how to handle multiple files this way and I'm sure you would need to optimize the workflow to fit your needs, but the benifit of working this way is although your user still chooses multiple files, they are in fact posted one by one... This means your MAX_FILE_SIZE is determined for each file separately as opposed to the combined size of all files in one post.<br />
<br />
I hope this is a contribution...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78095""></a>
  <div class="note">
   <strong class="user">hotmail.com[at]notdefix</strong>
   <a href="#78095" class="date">27-Sep-2007 07:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With multiple file uploads<br />
<br />
post_max_size: the total amount of data posted by the client (all files, and all other form field)<br />
<br />
upload_max_filesize: the maximum size of 1 single file. (just like &lt;input type="hidden" name="MAX_FILE_SIZE" value="..."/&gt;)<br />
<br />
so, with the directives:<br />
&nbsp;post_max_size 25M<br />
&nbsp;upload_max_filesize 2M<br />
<br />
you can send 12 files of up to 2 MB and use up to 1 MB for your additional form-values.<br />
<br />
As long as you read only a single copy of 1 file into memory, the memory_limit directive can be held reasonable small as well.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73444""></a>
  <div class="note">
   <strong class="user">captlid at yahoo dot com</strong>
   <a href="#73444" class="date">23-Feb-2007 06:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noticed that the manual does not have a basic processing script for testing purposes to process multiple file uploads. It took me about an hour to figure this out so I figured it should help some newbie.<br />
<br />
Also on windows, the OS does not care if you use backslashes and front slashes while writing up a directory path. So for compatibility with *nix just keep it as a foward slash. <br />
<br />
(Tested with php5, php4, apache 1.3x and 2x, on winxp pro, win2k pro and win98se and freebsd.)<br />
<br />
The script is kept simple for illustration purposes. Dont use it in a production environment.<br />
<br />
The form<br />
<br />
&lt;form method="post" action="" enctype="multipart/form-data"&gt;<br />
&lt;input type="hidden" name="MAX_FILE_SIZE" value="500000"&gt;<br />
&lt;?<br />
for($i = 1; $i &lt;= $_POST[totalfiles]; $i++) { echo $i.'. &lt;input type="file" name="photos[]"&gt;&lt;br&gt;'."\n"; } <br />
?&gt; <br />
&lt;input type="submit" name="sendfiles" value="Send Files"&gt;&lt;/form&gt;<br />
<br />
The processing script, for simplicities sake in the same file.<br />
<br />
if ($_POST[sendfiles]) { <br />
print_r($_POST); echo '&lt;pre&gt;'; print_r($_FILES); echo '&lt;/pre&gt;'; <br />
<br />
$uploaddir = getcwd().'/photos/; //a directory inside <br />
foreach ($_FILES[photos][name] as $key =&gt; $value) {<br />
$uploadfile = $uploaddir . basename($_FILES[photos][name][$key]); <br />
//echo $uploadfile;<br />
if (move_uploaded_file($_FILES['photos']['tmp_name'][$key], $uploadfile)) { echo $value . ' uploaded&lt;br&gt;'; }<br />
}<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55614""></a>
  <div class="note">
   <strong class="user">Bob Doe</strong>
   <a href="#55614" class="date">08-Aug-2005 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a the simple test form I needed, pieced togther from 2 or 3 posts in the documentation elsewhere.<br />
<br />
&lt;html&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;HTML Form for uploading image to server&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;form action="" method="post" enctype="multipart/form-data"&gt;<br />
&lt;p&gt;Pictures:<br />
&lt;input type="file" name="pictures[]" /&gt;<br />
&lt;input type="file" name="pictures[]" /&gt;<br />
&lt;input type="file" name="pictures[]" /&gt;<br />
&lt;input type="submit" value="Send" /&gt;<br />
&lt;/p&gt;<br />
&lt;/form&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//places files into same dir as form resides<br />
</span><span class="keyword">foreach (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"pictures"</span><span class="keyword">][</span><span class="string">"error"</span><span class="keyword">] as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$error</span><span class="keyword">) {<br />
&nbsp;&nbsp; if (</span><span class="default">$error </span><span class="keyword">== </span><span class="default">UPLOAD_ERR_OK</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo</span><span class="string">"</span><span class="default">$error_codes</span><span class="keyword">[</span><span class="default">$error</span><span class="keyword">]</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">move_uploaded_file</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"pictures"</span><span class="keyword">][</span><span class="string">"tmp_name"</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">], <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"pictures"</span><span class="keyword">][</span><span class="string">"name"</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">] <br />
&nbsp;&nbsp; &nbsp; &nbsp; ) or die(</span><span class="string">"Problems with upload"</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span>&lt;/body&gt;<br />
&lt;/html&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55279""></a>
  <div class="note">
   
   <a href="#55279" class="date">28-Jul-2005 07:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
re: phpuser's comment<br />
<br />
I found that if instead of the form structure at the top of the page use one like this:<br />
<br />
&lt;form action="file-upload.php" method="post" enctype="multipart/form-data"&gt;<br />
&nbsp; Send these files:&lt;br /&gt;<br />
&nbsp; &lt;input name="userfile1" type="file" /&gt;&lt;br /&gt;<br />
&nbsp; &lt;input name="userfile2" type="file" /&gt;&lt;br /&gt;<br />
&nbsp; &lt;input type="submit" value="Send files" /&gt;<br />
&lt;/form&gt;<br />
<br />
Notice the names are unique and not an array element.&nbsp; Now the array is structured more like phpuser would like. I did this and used...<br />
<br />
foreach ($_FILES as $file) { ... }<br />
<br />
without issue.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53933""></a>
  <div class="note">
   <strong class="user">sgoodman_at_nojunk_immunetolerance.org</strong>
   <a href="#53933" class="date">17-Jun-2005 07:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: phpuser_at_gmail's comment, a simpler way to have create that data structure is to name your HTML file inputs different names. If you want to upload multiple files, use:<br />
&lt;input type=file name=file1&gt;<br />
&lt;input type=file name=file2&gt;<br />
&lt;input type=file name=file3&gt;<br />
etc...<br />
Each field name will be a key in the $_FILES array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53479""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#53479" class="date">02-Jun-2005 11:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Elaboration on phpuser at gmail dot com reArrayFiles() function (which assumed sequential, integer keys and uni-dimensional), this function will work regardless of key and key depth:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// information grouper<br />
</span><span class="keyword">function </span><span class="default">groupFileInfoByVariable</span><span class="keyword">(&amp;</span><span class="default">$top</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">, </span><span class="default">$attr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$info </span><span class="keyword">as </span><span class="default">$var </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">groupFileInfoByVariable</span><span class="keyword">(</span><span class="default">$top</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">], </span><span class="default">$val</span><span class="keyword">, </span><span class="default">$attr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">][</span><span class="default">$attr</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">] = </span><span class="default">$info</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// usage<br />
</span><span class="default">$newOrdering </span><span class="keyword">= array ();<br />
foreach (</span><span class="default">$_FILES </span><span class="keyword">as </span><span class="default">$var </span><span class="keyword">=&gt; </span><span class="default">$info</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">) as </span><span class="default">$attr</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">groupFileInfoByVariable</span><span class="keyword">(</span><span class="default">$newOrdering</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">], </span><span class="default">$attr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// $newOrdering holds the updated order<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53240""></a>
  <div class="note">
   <strong class="user">phpuser at gmail dot com</strong>
   <a href="#53240" class="date">26-May-2005 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When uploading multiple files, the $_FILES variable is created in the form:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [name] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; foo.txt<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; bar.txt<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [type] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; text/plain<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; text/plain<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [tmp_name] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; /tmp/phpYzdqkD<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; /tmp/phpeEwEWG<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [error] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 0<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [size] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 123<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 456<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
I found it made for a little cleaner code if I had the uploaded files array in the form<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; foo.txt<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [type] =&gt; text/plain<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [tmp_name] =&gt; /tmp/phpYzdqkD<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [error] =&gt; 0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [size] =&gt; 123<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; bar.txt<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [type] =&gt; text/plain<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [tmp_name] =&gt; /tmp/phpeEwEWG<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [error] =&gt; 0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [size] =&gt; 456<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
I wrote a quick function that would convert the $_FILES array to the cleaner (IMHO) array.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">reArrayFiles</span><span class="keyword">(&amp;</span><span class="default">$file_post</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_ary </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$file_post</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$file_post</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$file_count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$file_keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$file_ary</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$file_post</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$file_ary</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Now I can do the following:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if (</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'upload'</span><span class="keyword">]) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_ary </span><span class="keyword">= </span><span class="default">reArrayFiles</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'ufile'</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$file_ary </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'File Name: ' </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'File Type: ' </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">[</span><span class="string">'type'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">'File Size: ' </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.common-pitfalls.html">Common Pitfalls</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.put-method.html">PUT method support</a></div>
 <div class="up"><a href="features.file-upload.html">Handling file uploads</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
