<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Dealing with XForms</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.sessions.html">Sessions</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.html">Handling file uploads</a></div>
 <div class="up"><a href="features.html">Features</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="features.xforms" class="chapter">
 <h1>Dealing with XForms</h1>

 <p class="para">
  <a href="http://www.w3.org/MarkUp/Forms/" class="link external" title="Link : http://www.w3.org/MarkUp/Forms/">&raquo;&nbsp;XForms</a> defines a variation on traditional
  webforms which allows them to be used on a wider variety of platforms and 
  browsers or even non-traditional media such as PDF documents.
 </p>
 <p class="para">
  The first key difference in XForms is how the form is sent to the client.
  <a href="http://www.w3.org/MarkUp/Forms/2003/xforms-for-html-authors.html" class="link external" title="Link : http://www.w3.org/MarkUp/Forms/2003/xforms-for-html-authors.html">&raquo;&nbsp;<i>XForms for HTML Authors</i></a>
  contains a detailed description of how to create XForms, for the purpose
  of this tutorial we&#039;ll only be looking at a simple example.
 </p>
 <div class="example" id="example-332">
  <p><b>Example #1 A simple XForms search form</b></p>
  <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;h:html xmlns:h=&quot;http://www.w3.org/1999/xhtml&quot;
        xmlns=&quot;http://www.w3.org/2002/xforms&quot;&gt;
&lt;h:head&gt;
 &lt;h:title&gt;Search&lt;/h:title&gt;
 &lt;model&gt;
  &lt;submission action=&quot;http://example.com/search&quot;
              method=&quot;post&quot; id=&quot;s&quot;/&gt;
 &lt;/model&gt;
&lt;/h:head&gt;
&lt;h:body&gt;
 &lt;h:p&gt;
  &lt;input ref=&quot;q&quot;&gt;&lt;label&gt;Find&lt;/label&gt;&lt;/input&gt;
  &lt;submit submission=&quot;s&quot;&gt;&lt;label&gt;Go&lt;/label&gt;&lt;/submit&gt;
 &lt;/h:p&gt;
&lt;/h:body&gt;
&lt;/h:html&gt;</pre>
</div>
  </div>

 </div>
 <p class="para">
  The above form displays a text input box (named <i><tt class="parameter">q</tt></i>),
  and a submit button.  When the submit button is clicked, the form will be
  sent to the page referred to by <i>action</i>.
 </p>
 <p class="para">
  Here&#039;s where it starts to look different from your web application&#039;s point
  of view.  In a normal HTML form, the data would be sent as 
  <i>application/x-www-form-urlencoded</i>, in the XForms world
  however, this information is sent as <acronym title="eXtensible Markup Language">XML</acronym> formatted data.
 </p>
 <p class="para">
  If you&#039;re choosing to work with XForms then you probably want that data as
  <acronym title="eXtensible Markup Language">XML</acronym>, in that case, look in <var class="varname"><var class="varname"><a href="reserved.variables.httprawpostdata.html" class="classname">$HTTP_RAW_POST_DATA</a></var></var> where
  you&#039;ll find the <acronym title="eXtensible Markup Language">XML</acronym> document generated by the browser which you can pass
  into your favorite <acronym title="eXtensible Stylesheet Language Transformations">XSLT</acronym> engine or document parser.
 </p>
 <p class="para">
  If you&#039;re not interested in formatting and just want your data to be loaded
  into the traditional <var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var> variable, you can instruct
  the client browser to send it as <i>application/x-www-form-urlencoded</i>
  by changing the <i><tt class="parameter">method</tt></i> attribute to
  <em class="emphasis">urlencoded-post</em>.
 </p>
 <div class="example" id="example-333">
  <p><b>Example #2 Using an XForm to populate <var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var></b></p>
  <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;h:html xmlns:h=&quot;http://www.w3.org/1999/xhtml&quot;
        xmlns=&quot;http://www.w3.org/2002/xforms&quot;&gt;
&lt;h:head&gt;
 &lt;h:title&gt;Search&lt;/h:title&gt;
 &lt;model&gt;
  &lt;submission action=&quot;http://example.com/search&quot;
              method=&quot;urlencoded-post&quot; id=&quot;s&quot;/&gt;
 &lt;/model&gt;
&lt;/h:head&gt;
&lt;h:body&gt;
 &lt;h:p&gt;
  &lt;input ref=&quot;q&quot;&gt;&lt;label&gt;Find&lt;/label&gt;&lt;/input&gt;
  &lt;submit submission=&quot;s&quot;&gt;&lt;label&gt;Go&lt;/label&gt;&lt;/submit&gt;
 &lt;/h:p&gt;
&lt;/h:body&gt;
&lt;/h:html&gt;</pre>
</div>
  </div>

 </div>
 <blockquote class="note"><p><b class="note">Note</b>: 
  <span class="simpara">
   As of this writing, many browsers do not support XForms.
   Check your browser version if the above examples fails.
  </span>
 </p></blockquote>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="61844""></a>
  <div class="note">
   <strong class="user">Darkener Daemon EX</strong>
   <a href="#61844" class="date">13-Feb-2006 09:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"php://stdin" doesn't exist in my PHP version. I use the following code block instead :<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (!isset(</span><span class="default">$HTTP_RAW_POST_DATA</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$HTTP_RAW_POST_DATA </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">"php://input"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54556""></a>
  <div class="note">
   <strong class="user">OrionI</strong>
   <a href="#54556" class="date">07-Jul-2005 11:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
FireFox has an XForms plugin that works with the latest nightly builds. Check out <a href="http://www.mozilla.org/projects/xforms/ for more info. For IE support, there" rel="nofollow" target="_blank">http://www.mozilla.org/projects/xforms/ for more info. For IE support, there</a>'s an ActiveX control from Novell (<a href="http://developer.novell.com/xforms/" rel="nofollow" target="_blank">http://developer.novell.com/xforms/</a>) and one from x-port.net (<a href="http://www.formsplayer.com/" rel="nofollow" target="_blank">http://www.formsplayer.com/</a>).<br />
<br />
There's also a JavaScript-based one coming out called FormFaces which looks very promising, especially since there are no plugins required and it works in IE, FF, and Opera: <a href="http://www.formfaces.com/" rel="nofollow" target="_blank">http://www.formfaces.com/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44958""></a>
  <div class="note">
   <strong class="user">lphuberdeau at phpquebec dot org</strong>
   <a href="#44958" class="date">20-Aug-2004 09:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since HTTP_RAW_POST_DATA requires a configuration to be generated and is not enabled as a default value, you will probably have to use the PHP STDIN stream to get the raw data. It's probably better to use this method as the raw data will not be generated every time, even when not needed.<br />
<br />
<span class="default">&lt;?php<br />
$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">( </span><span class="string">"php://stdin"</span><span class="keyword">, </span><span class="string">"r" </span><span class="keyword">);<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
while( !</span><span class="default">feof</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">fgets</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">);<br />
</span><span class="default">fclose</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.sessions.html">Sessions</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.html">Handling file uploads</a></div>
 <div class="up"><a href="features.html">Features</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
