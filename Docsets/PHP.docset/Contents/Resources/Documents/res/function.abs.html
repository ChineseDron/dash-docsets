<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Absolute value</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="ref.math.html">Math Functions</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.acos.html">acos</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.abs" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">abs</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">abs</span> &mdash; <span class="dc-title">Absolute value</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.abs-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span> <span class="methodname"><b>abs</b></span>
     ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$number</tt></span>
    )</div>

  <p class="para rdfs-comment">
   Returns the absolute value of <i><tt class="parameter">number</tt></i>. 
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.abs-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">number</tt></i></span>
     <dd>

      <p class="para">
       The numeric value to process
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.abs-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The absolute value of <i><tt class="parameter">number</tt></i>. If the
   argument <i><tt class="parameter">number</tt></i> is
   of type <span class="type"><a href="language.types.float.html" class="type float">float</a></span>, the return type is also <span class="type"><a href="language.types.float.html" class="type float">float</a></span>,
   otherwise it is <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> (as <span class="type"><a href="language.types.float.html" class="type float">float</a></span> usually has a
   bigger value range than <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>).
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.abs-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3172">
    <p><b>Example #1 <span class="function"><b>abs()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$abs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">abs</span><span style="color: #007700">(-</span><span style="color: #0000BB">4.2</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$abs&nbsp;=&nbsp;4.2;&nbsp;(double/float)<br /></span><span style="color: #0000BB">$abs2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">abs</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$abs2&nbsp;=&nbsp;5;&nbsp;(integer)<br /></span><span style="color: #0000BB">$abs3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">abs</span><span style="color: #007700">(-</span><span style="color: #0000BB">5</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$abs3&nbsp;=&nbsp;5;&nbsp;(integer)<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.abs-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.gmp-abs.html" class="function" rel="rdfs-seeAlso">gmp_abs()</a> - Absolute value</span></li>
    <li class="member"><span class="function"><a href="function.gmp-sign.html" class="function" rel="rdfs-seeAlso">gmp_sign()</a> - Sign of number</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107094""></a>
  <div class="note">
   <strong class="user">alex dot griffioen at gmail dot com</strong>
   <a href="#107094" class="date">06-Jan-2012 06:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easy way to toggle a bit using abs():<br />
<br />
<span class="default">&lt;?php<br />
$flag </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">// either 0 or 1<br />
</span><span class="default">$flag </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$flag </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106082""></a>
  <div class="note">
   <strong class="user">Tig</strong>
   <a href="#106082" class="date">08-Oct-2011 03:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If doing a single conversion to "&gt;= 0" on a random input, in order to workout the value of the input (corrected to 0 or greater), the quickest method is:<br />
<br />
$x = abs($input); <br />
<br />
After a bit more testing and thinking about how the test page (in the post below) works, it appears the results are correct, but _only_ when looping over the different methods for a lot of loops. For a single test or correction, the results are wrong.<br />
<br />
The results for option 1 and 3 are very close to each other, but option 2 is clearly the quickest of the three.<br />
<br />
After removing the loops, the results where:<br />
<br />
1) Result [938]: 1.5974044799805E-5 sec.<br />
2) Result [938]: 5.9604644775391E-6 sec.<br />
3) Result [938]: 1.5020370483398E-5 sec.<br />
<br />
(note the E-5 and E-6 at the end)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106027""></a>
  <div class="note">
   <strong class="user">Tig</strong>
   <a href="#106027" class="date">04-Oct-2011 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In trying to workout the fastest way to return a number equal to or great than 0 from any input, with &lt; 0 turned positive as well, these are my results and how I tested:<br />
<br />
Fastest method:<br />
$x = floor($input);<br />
$x = ($x &lt; 0) ? ($x * -1) : $x;<br />
<br />
With ?n=987 passed<br />
1) Result [987]: 0.020493030548096 sec.<br />
2) Result [987]: 0.072222948074341 sec.<br />
3) Result [987]: 0.23027300834656 sec.<br />
<br />
With ?n=-821<br />
1) Result [821]: 0.023087024688721 sec.<br />
2) Result [821]: 0.073657035827637 sec.<br />
3) Result [821]: 0.24681091308594 sec.<br />
<br />
With ?n=foo<br />
1) Result [0]: 0.020076990127563 sec.<br />
2) Result [0]: 0.065827131271362 sec.<br />
3) Result [0]: 0.17472290992737 sec.<br />
<br />
Also works with nothing passed.<br />
<br />
The test page code:<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// test 1<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= (</span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) ? (</span><span class="default">$x </span><span class="keyword">* -</span><span class="default">1</span><span class="keyword">) : </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } while(</span><span class="default">$i</span><span class="keyword">++ &lt; </span><span class="default">100000</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'1) Result ['</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">.</span><span class="string">']: '</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">).</span><span class="string">' sec.&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// test 2<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } while(</span><span class="default">$i</span><span class="keyword">++ &lt; </span><span class="default">100000</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'2) Result ['</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">.</span><span class="string">']: '</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">).</span><span class="string">' sec.&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// test 3<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } while(</span><span class="default">$i</span><span class="keyword">++ &lt; </span><span class="default">100000</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'3) Result ['</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">.</span><span class="string">']: '</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">).</span><span class="string">' sec.&lt;br /&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104139""></a>
  <div class="note">
   <strong class="user">svein dot tjonndal at gmail dot com</strong>
   <a href="#104139" class="date">25-May-2011 12:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you don't have/want GMP and are working with large numbers/currencies:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mb_abs</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">)<br />
{<br />
&nbsp; return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
No need to worry about encoding, as your numbers should all be basic (ANSI) strings.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84860""></a>
  <div class="note">
   <strong class="user">lkj dot korn at gmail dot com</strong>
   <a href="#84860" class="date">01-Aug-2008 09:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[EDIT by danbrown AT php DOT net: Merged two posts by the same author.]<br />
<br />
This is a note to concordia's comment at <a href="http://us.php.net/manual/en/function.abs.php#58508" rel="nofollow" target="_blank">http://us.php.net/manual/en/function.abs.php#58508</a><br />
I believe there is an easier way to turn a positive number into a negative one and vice versa in one line:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">change_pol</span><span class="keyword">(</span><span class="default">$integer</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">0 </span><span class="keyword">- </span><span class="default">$integer</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
It takes another additional line to check if it's really a number:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">change_pol</span><span class="keyword">(</span><span class="default">$integer</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$integer</span><span class="keyword">)){ return </span><span class="default">false</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">0 </span><span class="keyword">- </span><span class="default">$integer</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Keep in mind that if I do 0 - -5 (given that $integer is -5), it will turn into +, thus turning the result into +5. Works like a charm for me. Input like '-5' will work as well (as PHP turns strings automatically into an integer or float), even '-.9' will return as 0.9.<br />
<br />
Another thing I'd like to note is that the variable name $integer used in my examples aren't really advised as the function goes beyond simple integers. Initially, I used this function only for the handling of integers, hence the variable name. It is only later that I've discovered it goes beyond integers. 0 will also return to 0 (if that shouldn't be obvious).<br />
<br />
Perhaps it is better to make it return NULL instead of FALSE when it fails the is_numeric condition, so that there's no mix with the function's result to be false instead of actually 0, however only checking with '===' instead of '==' should solve this, I believe.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84515""></a>
  <div class="note">
   <strong class="user">Ister</strong>
   <a href="#84515" class="date">17-Jul-2008 01:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[*EDIT* by danbrown AT php DOT net: Merged user's corrected code with previous post content.]<br />
<br />
<br />
jeremys indicated one thing - there is no sgn function wich actually seems a bit strange for me. Of course it is as simple as possible, but it is usefull and it is a standard math function needed occasionally.<br />
<br />
Well, I have solved this function in a bit different matter:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">sgn</span><span class="keyword">(</span><span class="default">$liczba</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$liczba</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$liczba</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else if(</span><span class="default">$liczba</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$liczba</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$liczba</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$liczba</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$liczba</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$liczba</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The difference is that it returns null when the argument isn't a number at all.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83910""></a>
  <div class="note">
   <strong class="user">zyphos at zyphos dot be</strong>
   <a href="#83910" class="date">18-Jun-2008 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think there are faster methods for doing an on/off.<br />
<br />
$value = (1 - $value);<br />
<br />
or better:<br />
<br />
$value = (1 ^ $value); // which uses the xor function.<br />
<br />
Below are the benchs on my computer, for loop of 10,000,000 with PHP Version 5.2.1<br />
<br />
$value = abs($value -1); // 4.12641406059 sec<br />
$value = (1 - $value); // 1.58847904205 sec<br />
$value =&nbsp; (1 ^ $value); // 1.49518704414 sec<br />
<br />
Note that using function call for such operation is very slow.<br />
function on_off($value) {<br />
&nbsp;return (1 ^ $value);<br />
} // 7.10739612579 sec</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83788""></a>
  <div class="note">
   <strong class="user">olivierlabbe at votreespace dot net</strong>
   <a href="#83788" class="date">11-Jun-2008 11:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
making an on/off switch with 0 and 1<br />
<br />
function on_off($value) {<br />
&nbsp;return abs($value -1);<br />
}<br />
<br />
if you send 0, it'll return 1, and 1 return 0.<br />
<br />
0 - 1 = -1, absolute of -1 = 1<br />
1 - 1 = 0, absolute of 0 = 0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82075""></a>
  <div class="note">
   <strong class="user">estoesunapija at hotmail dot com</strong>
   <a href="#82075" class="date">26-Mar-2008 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//Not for working with float <br />
//anyways, seems cool for integers<br />
//This works, iff is_int($num)<br />
<br />
function nabs ($num=NULL){<br />
&nbsp;&nbsp; $num = (int)$num;<br />
&nbsp;&nbsp; if ($num&lt;=0) return 0; //why bother bit flipping with 0 <br />
&nbsp;&nbsp; return ~$num + 1;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80108""></a>
  <div class="note">
   <strong class="user">thomas at tgohome dot com</strong>
   <a href="#80108" class="date">29-Dec-2007 03:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If we want to into a war about speed with negative absolute numbers, I think bitwise operations should just about do it. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">n_abs</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) { return ~</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">; }<br />
</span><span class="default">?&gt;<br />
</span><br />
A NOT operation on any number with a sign bit will produce the negative of that number minus one. All we need to do is add one. Voila! <br />
<br />
Speed test results (30000 iterations of various methods) produced very close dueling between the previous suggested method. Although I am on an overloaded Windows PC so I'm no benchmark, and I'll leave it up to you, the reader of this message.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60462""></a>
  <div class="note">
   <strong class="user">Josh</strong>
   <a href="#60462" class="date">07-Jan-2006 04:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Let's say you are resizing images to a standard size that can be expressed as a ratio (width/height). The problem I came into was that I wanted to be reasonable with the proportion of the images that my customer is uploading (couldn't we all use a little less horizontal on pictures?), but I wanted to reject the horizontal pictures when they were uploading vertical ones. So I wanted to accept proportions of images that were within a reasonable threshold (+ or -) of what I will be resizing them to.<br />
<br />
Assuming a standard of 1 to 4 (0.25) and a threshold of no more than 0.05 deviation, then the number 0.30 and 0.20 would return true and 0.19 would return false.<br />
<br />
<span class="default">&lt;?php <br />
<br />
</span><span class="keyword">function </span><span class="default">threshold</span><span class="keyword">(</span><span class="default">$given</span><span class="keyword">,</span><span class="default">$thresh</span><span class="keyword">,</span><span class="default">$standard</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; return (</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$given</span><span class="keyword">-</span><span class="default">$standard</span><span class="keyword">)&lt;=</span><span class="default">$thresh</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59648""></a>
  <div class="note">
   <strong class="user">jeremys at hang dash wire dot com</strong>
   <a href="#59648" class="date">12-Dec-2005 08:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm unable to replicate concordia's problem with the $n = $n - $n * 2 code.&nbsp; I agree with the simplification to $n *= -1.&nbsp; But there's no reason that concordia's code should return 6 for the value -2, and it doesn't appear to.&nbsp; When I tried it, PHP returned 2, as it should.&nbsp; If PHP were somehow flipping the sign of integers randomly, that would be a *major* bug!<br />
<br />
There doesn't seem to be a sgn() function yet.&nbsp; Here's some quick code to do it:<br />
<br />
function sgn($x) {<br />
&nbsp;&nbsp; return $x ? ($x&gt;0 ? 1 : -1) : 0;<br />
}<br />
<br />
You could use $x ? abs($x)/$x : 0 too, but might as well avoid the float division.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59646""></a>
  <div class="note">
   <strong class="user">Lazarus</strong>
   <a href="#59646" class="date">12-Dec-2005 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Even that is unnecessarily complex. Try this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">n_abs</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) { return -</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) ; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Faster too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58653""></a>
  <div class="note">
   <strong class="user">rdk</strong>
   <a href="#58653" class="date">10-Nov-2005 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
concordia, you seem to be overcomplicating matters.&nbsp; If you want to do the reverse of the abs function, the only code required is:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">n_abs</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$num </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">$num </span><span class="keyword">* -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$num</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">n_abs</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">); </span><span class="comment">//-2<br />
</span><span class="default">n_abs</span><span class="keyword">(-</span><span class="default">2</span><span class="keyword">); </span><span class="comment">//-2<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
If you want to switch the sign bit of a number, as your example seems to indicate...<br />
turn_neg (2); // -2<br />
turn_neg (-2); // 2<br />
...you just need to do $num *= -1;<br />
<br />
Your function also doesn't seem to work. Switching "if (is_neg ($num))" to "if (!is_neg ($num))" would make it function as indicated by your comments (i.e. toggle the sign bit), but it would still be overly complicated.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55694""></a>
  <div class="note">
   <strong class="user">alreece45 at yahoo dot com</strong>
   <a href="#55694" class="date">10-Aug-2005 12:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Both of the below codes were wrong.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Check to see if $range is numberic, if not, set it to the integer value 1<br />
<br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">)) {<br />
<br />
&nbsp;</span><span class="default">$range</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="comment">// Check to see if $range is an integer and not a float. Use is_int() and not int().<br />
<br />
</span><span class="keyword">if(!</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">)) {<br />
<br />
</span><span class="comment">// Make it an integer. Use intval() here, not int_val.<br />
<br />
&nbsp;</span><span class="default">$range</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);<br />
<br />
}<br />
<br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The only thing I don't get is why we have to check before doing the functions. Whether or not we do the functions it will give us what we want. The only check I really understand being there is the one that sets it to one.<br />
<br />
Why not just do:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// If $range is numberic, make it in positive integer, otherwise, make it one.<br />
<br />
</span><span class="default">$range </span><span class="keyword">= </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">) ? </span><span class="default">abs</span><span class="keyword">(</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">)) : </span><span class="default">1</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Seems like a lot less code. Or If you prefer to stay with if statements:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if(</span><span class="default">is_numberic</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">)) {<br />
<br />
&nbsp;</span><span class="comment">// If $range is numberic, make it in positive integer.<br />
<br />
&nbsp;</span><span class="default">$range </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">));<br />
<br />
}<br />
<br />
else {<br />
<br />
&nbsp;</span><span class="comment">//otherwise, make it one.<br />
<br />
&nbsp;</span><span class="default">$range </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Both ways seem smaller to me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42640""></a>
  <div class="note">
   <strong class="user">abodeman at y a h o o</strong>
   <a href="#42640" class="date">24-May-2004 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's another problem in the below code. The correct function to see whether a value is an integer is is_int(), not int(), so the code should look like this:<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks for numeric input <br />
</span><span class="keyword">{ <br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; <br />
}</span><span class="comment">//sets $range to integer 1 if input is anything other than a numeric value <br />
</span><span class="keyword">if(!</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks to make sure it is an integer (not decimal) <br />
</span><span class="keyword">{ <br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">int_val</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">); <br />
}</span><span class="comment">//if a decimal- sets $range to integer value <br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);</span><span class="comment">//sets value to positive whole number <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40367""></a>
  <div class="note">
   <strong class="user">mbender at duforu dot com</strong>
   <a href="#40367" class="date">01-Mar-2004 01:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reference to the previous code sample the int_val function is actually intval() [<a href="http://us4.php.net/manual/en/function.intval.php]:" rel="nofollow" target="_blank">http://us4.php.net/manual/en/function.intval.php]:</a><br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks for numeric input <br />
&nbsp;</span><span class="keyword">{ <br />
&nbsp; </span><span class="default">$range</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; <br />
&nbsp;} </span><span class="comment">//sets $range to integer 1 if input is anything other than a numeric value <br />
</span><span class="keyword">if(!</span><span class="default">int</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks to make sure it is an integer (not decimal) <br />
&nbsp;</span><span class="keyword">{ <br />
&nbsp;</span><span class="default">$range</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">) </span><span class="comment">// not -&gt;&nbsp; int_val($range); <br />
&nbsp;</span><span class="keyword">}</span><span class="comment">//if a decimal- sets $range to integer value <br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);</span><span class="comment">//sets value to positive whole number <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34103""></a>
  <div class="note">
   <strong class="user">bgustin AT trukfixer DOT com</strong>
   <a href="#34103" class="date">16-Jul-2003 08:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
assume we take user input from a form untreated and assign it to variable $range. We want to be sure this number is a Positive Whole number, since abs() just sets a number to positive or 0, and we dont want decimals...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks for numeric input<br />
</span><span class="keyword">{<br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
}</span><span class="comment">//sets $range to integer 1 if input is anything other than a numeric value<br />
</span><span class="keyword">if(!</span><span class="default">int</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))</span><span class="comment">//checks to make sure it is an integer (not decimal)<br />
</span><span class="keyword">{<br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">int_val</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);<br />
}</span><span class="comment">//if a decimal- sets $range to integer value<br />
</span><span class="default">$range</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);</span><span class="comment">//sets value to positive whole number<br />
</span><span class="default">?&gt;<br />
</span><br />
for example the input "testing" would return $range =1,<br />
the input "3.578" would return value=3<br />
If the input is null, I am havent tested to see if it gets set to 1 courtesy of int_val or not, but I believe it will be.<br />
<br />
I'm sure there's probably a more elegant way to do this using regex, however for an apprentice php coder, this might be a little easier to understand and use.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="ref.math.html">Math Functions</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.acos.html">acos</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
