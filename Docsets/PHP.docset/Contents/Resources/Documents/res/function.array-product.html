<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Calculate the product of values in an array</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-pop.html">array_pop</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-push.html">array_push</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-product" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_product</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0)</p><p class="refpurpose"><span class="refname">array_product</span> &mdash; <span class="dc-title">Calculate the product of values in an array</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-product-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span> <span class="methodname"><b>array_product</b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter">$array</tt></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>array_product()</b></span> returns the product of values
   in an array.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.array-product-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">array</tt></i></span>
     <dd>

      <p class="para">
       The array.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-product-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the product as an integer or float.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-product-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4517">
    <p><b>Example #1 <span class="function"><b>array_product()</b></span> examples</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"product(a)&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">array_product</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"product(array())&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">array_product</span><span style="color: #007700">(array())&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
product(a) = 384
product(array()) = 1
</pre></div>
    </div>
   </div>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="100153""></a>
  <div class="note">
   <strong class="user">marcel dot glacki at stud dot fh-swf dot de</strong>
   <a href="#100153" class="date">28-Sep-2010 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use array_product to calculate the factorial of n:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">factorial</span><span class="keyword">( </span><span class="default">$n </span><span class="keyword">)<br />
{<br />
&nbsp; if( </span><span class="default">$n </span><span class="keyword">&lt; </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$n </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">array_product</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
If you need the factorial without having array_product available, here is one:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">factorial</span><span class="keyword">( </span><span class="default">$n </span><span class="keyword">)<br />
{<br />
&nbsp; if( </span><span class="default">$n </span><span class="keyword">&lt; </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$n </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp; for( </span><span class="default">$p</span><span class="keyword">++; </span><span class="default">$n</span><span class="keyword">; ) </span><span class="default">$p </span><span class="keyword">*= </span><span class="default">$n</span><span class="keyword">--;<br />
&nbsp; return </span><span class="default">$p</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92534""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#92534" class="date">28-Jul-2009 10:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
gmail @ algofoogle is right, so we can extend our own array_product() to flexibly accept the empty product value.&nbsp; Zero (0) is the default (to be compatible with PHP behavior), but you could change this to 1 for mathematical purposes or null for logical.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (! </span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'array_product'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">array_product</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$emptyProduct </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">0 </span><span class="keyword">== </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ? </span><span class="default">$emptyProduct </span><span class="keyword">: </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'_array_product'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Param #1 must be an array'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">_array_product</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">) { return </span><span class="default">$v </span><span class="keyword">* </span><span class="default">$w</span><span class="keyword">; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86164""></a>
  <div class="note">
   <strong class="user">hdeus at yahoo dot com</strong>
   <a href="#86164" class="date">06-Oct-2008 08:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is how you can multiply two arrays in the form of matrixes using a bit of matrix algebra (M*M).<br />
By calling the function multiplyMatrix, you will be multiplying two sparse matrixes (zeros need not be included in the array for the operation to be performed).<br />
<br />
<span class="default">&lt;?php<br />
$M </span><span class="keyword">= array(<br />
</span><span class="default">0</span><span class="keyword">=&gt;array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">),<br />
</span><span class="default">1</span><span class="keyword">=&gt;array(</span><span class="default">2</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">),<br />
</span><span class="default">3</span><span class="keyword">=&gt;array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">),<br />
</span><span class="default">4</span><span class="keyword">=&gt;array(</span><span class="default">5</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">),<br />
</span><span class="default">5</span><span class="keyword">=&gt;array(</span><span class="default">6</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">$M1 </span><span class="keyword">= </span><span class="default">multiplyMatrix</span><span class="keyword">(</span><span class="default">$M</span><span class="keyword">, </span><span class="default">$M</span><span class="keyword">); </span><span class="comment">//multiplying $M by itself<br />
<br />
</span><span class="keyword">echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$M1</span><span class="keyword">);echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
function </span><span class="default">multiplyMatrix</span><span class="keyword">(</span><span class="default">$M1</span><span class="keyword">, </span><span class="default">$M2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
</span><span class="comment">#Helena F Deus, Oct 06, 2008<br />
##Multiply two matrixes; $M1 and $M2 can be sparse matrixes, the indexes on both should match<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$M1</span><span class="keyword">)) {</span><span class="default">$matrix1 </span><span class="keyword">= </span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$M1</span><span class="keyword">));}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$matrix1 </span><span class="keyword">= </span><span class="default">$M1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">#transpose M2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$M2t </span><span class="keyword">= </span><span class="default">transpose</span><span class="keyword">(</span><span class="default">$M2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$M2t </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">=&gt;</span><span class="default">$tmp</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">##sum the result of the value in the col multiplied by the value in the vector on the corresponding row<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$M1 </span><span class="keyword">as </span><span class="default">$row1</span><span class="keyword">=&gt;</span><span class="default">$tmp1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$multiply</span><span class="keyword">[</span><span class="default">$row1</span><span class="keyword">] = </span><span class="default">array_rproduct</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">$tmp1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$multiply</span><span class="keyword">[</span><span class="default">$row1</span><span class="keyword">]){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; exit;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$multiply </span><span class="keyword">as </span><span class="default">$row1</span><span class="keyword">=&gt;</span><span class="default">$vals</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sum</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">][</span><span class="default">$row1</span><span class="keyword">]=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$vals</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">=</span><span class="default">transpose</span><span class="keyword">(</span><span class="default">$sum</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$r</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
function </span><span class="default">transpose</span><span class="keyword">(</span><span class="default">$M</span><span class="keyword">)<br />
{<br />
foreach (</span><span class="default">$M </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">=&gt;</span><span class="default">$cols</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$cols </span><span class="keyword">as </span><span class="default">$col</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Mt</span><span class="keyword">[</span><span class="default">$col</span><span class="keyword">][</span><span class="default">$row</span><span class="keyword">]=</span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$Mt</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
return (</span><span class="default">$Mt</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
}<br />
<br />
function </span><span class="default">array_rproduct</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$a1 </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">=&gt;</span><span class="default">$cols</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a3</span><span class="keyword">[</span><span class="default">$line</span><span class="keyword">] = </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$line</span><span class="keyword">]*</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$line</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$a2 </span><span class="keyword">as </span><span class="default">$line2</span><span class="keyword">=&gt;</span><span class="default">$cols2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a3</span><span class="keyword">[</span><span class="default">$line2</span><span class="keyword">] = </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$line2</span><span class="keyword">]*</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$line2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$a3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75049""></a>
  <div class="note">
   <strong class="user">gmail at algofoogle</strong>
   <a href="#75049" class="date">09-May-2007 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just in relation to "bishop" and the overall behaviour of array_product... The "empty product" (i.e. product of no values) is supposed to be defined as "1":<br />
<br />
<a href="http://en.wikipedia.org/wiki/Empty_product" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Empty_product</a><br />
<br />
...however PHP's array_product() returns int(0) if it is given an empty array. bishop's code does this, too (so it IS a compatible replacement). Ideally, array_product() should probably return int(1). I guess it depends on your specific context or rationale.<br />
<br />
You might normally presume int(0) to be a suitable return value if there are no inputs, but let's say that you're calculating a price based on "percentage" offsets:<br />
<br />
$price = 10.0;<br />
$discounts = get_array_of_customer_discounts();<br />
$price = $price * array_product($discounts);<br />
<br />
...if there are NO "discounts", the price will come out as 0, instead of 10.0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72391""></a>
  <div class="note">
   <strong class="user">pqpqpq at wanadoo dot nl</strong>
   <a href="#72391" class="date">17-Jan-2007 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An observation about the _use_ of array_product with primes:<br />
<br />
$a=$arrayOfSomePrimes=(2,3,11); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // 2 being the first prime (these days)<br />
<br />
$codeNum=array_product($a); // gives 66 (== 2*3*11)<br />
<br />
echo "unique product(\$a) = " . array_product($a) . "\n";<br />
<br />
The 66 can (only) be split into its original primes,<br />
which can be transformed into their place in the row of primes (2,3,5,7,11,13,17,19...)&nbsp; giving (1,2,3,4,5,6,7,8...)<br />
<br />
The 66 gives the places {1,2,5} in the row of primes. The number "66" is unique as a code for {1,2,5}<br />
<br />
So you can define the combination of table-columns {1,2,5} in "66". The bigger the combination, the more efficient in memory/transmission, the less in calculation.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71463""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#71463" class="date">29-Nov-2006 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yet another implementation of array_product() using PHP's native array_reduce():<br />
<br />
if (! function_exists('array_product')) {<br />
&nbsp;&nbsp;&nbsp; function array_product($array) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_array($array)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (0 == count($array) ? 0 : array_reduce($array, '_array_product', 1));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; trigger_error('Param #1 must be an array', E_USER_ERROR);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function _array_product($v,$w) { return $v * $w; } <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71461""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#71461" class="date">29-Nov-2006 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding Andre D function to test if all values in an array of booleans are true, you can also use:<br />
<br />
<span class="default">&lt;?php<br />
$allTrue </span><span class="keyword">= (! </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$arrayToCheck</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Both this method and Andre D's are O(n), but this method has a lower k in the average case: in_array() stops once it finds the first false, while array_product must always traverse the entire array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71187""></a>
  <div class="note">
   <strong class="user">marcel  at  computingnews dot com</strong>
   <a href="#71187" class="date">15-Nov-2006 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you don't have PHP 5.xx . you can use this function.<br />
It does not make sure that the variables are numeric.<br />
<br />
function calculate_array_product($array="")<br />
{<br />
if(is_array($array))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($array as $key =&gt; $value)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $productkey = $productkey + $key;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $productkey;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; <br />
&nbsp; return NULL;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68694""></a>
  <div class="note">
   <strong class="user">Andre D</strong>
   <a href="#68694" class="date">07-Aug-2006 01:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function can be used to test if all values in an array of booleans are TRUE.<br />
<br />
Consider:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return (bool) </span><span class="default">$test</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$check</span><span class="keyword">[] = </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);<br />
</span><span class="default">$check</span><span class="keyword">[] = </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$check</span><span class="keyword">[] = </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">FALSE</span><span class="keyword">);<br />
</span><span class="default">$check</span><span class="keyword">[] = </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
<br />
</span><span class="default">$result </span><span class="keyword">= (bool) </span><span class="default">array_product</span><span class="keyword">(</span><span class="default">$check</span><span class="keyword">);<br />
</span><span class="comment">// $result is set to FALSE because only two of the four values evaluated to TRUE<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The above is equivalent to:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$check1 </span><span class="keyword">= </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);<br />
</span><span class="default">$check2 </span><span class="keyword">= </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$check3 </span><span class="keyword">= </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">FALSE</span><span class="keyword">);<br />
</span><span class="default">$check4 </span><span class="keyword">= </span><span class="default">outbool</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
<br />
</span><span class="default">$result </span><span class="keyword">= (</span><span class="default">$check1 </span><span class="keyword">&amp;&amp; </span><span class="default">$check2 </span><span class="keyword">&amp;&amp; </span><span class="default">$check3 </span><span class="keyword">&amp;&amp; </span><span class="default">$check4</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This use of array_product is especially useful when testing an indefinite number of booleans and is easy to construct in a loop.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60423""></a>
  <div class="note">
   <strong class="user">mattyfroese at gmail dot com</strong>
   <a href="#60423" class="date">06-Jan-2006 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you don't have PHP 5<br />
<br />
$ar = array(1,2,3,4);<br />
$t = 1;<br />
foreach($ar as $n){<br />
&nbsp;&nbsp;&nbsp; $t *= $n;<br />
}<br />
echo $t; //output: 24</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-pop.html">array_pop</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-push.html">array_push</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
