<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Push one or more elements onto the end of array</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-product.html">array_product</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-rand.html">array_rand</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-push" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_push</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_push</span> &mdash; <span class="dc-title">Push one or more elements onto the end of array</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-push-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>array_push</b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter reference">&$array</tt></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$var</tt></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$...</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>array_push()</b></span> treats <i><tt class="parameter">array</tt></i> as a
   stack, and pushes the passed variables onto the end of
   <i><tt class="parameter">array</tt></i>. The length of <i><tt class="parameter">array</tt></i>
   increases by the number of variables pushed. Has the same effect as:
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   repeated for each <i><tt class="parameter">var</tt></i>.
  </p>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <span class="simpara">
    If you use <span class="function"><b>array_push()</b></span> to add one element to the
    array it&#039;s better to use <i>$array[] = </i> because in that
    way there is no overhead of calling a function.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <span class="simpara">
    <span class="function"><b>array_push()</b></span> will raise a warning if the first
    argument is not an array. This differs from the
    <i>$var[]</i> behaviour where a new array is created.
   </span>
  </p></blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.array-push-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">array</tt></i></span>
     <dd>

      <p class="para">
       The input array.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">var</tt></i></span>
     <dd>

      <p class="para">
       The pushed value.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-push-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the new number of elements in the array.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-push-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4518">
    <p><b>Example #1 <span class="function"><b>array_push()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$stack&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$stack</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"raspberry"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$stack</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; orange
    [1] =&gt; banana
    [2] =&gt; apple
    [3] =&gt; raspberry
)
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-push-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-pop.html" class="function" rel="rdfs-seeAlso">array_pop()</a> - Pop the element off the end of array</span></li>
    <li class="member"><span class="function"><a href="function.array-shift.html" class="function" rel="rdfs-seeAlso">array_shift()</a> - Shift an element off the beginning of array</span></li>
    <li class="member"><span class="function"><a href="function.array-unshift.html" class="function" rel="rdfs-seeAlso">array_unshift()</a> - Prepend one or more elements to the beginning of an array</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106997""></a>
  <div class="note">
   <strong class="user">Szorstki</strong>
   <a href="#106997" class="date">27-Dec-2011 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With multidimensional arrays it's easy too (somebody posted a sample, but it isn't useful for beginners). Here is a piece of code that should explain everything and much more:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//two classes of objects which will be in multidimensional array<br />
</span><span class="keyword">class </span><span class="default">Org </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class </span><span class="default">Org2 </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">//main array<br />
</span><span class="default">$arr </span><span class="keyword">= array();<br />
<br />
</span><span class="comment">//creating first subarray manually<br />
//the subarray name must be like first class above<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="string">'Org'</span><span class="keyword">] = array();<br />
<br />
</span><span class="comment">//creating second subarray for objects of selected class<br />
//in another way<br />
</span><span class="default">$x</span><span class="keyword">=</span><span class="default">2222</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//only for creating the sample object<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">get_class</span><span class="keyword">(new </span><span class="default">Org2</span><span class="keyword">(</span><span class="string">"wtf"</span><span class="keyword">.</span><span class="default">$x</span><span class="keyword">))] = array();<br />
<br />
</span><span class="comment">//pushing some new objects to (sub)arrays in (main)array<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$org1 </span><span class="keyword">= new </span><span class="default">Org</span><span class="keyword">(</span><span class="string">"tst"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$org2 </span><span class="keyword">= new </span><span class="default">Org2</span><span class="keyword">(</span><span class="string">"wtf"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$org1</span><span class="keyword">)], </span><span class="default">$org1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$org2</span><span class="keyword">)], </span><span class="default">$org2</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">//printing everything<br />
</span><span class="keyword">foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$counter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"====="</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">" (key) | value: "</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">.</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$key2</span><span class="keyword">=&gt;</span><span class="default">$value2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value2 </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//echo "counter: ".$counter." | key: ".$key2;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$key2</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$value2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">" ["</span><span class="keyword">.</span><span class="default">$counter</span><span class="keyword">.</span><span class="string">"]&nbsp; ["</span><span class="keyword">.</span><span class="default">$key2</span><span class="keyword">.</span><span class="string">"]&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$counter</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">//the additional, second part<br />
</span><span class="keyword">echo </span><span class="string">"&lt;br/&gt;--------&lt;br/&gt;&lt;br/&gt;"</span><span class="keyword">;<br />
</span><span class="comment">//deleting one of the objects from selected (sub)array<br />
</span><span class="keyword">unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="string">'Org'</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]);<br />
<br />
</span><span class="comment">//printing everything again (look at the counter values)<br />
</span><span class="keyword">foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$counter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"====="</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">" (key) | value: "</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">.</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$key2</span><span class="keyword">=&gt;</span><span class="default">$value2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value2 </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//echo "counter: ".$counter." | key: ".$key2;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$key2</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$value2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">" ["</span><span class="keyword">.</span><span class="default">$counter</span><span class="keyword">.</span><span class="string">"]&nbsp; ["</span><span class="keyword">.</span><span class="default">$key2</span><span class="keyword">.</span><span class="string">"]&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$counter</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
What we get in browser/console:<br />
=====Org (key) | value: Array<br />
Org Object ( [name] =&gt; tst0 ) [0] [0]<br />
Org Object ( [name] =&gt; tst1 ) [1] [1]<br />
Org Object ( [name] =&gt; tst2 ) [2] [2]<br />
=====Org2 (key) | value: Array<br />
Org2 Object ( [name] =&gt; wtf0 ) [0] [0]<br />
Org2 Object ( [name] =&gt; wtf1 ) [1] [1]<br />
Org2 Object ( [name] =&gt; wtf2 ) [2] [2]<br />
<br />
--------<br />
<br />
=====Org (key) | value: Array<br />
Org Object ( [name] =&gt; tst0 ) [0] [0]<br />
Org Object ( [name] =&gt; tst2 ) [1] [2]<br />
=====Org2 (key) | value: Array<br />
Org2 Object ( [name] =&gt; wtf0 ) [0] [0]<br />
Org2 Object ( [name] =&gt; wtf1 ) [1] [1]<br />
Org2 Object ( [name] =&gt; wtf2 ) [2] [2]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106717""></a>
  <div class="note">
   <strong class="user">yuri</strong>
   <a href="#106717" class="date">30-Nov-2011 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to put an element to a specific position in an array, try this function.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_put_to_position</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$object</span><span class="keyword">, </span><span class="default">$position</span><span class="keyword">, </span><span class="default">$name </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// insert new object<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$count </span><span class="keyword">== </span><span class="default">$position</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$name</span><span class="keyword">) </span><span class="default">$name </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$object</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inserted </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// insert old object<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$name</span><span class="keyword">) </span><span class="default">$name </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$inserted</span><span class="keyword">) </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">$return</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example :<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(<br />
&nbsp;</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'A'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="string">'B'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="string">'C'</span><span class="keyword">,<br />
);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">array_put_to_position</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">'G'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'g'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; A<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; B<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; C<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; A<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; B<br />
&nbsp;&nbsp;&nbsp; [g] =&gt; G<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; C<br />
)<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94754""></a>
  <div class="note">
   <strong class="user">aosojnik at gmail dot com</strong>
   <a href="#94754" class="date">23-Nov-2009 02:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to preserve the keys in the array, use the following:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_pshift</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$element</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93872""></a>
  <div class="note">
   <strong class="user">rarioj at gmail dot com</strong>
   <a href="#93872" class="date">04-Oct-2009 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function "Returns the new number of elements in the array."<br />
<br />
To find out the last index, use:<br />
<br />
<span class="default">&lt;?php<br />
$count </span><span class="keyword">= </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
</span><span class="default">$last_index </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93635""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#93635" class="date">20-Sep-2009 02:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to push the elements of an array onto the end of another, simply use array_splice():<br />
<br />
array_splice($array, count($array), 0, $otherArray);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88172""></a>
  <div class="note">
   <strong class="user">helpmepro1 at gmail dot com</strong>
   <a href="#88172" class="date">13-Jan-2009 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
elegant php array combinations algorithm<br />
<br />
&lt;?<br />
<br />
//by Shimon Dookin<br />
<br />
function get_combinations(&amp;$lists,&amp;$result,$stack=array(),$pos=0)<br />
{<br />
&nbsp;$list=$lists[$pos];<br />
&nbsp;if(is_array($list))<br />
&nbsp; foreach($list as $word)<br />
&nbsp; {<br />
&nbsp;&nbsp; array_push($stack,$word);<br />
&nbsp;&nbsp; if(count($lists)==count($stack))<br />
&nbsp;&nbsp;&nbsp; $result[]=$stack;<br />
&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; get_combinations($lists,$result,$stack,$pos+1);<br />
&nbsp;&nbsp; array_pop($stack);<br />
&nbsp; }<br />
}<br />
<br />
$wordlists= array( array("shimon","doodkin") , array("php programmer","sql programmer","mql metatrader programmer") );<br />
<br />
get_combinations($wordlists,$combinations);<br />
<br />
echo '&lt;xmp&gt;';<br />
print_r($combinations);<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86273""></a>
  <div class="note">
   <strong class="user">wesleys at opperschaap dot net</strong>
   <a href="#86273" class="date">10-Oct-2008 12:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function which mimics push() from perl, perl lets you push an array to an array: push(@array, @array2, @array3). This function mimics that behaviour.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_push_array</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%s: Cannot perform push on something that isn't an array!"</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_unshift</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, &amp;</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'array_push'</span><span class="keyword">,&nbsp; </span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$arr2&nbsp; </span><span class="keyword">= array(</span><span class="default">6</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">);<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"%s\n"</span><span class="keyword">, </span><span class="default">array_push_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, array(),array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">), </span><span class="default">$arr2</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="comment"># error.. <br />
</span><span class="default">$arr </span><span class="keyword">= </span><span class="string">"test"</span><span class="keyword">;<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"%s\n"</span><span class="keyword">, </span><span class="default">array_push_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, array(),array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">), </span><span class="default">$arr2</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84959""></a>
  <div class="note">
   <strong class="user">willdemaine at gmail dot com</strong>
   <a href="#84959" class="date">07-Aug-2008 07:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're adding multiple values to an array in a loop, it's faster to use array_push than repeated [] = statements that I see all the time:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">timer<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$start</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$end</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">timer</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">Finish</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private function </span><span class="default">GetStart</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private function </span><span class="default">GetEnd</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">GetDiff</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">GetEnd</span><span class="keyword">() - </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">GetStart</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">Reset</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
}<br />
<br />
echo </span><span class="string">"Adding 100k elements to array with []\n\n"</span><span class="keyword">;<br />
</span><span class="default">$ta </span><span class="keyword">= array();<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">Timer</span><span class="keyword">();<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
}<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Finish</span><span class="keyword">();<br />
echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">GetDiff</span><span class="keyword">();<br />
<br />
echo </span><span class="string">"\n\nAdding 100k elements to array with array_push\n\n"</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Reset</span><span class="keyword">();<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$ta</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Finish</span><span class="keyword">();<br />
echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">GetDiff</span><span class="keyword">();<br />
<br />
echo </span><span class="string">"\n\nAdding 100k elements to array with [] 10 per iteration\n\n"</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Reset</span><span class="keyword">();<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ta</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
}<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Finish</span><span class="keyword">();<br />
echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">GetDiff</span><span class="keyword">();<br />
<br />
echo </span><span class="string">"\n\nAdding 100k elements to array with array_push 10 per iteration\n\n"</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Reset</span><span class="keyword">();<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$ta</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">Finish</span><span class="keyword">();<br />
echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">GetDiff</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Output<br />
<br />
$ php5 arraypush.php<br />
X-Powered-By: PHP/5.2.5<br />
Content-type: text/html<br />
<br />
Adding 100k elements to array with []<br />
<br />
0.044686794281006<br />
<br />
Adding 100k elements to array with array_push<br />
<br />
0.072616100311279<br />
<br />
Adding 100k elements to array with [] 10 per iteration<br />
<br />
0.034690141677856<br />
<br />
Adding 100k elements to array with array_push 10 per iteration<br />
<br />
0.023932933807373</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84107""></a>
  <div class="note">
   <strong class="user">Ariz Jacinto</strong>
   <a href="#84107" class="date">27-Jun-2008 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you're going to use array_push() to insert a "$key" =&gt; "$value" pair into an array, it can be done using the following example:<br />
<br />
&nbsp;&nbsp;&nbsp; array_push($data[$key], $value);<br />
&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; array_push($data[$key], $value);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83388""></a>
  <div class="note">
   <strong class="user">bxi at apparoat dot nl</strong>
   <a href="#83388" class="date">23-May-2008 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've done a small comparison between array_push() and the $array[] method and the $array[] seems to be a lot faster.<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array();<br />
for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt;= </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">$x</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>takes 0.0622200965881 seconds<br />
<br />
and<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array();<br />
for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt;= </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>takes 1.63195490837 seconds<br />
<br />
so if your not making use of the return value of array_push() its better to use the $array[] way.<br />
<br />
Hope this helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82077""></a>
  <div class="note">
   <strong class="user">alexander dot williamson at gmail dot com</strong>
   <a href="#82077" class="date">26-Mar-2008 04:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This will work to solve the associative array issues:<br />
<br />
$aValues[$key] = $value;<br />
<br />
Where $key is a unique identifier and $value is the value to be stored. Since the $key works off a string or number, if you already have a $key with the same value as an existing $key, the element will be overwritten.<br />
<br />
e.g.<br />
<br />
$aValues["one"] = "value of one";<br />
$aValues["two"] = "different value of two!";<br />
<br />
gives:<br />
array([one] =&gt; "value of one", [two] =&gt; "value of two");<br />
<br />
but will be overwritten when using the same key (one):<br />
<br />
$aValues["one"] = "value of one";<br />
$aValues["one"] = "different value of two!";<br />
<br />
will give:<br />
<br />
array([one] =&gt; "different value of two!");<br />
<br />
3686</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81208""></a>
  <div class="note">
   <strong class="user">darkimmortal at dkimmortal dot com</strong>
   <a href="#81208" class="date">18-Feb-2008 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote this function for use with 'latest scores' on a quiz site, but it has many potential uses.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
* @desc array_push and removes elements from the beginning of the array until it is within limit<br />
* @param&nbsp; &nbsp; array&nbsp;&nbsp; Array to push on to<br />
* @param&nbsp; &nbsp; mixed&nbsp;&nbsp; Passed to array push as 2nd parameter<br />
* @param&nbsp; &nbsp; int&nbsp; &nbsp;&nbsp; Limit (default = 10)<br />
* <br />
* @return&nbsp;&nbsp; array&nbsp;&nbsp; New array<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_push_limit</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$add</span><span class="keyword">,</span><span class="default">$limit</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$add</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; do {&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$size</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; } while(</span><span class="default">$size </span><span class="keyword">&gt; </span><span class="default">$limit</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>----------<br />
EXAMPLE:<br />
----------<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $array</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">, -</span><span class="default">5</span><span class="keyword">, </span><span class="default">23</span><span class="keyword">, -</span><span class="default">66</span><span class="keyword">, </span><span class="default">33</span><span class="keyword">, </span><span class="default">54</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_push_limit</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">"HELLO"</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span>----------<br />
OUTPUT:<br />
----------<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 33<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 54<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; HELLO<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77106""></a>
  <div class="note">
   <strong class="user">rob AT rate for the cure dot com</strong>
   <a href="#77106" class="date">15-Aug-2007 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a problem with .htaccess and some tricky encrypted paths (for protecting true dir names of images and files) and created this quick function to auto correct paths for the document root using regex and array_diff<br />
&lt;?<br />
function fixPath($path){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $temp = trim($path);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $temp = eregi_replace("(\./|\.\./)","/",$temp);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $temp = eregi_replace("([^/]+(\.htm|\.php))","",$temp);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!eregi($_SERVER['DOCUMENT_ROOT'],$temp,$regs)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $partsA = explode("/",substr($temp,0,-1));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $partsB = explode("/",$_SERVER['DOCUMENT_ROOT']);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //if the path does not match the dir structure diff the array and reconstruct on the TRUE doc root<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tHolder = array_diff($partsA,$partsB);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($tHolder as $k=&gt;$v){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($partsB,$v);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $temp =&nbsp; implode("/",$partsB)."/";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $temp;<br />
&nbsp;&nbsp;&nbsp; }<br />
$correctPath = fixPath('.som/phpEncrypted/Path/class/class.QMI.php');<br />
?&gt;<br />
<br />
The function strips out filename, checks to see if the path resolves to the doc root, and if it does not it takes the difference in the paths and returns a path that translates to the true path. This is useful for encoding paths where you want to obfuscate the true server path (such as creating external api functions)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76557""></a>
  <div class="note">
   <strong class="user">zbde00 at hotmail dot com</strong>
   <a href="#76557" class="date">20-Jul-2007 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A very good function to remove a element from array <br />
function array_del($str,&amp;$array)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (in_array($str,$array)==true) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($array as $key=&gt;$value)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($value==$str) unset($array[$key]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68602""></a>
  <div class="note">
   <strong class="user">antido at gmail dot com</strong>
   <a href="#68602" class="date">03-Aug-2006 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple data object implementation:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Data object<br />
&nbsp;* <br />
&nbsp;* @version 0.6<br />
&nbsp;* @author Tom Reitsma &lt;antido@gmail.com&gt;<br />
&nbsp;*/<br />
</span><span class="keyword">Class </span><span class="default">DataObject<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * @var int $ptr<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private </span><span class="default">$ptr </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * @var array $data<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private </span><span class="default">$data </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Class constructor<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$anArray</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$anArray </span><span class="keyword">!= </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$anArray</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[] = </span><span class="default">$anArray</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Fetches the data under the pointer<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * @return String if there is still data left under the pointer, false if the end has been reached<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">fetch</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ptr</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ptr</span><span class="keyword">++];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Moves to the next row in the data object<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * @return boolean<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">moveNext</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newPtr </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ptr </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$newPtr</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ptr </span><span class="keyword">= </span><span class="default">$newPtr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Moves to the previous row in the data object<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * @return boolean<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">movePrevious</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newPtr </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ptr </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$newPtr</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$newPtr</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Pushes an element onto the array<br />
&nbsp;&nbsp; &nbsp; * <br />
&nbsp;&nbsp; &nbsp; * @param String or an array $input<br />
&nbsp;&nbsp; &nbsp; * @return number of elements<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">push</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getNumRows</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Counts the number of rows<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getNumRows</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66132""></a>
  <div class="note">
   <strong class="user">Marc Bernet</strong>
   <a href="#66132" class="date">15-May-2006 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A small and basic implementation of a stack without using an array.<br />
<br />
class node<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var $elem;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var&nbsp; &nbsp; $next;<br />
}<br />
class stack<br />
{<br />
&nbsp;&nbsp;&nbsp; var $next;<br />
&nbsp;&nbsp;&nbsp; function pop()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $aux=$this-&gt;next-&gt;elem;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;next=$this-&gt;next-&gt;next;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $aux;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function push($obj)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nod=new node;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nod-&gt;elem=$obj;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nod-&gt;next=$this-&gt;next;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;next=$nod;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function stack()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;next=NULL;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp;&nbsp; <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61678""></a>
  <div class="note">
   <strong class="user">richard dot udo at gmail dot com</strong>
   <a href="#61678" class="date">09-Feb-2006 03:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a typo i think but the code below will actually produce<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; c<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; d<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; e<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; f<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61217""></a>
  <div class="note">
   <strong class="user">egingell at sisna dot com</strong>
   <a href="#61217" class="date">28-Jan-2006 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you push an array onto the stack, PHP will add the whole array to the next element instead of adding the keys and values to the array. If this is not what you want, you're better off using array_merge() or traverse the array you're pushing on and add each element with $stack[$key] = $value.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$stack </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">);<br />
</span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">, array(</span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'f'</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span>The above will output this:<br />
Array (<br />
&nbsp; [0] =&gt; a<br />
&nbsp; [1] =&gt; b<br />
&nbsp; [2] =&gt; c<br />
&nbsp; [3] =&gt; Array (<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; a<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; b<br />
&nbsp;&nbsp; &nbsp; [2] =&gt; c<br />
&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58705""></a>
  <div class="note">
   <strong class="user">steve at webthoughts d\ot ca</strong>
   <a href="#58705" class="date">12-Nov-2005 04:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further Modification on the array_push_associative function<br />
1.&nbsp; removes seemingly useless array_unshift function that generates php warning<br />
2.&nbsp; adds support for non-array arguments<br />
<br />
&lt;?<br />
// Append associative array elements<br />
function array_push_associative(&amp;$arr) {<br />
&nbsp;&nbsp; $args = func_get_args();<br />
&nbsp;&nbsp; foreach ($args as $arg) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (is_array($arg)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($arg as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $arr[$key] = $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ret++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $arr[$arg] = "";<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return $ret;<br />
}<br />
<br />
$items = array("here" =&gt; "now");<br />
$moreitems = array("this" =&gt; "that");<br />
<br />
$theArray = array("where" =&gt; "do we go", "here" =&gt; "we are today");<br />
echo array_push_associative($theArray, $items, $moreitems, "five") . ' is the size of $theArray.&lt;br /&gt;';<br />
&nbsp;&nbsp;&nbsp; <br />
echo "&lt;pre&gt;";<br />
print_r($theArray);<br />
echo "&lt;/pre&gt;";<br />
<br />
?&gt;<br />
<br />
Yields: <br />
<br />
4 is the size of $theArray.<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [where] =&gt; do we go<br />
&nbsp;&nbsp;&nbsp; [here] =&gt; now<br />
&nbsp;&nbsp;&nbsp; [this] =&gt; that<br />
&nbsp;&nbsp;&nbsp; [five] =&gt; <br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58321""></a>
  <div class="note">
   <strong class="user">ludvig dot ericson at gmail dot com</strong>
   <a href="#58321" class="date">31-Oct-2005 05:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Previous comment was not fully imitating the array_push behaviour,<br />
1) does not return number of items pushed<br />
2) can only handle one array to push<br />
<br />
&gt; Revised associative_push function with absolute reference of arg1 array; left unchanged if arg2 is empty.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Append associative array elements<br />
</span><span class="keyword">function </span><span class="default">array_push_associative</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_unshift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">); </span><span class="comment">// remove &amp;$arr argument<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$arg</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$arg </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$theArray </span><span class="keyword">= array();<br />
echo </span><span class="default">array_push_associative</span><span class="keyword">(</span><span class="default">$theArray</span><span class="keyword">, </span><span class="default">$items</span><span class="keyword">, </span><span class="default">$moreitems</span><span class="keyword">) . </span><span class="string">' items added to $theArray.'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57945""></a>
  <div class="note">
   <strong class="user">john</strong>
   <a href="#57945" class="date">19-Oct-2005 01:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A variation of kamprettos' associative array push:<br />
<br />
// append associative array elements<br />
function associative_push($arr, $tmp) {<br />
&nbsp; if (is_array($tmp)) {<br />
&nbsp;&nbsp;&nbsp; foreach ($tmp as $key =&gt; $value) { <br />
&nbsp;&nbsp; &nbsp;&nbsp; $arr[$key] = $value;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $arr;<br />
&nbsp; }<br />
&nbsp; return false;<br />
}<br />
<br />
$theArray = array();<br />
$theArray = associative_push($theArray, $items);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56913""></a>
  <div class="note">
   <strong class="user">kamprettos at yahoo dot com Teguh Iskanto</strong>
   <a href="#56913" class="date">19-Sep-2005 05:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Looking for a way to push data into an associative array and frustrated to know that array_push() can't do the job ? <br />
<br />
here's my Scenario : <br />
-------------------<br />
I need to relate system command output into an associative array like these :<br />
<br />
[sge@digital_db work]$ /usr/local/apache/htdocs/work/qhost.sh -h t1 -F | awk '{if(NR&gt;4) print $1}' | sed&nbsp; 's/hl://g' <br />
arch=lx24-amd64<br />
num_proc=2.000000<br />
mem_total=3.808G<br />
swap_total=3.907G<br />
virtual_total=7.715G<br />
load_avg=0.000000<br />
load_short=0.000000<br />
load_medium=0.000000<br />
load_long=0.000000<br />
mem_free=3.510G<br />
swap_free=3.907G<br />
virtual_free=7.417G<br />
mem_used=305.242M<br />
swap_used=0.000<br />
virtual_used=305.242M<br />
cpu=0.000000<br />
np_load_avg=0.000000<br />
np_load_short=0.000000<br />
np_load_medium=0.000000<br />
np_load_long=0.000000<br />
<br />
how I did it :<br />
&lt;? php<br />
<br />
# get into the system command output <br />
$assoc_cmd =`$work_dir/qhost.sh -h $host_resource -F | awk '{if(NR&gt;4) print $1}'| sed&nbsp; 's/hl://g' ` ;<br />
<br />
# split the "\n" character <br />
$assoc_row = explode("\n", chop($assoc_cmd));<br />
<br />
# get the index row <br />
$idx_row&nbsp; = count($assoc_row) - 1 ;<br />
<br />
# initialize the associative array <br />
$host_res_array = array();<br />
<br />
for ($i = 0 ; $i&lt;= $idx_row ; $i++) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # get params &amp; values <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; list($host_param,$host_val) = explode("=",$assoc_row[$i]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # populate / push data to assoc array <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $host_res_array[$host_param]= $host_val ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
<br />
echo "&lt;pre&gt; Architecture : &lt;/pre&gt;\n" ;<br />
echo $host_res_array['arch'] ;<br />
echo "&lt;pre&gt; Mem Total&nbsp; &nbsp; : &lt;/pre&gt;\n" ;<br />
echo $host_res_array['mem_tot'];<br />
<br />
?&gt;<br />
<br />
Hope this helps ! :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56479""></a>
  <div class="note">
   <strong class="user">bk at quicknet dot nl</strong>
   <a href="#56479" class="date">04-Sep-2005 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Add elements to an array before or after a specific index or key:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* @return array<br />
&nbsp;* @param array $src<br />
&nbsp;* @param array $in<br />
&nbsp;* @param int|string $pos<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_push_before</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$pos</span><span class="keyword">)) </span><span class="default">$R</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">), </span><span class="default">$in</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$src </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$k</span><span class="keyword">==</span><span class="default">$pos</span><span class="keyword">)</span><span class="default">$R</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$R</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }return </span><span class="default">$R</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* @return array<br />
&nbsp;* @param array $src<br />
&nbsp;* @param array $in<br />
&nbsp;* @param int|string $pos<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_push_after</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$pos</span><span class="keyword">)) </span><span class="default">$R</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">), </span><span class="default">$in</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$src </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$k</span><span class="keyword">==</span><span class="default">$pos</span><span class="keyword">)</span><span class="default">$R</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$R</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }return </span><span class="default">$R</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Examples:<br />
<br />
</span><span class="default">$src</span><span class="keyword">=array(</span><span class="string">"A"</span><span class="keyword">,</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">"C"</span><span class="keyword">);<br />
</span><span class="default">$in</span><span class="keyword">=array(</span><span class="string">"X"</span><span class="keyword">,</span><span class="string">"Y"</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_before</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_before, no-key array<br />
array(5) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; [3]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; [4]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_after</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_after, no-key array<br />
array(5) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; [3]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; [4]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">$src</span><span class="keyword">=array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">"A"</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">'c'</span><span class="keyword">=&gt;</span><span class="string">"C"</span><span class="keyword">);<br />
</span><span class="default">$in</span><span class="keyword">=array(</span><span class="string">'x'</span><span class="keyword">=&gt;</span><span class="string">"X"</span><span class="keyword">,</span><span class="string">'y'</span><span class="keyword">=&gt;</span><span class="string">"Y"</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_before</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_before, key array, before index insert<br />
array(5) {<br />
&nbsp; ["a"]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; ["x"]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; ["y"]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; ["b"]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; ["c"]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_before</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_before, key array, before key insert<br />
array(5) {<br />
&nbsp; ["a"]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; ["x"]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; ["y"]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; ["b"]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; ["c"]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_after</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_after, key array, after index insert<br />
array(5) {<br />
&nbsp; ["a"]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; ["b"]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; ["x"]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; ["y"]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; ["c"]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_push_after</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$in</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">));<br />
</span><span class="comment">/* array_push_after, key array, after key insert<br />
array(5) {<br />
&nbsp; ["a"]=&gt;<br />
&nbsp; string(1) "A"<br />
&nbsp; ["b"]=&gt;<br />
&nbsp; string(1) "B"<br />
&nbsp; ["x"]=&gt;<br />
&nbsp; string(1) "X"<br />
&nbsp; ["y"]=&gt;<br />
&nbsp; string(1) "Y"<br />
&nbsp; ["c"]=&gt;<br />
&nbsp; string(1) "C"<br />
}*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56330""></a>
  <div class="note">
   <strong class="user">ciprian dot amariei at gmail  com</strong>
   <a href="#56330" class="date">30-Aug-2005 02:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
regarding the speed of oneill's solution to insert a value into a non-associative array,&nbsp; I've done some tests and I found that it behaves well if you have a small array and more insertions, but for a huge array and a little insersions I sugest&nbsp; using this function:<br />
<br />
function array_insert( &amp;$array, $index, $value ) {<br />
&nbsp;&nbsp; $cnt = count($array);<br />
&nbsp;<br />
&nbsp;&nbsp; for( $i = $cnt-1; $i &gt;= $index; --$i ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; $array[ $i + 1 ] = $array[ $i ];<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; $array[$index] = $value;<br />
}<br />
<br />
or if you are a speed adicted programmer (same situation: big array, few insertions) use this:<br />
<br />
array_splice ( $array, $offset, 0, $item );<br />
<br />
item may also be an array of values ;).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54861""></a>
  <div class="note">
   <strong class="user">Phil Davies</strong>
   <a href="#54861" class="date">18-Jul-2005 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As someone pointed out the array_push() function returns the count of the array not the key of the new element. As it was the latter function i required i wrote this very simple replacement.<br />
<br />
function array_push2(&amp;$array,$object,$key=null){<br />
&nbsp;&nbsp;&nbsp; $keys = array_keys($array);<br />
&nbsp;&nbsp;&nbsp; rsort($keys);<br />
&nbsp;&nbsp;&nbsp; $newkey = ($key==null)?$keys[0]+1:$key;<br />
&nbsp;&nbsp;&nbsp; $array[$newkey] = $object;<br />
&nbsp;&nbsp;&nbsp; return $newkey;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53507""></a>
  <div class="note">
   <strong class="user">oneill at c dot dk</strong>
   <a href="#53507" class="date">03-Jun-2005 01:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To insert a value into a non-associative array, I find this simple function does the trick:<br />
<br />
function insert_in_array_pos($array, $pos, $value)<br />
{<br />
&nbsp; $result = array_merge(array_slice($array, 0 , $pos), array($value), array_slice($array,&nbsp; $pos));<br />
&nbsp; return $result;<br />
}<br />
<br />
Seems an awful lot simpler than the iterative solutions given above...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53289""></a>
  <div class="note">
   <strong class="user">aaron dot hawley at uvm dot edu</strong>
   <a href="#53289" class="date">27-May-2005 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Skylifter notes on 20-Jan-2004 that the [] empty bracket notation does not return the array count as array_push does.&nbsp; There's another difference between array_push and the recommended empty bracket notation.<br />
<br />
Empy bracket doesn't check if a variable is an array first as array_push does.&nbsp; If array_push finds that a variable isn't an array it prints a Warning message if E_ALL error reporting is on.<br />
<br />
So array_push is safer than [], until further this is changed by the PHP developers.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49984""></a>
  <div class="note">
   <strong class="user">josh at digitalfruition dot com</strong>
   <a href="#49984" class="date">14-Feb-2005 10:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that array_push() will, as described, return the COUNT of the array after adding a new item, not necessarily the INDEX of that new item:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="string">'five'</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"\$array = "</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
echo </span><span class="string">"\n\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">$to_push </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,);<br />
foreach(</span><span class="default">$to_push </span><span class="keyword">as </span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"calling array_push(\$array,</span><span class="default">$var</span><span class="string">); retval is "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"\$array = "</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The output of above is:<br />
<br />
$array = Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; three<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; five<br />
)<br />
<br />
calling array_push($array,1); retval is 4<br />
calling array_push($array,2); retval is 5<br />
calling array_push($array,4); retval is 6<br />
$array = Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; three<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; five<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; seven<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; 4<br />
)<br />
<br />
Notice how when array_push($array,1) was called, the new element has a key of 8 but array_push() returns 4.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49609""></a>
  <div class="note">
   <strong class="user">andrew at cgipro dot com</strong>
   <a href="#49609" class="date">02-Feb-2005 03:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Need a real one-liner for adding an element onto a new array name?<br />
<br />
$emp_list_bic = $emp_list + array(c=&gt;"ANY CLIENT");<br />
<br />
CONTEXT...<br />
drewdeal: this turns out to be better and easier than array_push()<br />
patelbhadresh: great!... so u discover new idea...<br />
drewdeal: because you can't do:&nbsp;&nbsp; $emp_list_bic = array_push($emp_list, c=&gt;"ANY CLIENT");<br />
drewdeal: array_push returns a count and affects current array.. and does not support set keys!<br />
drewdeal: yeah. My one-liner makes a new array as a derivative of the prior array</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40172""></a>
  <div class="note">
   <strong class="user">aron</strong>
   <a href="#40172" class="date">24-Feb-2004 02:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The problem with array_push is that it is pass by value.&nbsp; If you are dealing with objects whose inner state may change at any time, you need a push and pop who return the actual objects, rather than copies of them.&nbsp; <br />
After some difficulty and board assistance, I have these methods.&nbsp; I've tested them, and they seem to work fine.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">push</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, &amp;</span><span class="default">$object</span><span class="keyword">){&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[] =&amp; </span><span class="default">$object</span><span class="keyword">;&nbsp; &nbsp; <br />
}<br />
function &amp; </span><span class="default">pop</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// [Test Code]<br />
</span><span class="keyword">class </span><span class="default">TestObject</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$value </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getValue</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">setValue</span><span class="keyword">(</span><span class="default">$mixed</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$mixed</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$myarr </span><span class="keyword">= array();<br />
</span><span class="default">$tmp </span><span class="keyword">=&amp; new </span><span class="default">TestObject</span><span class="keyword">();<br />
</span><span class="default">$tmp2 </span><span class="keyword">=&amp; new </span><span class="default">TestObject</span><span class="keyword">();<br />
</span><span class="default">$tmp</span><span class="keyword">-&gt;</span><span class="default">setValue</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">$tmp2</span><span class="keyword">-&gt;</span><span class="default">setValue</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">);<br />
<br />
</span><span class="default">push</span><span class="keyword">(</span><span class="default">$myarr</span><span class="keyword">, </span><span class="default">$tmp</span><span class="keyword">);<br />
</span><span class="default">push</span><span class="keyword">(</span><span class="default">$myarr</span><span class="keyword">, </span><span class="default">$tmp2</span><span class="keyword">);<br />
</span><span class="default">$tmp</span><span class="keyword">-&gt;</span><span class="default">setValue</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">$tmp2</span><span class="keyword">-&gt;</span><span class="default">setValue</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">$val </span><span class="keyword">= </span><span class="default">pop</span><span class="keyword">(</span><span class="default">$myarr</span><span class="keyword">);<br />
print </span><span class="string">"popped value: "</span><span class="keyword">.</span><span class="default">$val</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">().</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
<br />
print </span><span class="string">"values in internal array: &lt;br /&gt;"</span><span class="keyword">;<br />
foreach (</span><span class="default">$myarr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"key: </span><span class="default">$key</span><span class="string">, object: </span><span class="default">$value</span><span class="string">, value: "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; print&nbsp; </span><span class="default">$value</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">().</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// [/TestCode]<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39209""></a>
  <div class="note">
   <strong class="user">skiflyer</strong>
   <a href="#39209" class="date">20-Jan-2004 04:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
However, don't forget that array_push() does more than [], it also performs a count and returns the value.<br />
<br />
Modifying your code ever so slightly (see below), this puts array_push in the lead (not suprisingly).&nbsp; So my conclusion would be that if I care about the number of elements in the array, then I'd use array_push(), if I don't (which is usually the case), then I'd use the [] method.<br />
<br />
Results...<br />
[] method: 0.34943199<br />
push method: 0.31505919<br />
difference: -0.03437280<br />
<br />
Modified section of code...<br />
$s_test_begin = FullMicroTime();<br />
for($i = 0; $i &lt;= 50000; $i++) { $num_tot = array_push($test2, $i); }<br />
$s_test_end = FullMicroTime();<br />
<br />
$f_test_begin = FullMicroTime();<br />
for($i = 0; $i &lt;= 50000; $i++) { $test[] = $i; $num_tot = count($test); }<br />
$f_test_end = FullMicroTime();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29539""></a>
  <div class="note">
   <strong class="user">daevid at daevid dot com</strong>
   <a href="#29539" class="date">16-Feb-2003 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sadly, array_push() does not create an array if the array doesn't exist.&nbsp; So if you're pushing the first element onto an array, you need to check and create it manually...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">) ) </span><span class="default">$myArray</span><span class="keyword">= array();<br />
</span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">, </span><span class="default">$myElement</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15702""></a>
  <div class="note">
   <strong class="user">bart at framers dot nl</strong>
   <a href="#15702" class="date">27-Sep-2001 04:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array_push also works fine with multidimensional arrays. Just make sure the element is defined as an array first.<br />
<br />
<span class="default">&lt;?php<br />
$array</span><span class="keyword">[</span><span class="string">"element"</span><span class="keyword">][</span><span class="default">$element</span><span class="keyword">][</span><span class="string">"element"</span><span class="keyword">] = array();<br />
</span><span class="default">array_push </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="string">"element"</span><span class="keyword">][</span><span class="default">$element</span><span class="keyword">][</span><span class="string">"element"</span><span class="keyword">], </span><span class="string">"banana"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-product.html">array_product</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-rand.html">array_rand</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
