<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Pick one or more random entries out of an array</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-push.html">array_push</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-reduce.html">array_reduce</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-rand" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_rand</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_rand</span> &mdash; <span class="dc-title">Pick one or more random entries out of an array</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-rand-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>array_rand</b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter">$input</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$num_req</tt><span class="initializer"> = 1</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Picks one or more random entries out of an array, and returns the
   key (or keys) of the random entries.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.array-rand-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">input</tt></i></span>
     <dd>

      <p class="para">
       The input array.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">num_req</tt></i></span>
     <dd>

      <p class="para">
       Specifies how many entries you want to pick. Trying to pick more
       elements than there are in the array will result in an
       <b><tt>E_WARNING</tt></b> level error.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-rand-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   If you are picking only one entry, <span class="function"><b>array_rand()</b></span>
   returns the key for a random entry. Otherwise, it returns an array
   of keys for the random entries. This is done so that you can pick
   random keys as well as values out of the array.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.array-rand-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.2.10</td>
       <td align="left">
        The resulting array of keys is no longer shuffled.
       </td>
      </tr>

      <tr valign="middle"><td align="left">4.2.0</td><td align="left">The random
number generator is seeded automatically.</td></tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-rand-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4519">
    <p><b>Example #1 <span class="function"><b>array_rand()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"Neo"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Morpheus"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Trinity"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Cypher"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Tank"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$rand_keys&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">$rand_keys</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">$rand_keys</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-rand-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.shuffle.html" class="function" rel="rdfs-seeAlso">shuffle()</a> - Shuffle an array</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105265""></a>
  <div class="note">
   <strong class="user">Sebmil</strong>
   <a href="#105265" class="date">05-Aug-2011 12:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Looks like this function has a strange randomness.<br />
<br />
If you take any number of elements in an array which has 40..100 elements, the 31st one is always by far the less occuring (by about 10% less than others).<br />
<br />
I tried this piece of code at home (PHP Version 5.3.2-1ubuntu4.9) and on my server (PHP Version 5.2.17), unfortunately i haven't any server with the last version here :<br />
<br />
<span class="default">&lt;?php<br />
$valeurs </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">);<br />
</span><span class="default">$proba </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tirage_tab </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$valeurs</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$tirage_tab </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$proba</span><span class="keyword">[</span><span class="default">$valeurs</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">]]++;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">asort</span><span class="keyword">(</span><span class="default">$proba</span><span class="keyword">);<br />
echo </span><span class="string">"Proba : &lt;br/&gt;\n"</span><span class="keyword">;<br />
foreach(</span><span class="default">$proba </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$key</span><span class="string"> : </span><span class="default">$value</span><span class="string">&lt;br/&gt;\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
In every try, the number of occurrences change a bit but the 31 is always far less (around 2200) than the others (2400-2600). I tried with 50 and 100 elements, no change. I tried with more or less elements to pick (second parameter to array_rand), same result. If you pick only one element it's even worse : 31 has half the result of the others.<br />
<br />
For this particular case, i recommend shuffling the array and taking the nth first elements, in this test it's 60% faster and the statistics are ok.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98436""></a>
  <div class="note">
   <strong class="user">zenko</strong>
   <a href="#98436" class="date">15-Jun-2010 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
unset() seem to me to be a better way to have a unique key in the generated result.<br />
Taking 1 from $i can last very long if you generate a long password (try with 20 chars) because array_rand can always "choose" a key which has already been used.<br />
<span class="default">&lt;?php<br />
<br />
$my_array </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">, </span><span class="string">"e"</span><span class="keyword">, </span><span class="string">"f"</span><span class="keyword">, </span><span class="string">"g"</span><span class="keyword">, </span><span class="string">"h"</span><span class="keyword">, </span><span class="string">"i"</span><span class="keyword">, </span><span class="string">"j"</span><span class="keyword">, </span><span class="string">"k"</span><span class="keyword">, </span><span class="string">"l"</span><span class="keyword">, </span><span class="string">"m"</span><span class="keyword">, </span><span class="string">"n"</span><span class="keyword">, </span><span class="string">"o"</span><span class="keyword">, </span><span class="string">"p"</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">, </span><span class="string">"5"</span><span class="keyword">);<br />
</span><span class="default">$parola </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">15</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Generates the random number from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$random </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Echo the count number and the random number called from array_rand<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // and print the array to see the last random char has been deleted<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">'&lt;br /&gt; count ' </span><span class="keyword">. </span><span class="default">$i </span><span class="keyword">. </span><span class="string">' =&gt; ' </span><span class="keyword">. </span><span class="default">$random </span><span class="keyword">. </span><span class="string">' call&lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add the char to parola...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parola </span><span class="keyword">.= </span><span class="default">$my_array</span><span class="keyword">[</span><span class="default">$random</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// ...then unset the char from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$my_array</span><span class="keyword">[</span><span class="default">$random</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Echo the result<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">'&lt;br /&gt;&lt;br /&gt; Parola generated : ' </span><span class="keyword">. </span><span class="default">$parola</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93834""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#93834" class="date">02-Oct-2009 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the array elements are unique, and are all integers or strings, here is a simple way to pick $n random *values* (not keys) from an array $array:<br />
<br />
<span class="default">&lt;?php array_rand</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$n</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89159""></a>
  <div class="note">
   <strong class="user">darren(at)ironworks-crawley(do)co(do)uk</strong>
   <a href="#89159" class="date">24-Feb-2009 07:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
adapted from herodesh's code, <br />
will pull a number of unique from arrays.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$my_array </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">, </span><span class="string">"e"</span><span class="keyword">, </span><span class="string">"f"</span><span class="keyword">, </span><span class="string">"g"</span><span class="keyword">, </span><span class="string">"h"</span><span class="keyword">, </span><span class="string">"i"</span><span class="keyword">, </span><span class="string">"j"</span><span class="keyword">, </span><span class="string">"k"</span><span class="keyword">, </span><span class="string">"l"</span><span class="keyword">, </span><span class="string">"m"</span><span class="keyword">, </span><span class="string">"n"</span><span class="keyword">, </span><span class="string">"o"</span><span class="keyword">, </span><span class="string">"p"</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">, </span><span class="string">"5"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">10</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$random </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//this generates the random number from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;br&gt; count </span><span class="default">$i</span><span class="string"> &lt;br&gt; </span><span class="default">$random</span><span class="string"> call"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// echo the count number and the random number called from array_rand<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$check</span><span class="keyword">[</span><span class="default">$random</span><span class="keyword">]&lt;&gt;</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">--;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"ed already try again"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if check array isnt = 0 then the random number has been already called re random by taking 1 from $i to ensure correct number of results<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$check</span><span class="keyword">[</span><span class="default">$random</span><span class="keyword">]=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// set check to 1 so it knows the array number has been used<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parola </span><span class="keyword">.= </span><span class="default">$my_array</span><span class="keyword">[</span><span class="default">$random</span><span class="keyword">];}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//here we will display the exact charachter from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;br&gt; </span><span class="default">$parola</span><span class="string">"</span><span class="keyword">; </span><span class="comment">// printing result<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">?&gt;<br />
</span>//delete as required<br />
This is my first php script or code or adaption (so be kind),As its most likely bad coding. i have been looking at using php to pull and display random pictures to display on the website not pulling the same picture twice. work obviously required.changing contents of $my_array to "&lt;img src="bla-bla1.jpg&gt;"<br />
Basically it just calls an array_rand as in herodesh's code, but uses a second "fake" array to flag true or false (1 or null) to compare if it has been called prior. changing $check[$random]=1 to $check[$random]++1 and if ($check[$random]&lt;&gt;0) to if ($check[$random]&lt;2) obviously changes the number of times it allows the same array to be called randomly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87882""></a>
  <div class="note">
   <strong class="user">info at pavliga dot com</strong>
   <a href="#87882" class="date">28-Dec-2008 01:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want get unique range:<br />
<br />
<span class="default">&lt;?php<br />
$n </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">;<br />
<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">);<br />
</span><span class="default">$rand </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">$n</span><span class="keyword">);<br />
<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
echo </span><span class="default">$rand</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87657""></a>
  <div class="note">
   <strong class="user">admin at jeremyzaretski dot com</strong>
   <a href="#87657" class="date">15-Dec-2008 08:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// a foreach friendly version of array_rand<br />
</span><span class="keyword">function </span><span class="default">Select_Random_Indices</span><span class="keyword">(</span><span class="default">$source_array</span><span class="keyword">, </span><span class="default">$count </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$count </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$source_array</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$source_array</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// using the above function to pick random values instead of entries<br />
</span><span class="keyword">function </span><span class="default">Select_Random_Entries</span><span class="keyword">(</span><span class="default">$source_array</span><span class="keyword">, </span><span class="default">$count </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$index_array </span><span class="keyword">= </span><span class="default">Select_Random_Indices</span><span class="keyword">(</span><span class="default">$source_array</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$index_array </span><span class="keyword">as </span><span class="default">$index</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = </span><span class="default">$source_array</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83526""></a>
  <div class="note">
   <strong class="user">MadeGlobal</strong>
   <a href="#83526" class="date">30-May-2008 03:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A problem exists with the array_pick function suggested by adrian.quark - if the function only has to remove one item from the array (e.g. original array has five entries and you want it to return four), you get a problem with the different behavior of array_rand when the parameter is 1<br />
<br />
Fixed implementation:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_pick</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">);<br />
&nbsp; if (</span><span class="default">$num </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) return array();<br />
&nbsp; if (</span><span class="default">$num </span><span class="keyword">&gt;= </span><span class="default">$count</span><span class="keyword">) return </span><span class="default">$hash</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$required </span><span class="keyword">= </span><span class="default">$count </span><span class="keyword">- </span><span class="default">$num</span><span class="keyword">;<br />
&nbsp; if (</span><span class="default">$required </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {&nbsp;&nbsp; </span><span class="comment">//array rand returns the KEY if there is only one item requested so...<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= array(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">$required</span><span class="keyword">));<br />
&nbsp; } else <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">$required</span><span class="keyword">);<br />
&nbsp; foreach (</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">) unset(</span><span class="default">$hash</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; return </span><span class="default">$hash</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80223""></a>
  <div class="note">
   <strong class="user">adrian.quark at alchemysystems dot com</strong>
   <a href="#80223" class="date">04-Jan-2008 10:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to pick a random fixed-size subset of an array without changing the order. It's possible to be slightly faster in some cases if you know the array keys are numeric or if you're only picking a few elements, but this is a good general implementation.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Pick $num elements from $array at random, preserving order and keys.<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_pick</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$num </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) return array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$num </span><span class="keyword">&gt;= </span><span class="default">$count</span><span class="keyword">) return </span><span class="default">$hash</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">$count </span><span class="keyword">- </span><span class="default">$num</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">) unset(</span><span class="default">$hash</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$hash</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77594""></a>
  <div class="note">
   <strong class="user">herodesh [-at_] gmail [-dot-] com</strong>
   <a href="#77594" class="date">05-Sep-2007 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is to generate a random selection from an array with array_rand preety nice, can be used to generate random passwords or anything:<br />
<br />
$my_array = array("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "0", "1", "2", "3", "4", "5");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($i=0; $i&lt;=10; $i++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $random = array_rand($my_array);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //this generates the random number from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $parola .= $my_array[$random];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //here we will display the exact charachter from the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $parola; // printing result</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75690""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#75690" class="date">11-Jun-2007 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To add to asp at cyberlin dot eu's comment. Not only will it return NULL but it will also trigger a warning, and not only if the number of elements requested is too large to be satisfied by the array but also if it is zero. The warning message sums the situation up: "Second argument has to be between 1 and the number of elements [inclusive] in the array".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74477""></a>
  <div class="note">
   <strong class="user">asp at cyberlin dot eu</strong>
   <a href="#74477" class="date">13-Apr-2007 01:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_rand() is very useful, but note:<br />
<br />
In the case that the count of the array is smaller then the optional parameter 'num_req', it will return an empty array (or string).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74406""></a>
  <div class="note">
   <strong class="user">Reinoud Elhorst</strong>
   <a href="#74406" class="date">10-Apr-2007 03:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that (at least in PHP 4.3.11), while each key from the source array has a equal chance of being picked, the order in which they are returned is NOT random. In an array with keys from one to 10, where 2 random keys are picked, 0 is picked as the first number 18.8% of the time, and only as second number in 1.1% of the time:<br />
<br />
$n=100000;<br />
$a=array(1,2,3,4,5,6,7,8,9,10);<br />
$b=array();<br />
for($i=0;$i&lt;sizeof($a);$i++) {<br />
&nbsp; $b[$i]=array(0,0);<br />
}<br />
for($i=0;$i&lt;$n;$i++) {<br />
&nbsp; $keys=array_rand($a,2);<br />
&nbsp; $b[$keys[0]][0]++;<br />
&nbsp; $b[$keys[1]][1]++;<br />
}<br />
for ($i=0;$i&lt;sizeof($b);$i++){<br />
&nbsp; printf("%d: %04.1f%% %04.1f%% %04.1f%%", $i, ($b[$i][0]/$n*100),($b[$i][1]/$n*100),($b[$i][0]+$b[$i][1])/$n*100);<br />
}<br />
<br />
The result is:<br />
0: 18.8% 01.1% 19.9%<br />
1: 17.0% 03.3% 20.3%<br />
2: 14.3% 05.7% 20.0%<br />
3: 12.2% 07.9% 20.1%<br />
4: 10.0% 10.0% 20.0%<br />
5: 07.8% 12.0% 19.8%<br />
6: 05.5% 14.5% 20.0%<br />
7: 03.3% 16.6% 19.9%<br />
8: 01.2% 18.9% 20.1%<br />
9: 10.0% 09.9% 19.9%<br />
<br />
The workaround is adding a shuffle command to shuffle the keys:<br />
<br />
0: 10.0% 10.0% 20.0%<br />
1: 10.0% 10.0% 20.0%<br />
2: 10.0% 10.0% 20.0%<br />
3: 10.0% 10.0% 20.0%<br />
4: 10.0% 10.0% 20.0%<br />
5: 10.0% 10.0% 20.0%<br />
6: 10.1% 10.0% 20.1%<br />
7: 10.0% 10.0% 20.0%<br />
8: 10.0% 10.0% 20.0%<br />
9: 10.0% 10.0% 20.0%</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72660""></a>
  <div class="note">
   <strong class="user">Sven Arduwie</strong>
   <a href="#72660" class="date">28-Jan-2007 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my array_mt_rand function.<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_mt_rand</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$numberOfKeys </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$numberOfKeys</span><span class="keyword">)) throw new </span><span class="default">Exception</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$numberOfKeys </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) throw new </span><span class="default">Exception</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$maximum </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$numberOfKeys </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$maximum</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randomKeys </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$numberOfKeys</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randomKeys</span><span class="keyword">[] = </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$maximum</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$randomKeys</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71519""></a>
  <div class="note">
   <strong class="user">Frederick Lemasson aka djassper at gmail</strong>
   <a href="#71519" class="date">04-Dec-2006 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To select a random Value (not a Key) from a Multi-Dimentionnal array I made a recursive function : array_multi_rand()<br />
<br />
the following exemple randomly selects an url from a multidimentionnal array :<br />
<br />
&lt;?<br />
<br />
$Expos['Google']['Science']='news.google.fr/news?topic=t';<br />
$Expos['Google']['Economie']='news.google.fr/news?topic=b';<br />
$Expos['Google']['Sante']='news.google.fr/news?topic=m';<br />
$Expos['Yahoo']='fr.news.yahoo.com';<br />
$Expos['Events']['LogicielLibre']='agendadulibre.org';<br />
$Expos['MyBlog']='www.kik-it.com';<br />
<br />
function array_multi_rand($Zoo){<br />
&nbsp;&nbsp;&nbsp; $Boo=array_rand($Zoo);<br />
&nbsp;&nbsp;&nbsp; if(is_array($Zoo[$Boo])){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array_multi_rand($Zoo[$Boo]);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $Zoo[$Boo];<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo(array_multi_rand($Expos));<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71369""></a>
  <div class="note">
   <strong class="user">jan at planetromeo dot com</strong>
   <a href="#71369" class="date">24-Nov-2006 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Instead of using the horrible slow<br />
<br />
select * from some_table order by rand() limit 1;<br />
<br />
have a look at this more performant solution from<br />
<a href="http://jan.kneschke.de/projects/mysql/order-by-rand/" rel="nofollow" target="_blank">http://jan.kneschke.de/projects/mysql/order-by-rand/</a><br />
<br />
SELECT * FROM some_table AS r1<br />
JOIN (SELECT ROUND(RAND() * (SELECT MAX(id) FROM some_table)) AS id) AS r2<br />
WHERE r1.id &gt;= r2.id <br />
ORDER BY r1.id ASC <br />
LIMIT 1;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71081""></a>
  <div class="note">
   <strong class="user">alec</strong>
   <a href="#71081" class="date">10-Nov-2006 05:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
select * from some_table order by rand() limit 1;<br />
<br />
is extremely slow for large tables. large as in a a few thousand entries.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69424""></a>
  <div class="note">
   <strong class="user">dbrooks at icarusstudios dot com</strong>
   <a href="#69424" class="date">05-Sep-2006 02:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Instead of looping through all the rows selected to pick a random one, let the server do the work for you:<br />
<br />
select * from some_table order by rand() limit 1;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69382""></a>
  <div class="note">
   <strong class="user">JS</strong>
   <a href="#69382" class="date">04-Sep-2006 03:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted to write something that picks a random entry from a 1column-MySQL database - simply Post Of The Moment (potm). I know there surly are many better ways to do it, but I`m rather new to PHP :)&nbsp; Anyway, it`s simple and no-problem working code. <br />
Of course I assume your DB exists and you always have something in it.<br />
<br />
@$link = MySQL_Connect("localhost", "username", "password"); //connect to mysql<br />
mySQL_Select_DB("database"); //..to DB<br />
@$potms = MySQL_Query("SELECT * FROM potm"); //now we get all from our table and store it<br />
MySQL_Close($link); //there`s no need for connection, so we should close it<br />
<br />
$potm_array = ''; //sets variables to "zero" values<br />
$i = 0;<br />
while ($entry = MySQL_Fetch_Array($potms)) //now we go through our DB<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $potm_array[$i] = $entry; //our temporary array from which we will random pick a field key<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $i++; //now we increment our field key<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
<br />
$potm_id = array_rand($potw_array); //picks a random key from array<br />
$potm = $potm_array[$potm_id]['name_of_the_field']; //now we have stored our Post Of The Moment in $potm<br />
<br />
..hope this helps</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69290""></a>
  <div class="note">
   <strong class="user">mark at rugbyweb dot org</strong>
   <a href="#69290" class="date">30-Aug-2006 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was setting up a rotating add banner and was trying to find a way to go about it using an auto_increment id from the database, so I wrote this little script:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">require </span><span class="string">"mysql.php"</span><span class="keyword">;<br />
global </span><span class="default">$c</span><span class="keyword">;<br />
print </span><span class="string">"&lt;center&gt;"</span><span class="keyword">;<br />
</span><span class="default">$qq</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT adID FROM ads WHERE adCLICKS&lt;=adMAX"</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">) or die (</span><span class="default">mysql_error</span><span class="keyword">().</span><span class="string">"&lt;br&gt;Error, please report this error quoting #QAB"</span><span class="keyword">);<br />
while(</span><span class="default">$q</span><span class="keyword">=</span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$qq</span><span class="keyword">))<br />
{<br />
</span><span class="default">$ad1</span><span class="keyword">[</span><span class="default">$q</span><span class="keyword">[</span><span class="string">'adID'</span><span class="keyword">]]++; </span><span class="comment">//Used an array and inserted the database query results into it.<br />
</span><span class="keyword">}<br />
</span><span class="default">$ad</span><span class="keyword">=</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$ad1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">); </span><span class="comment">//Did a random array function and then used it in the query below.<br />
</span><span class="default">$er</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT * FROM ads WHERE adID='</span><span class="default">$ad</span><span class="string">'"</span><span class="keyword">) or die (</span><span class="default">mysql_error</span><span class="keyword">().</span><span class="string">"&lt;br&gt;Error, please report this error quoting #QAB3"</span><span class="keyword">);<br />
if(!</span><span class="default">mysql_num_rows</span><span class="keyword">(</span><span class="default">$er</span><span class="keyword">))<br />
{<br />
print </span><span class="string">"&lt;A href='advertise.php'&gt;Place an ad here!&lt;/a&gt;"</span><span class="keyword">;<br />
exit;<br />
}<br />
</span><span class="default">$r</span><span class="keyword">=</span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$er</span><span class="keyword">);<br />
print </span><span class="string">"&lt;a href='adsout.php?ID=</span><span class="keyword">{</span><span class="default">$r</span><span class="keyword">[</span><span class="string">'adID'</span><span class="keyword">]}</span><span class="string">&amp;BLOCK=1'&gt;&lt;img src='</span><span class="keyword">{</span><span class="default">$r</span><span class="keyword">[</span><span class="string">'adAD'</span><span class="keyword">]}</span><span class="string">' alt='</span><span class="keyword">{</span><span class="default">$r</span><span class="keyword">[</span><span class="string">'adNAME'</span><span class="keyword">]}</span><span class="string">' height='60' width='468'&gt;&lt;/a&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67974""></a>
  <div class="note">
   <strong class="user">dragonfly at dragonflyeye dot net</strong>
   <a href="#67974" class="date">07-Jul-2006 01:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Well, I came up with a workaround for my earlier problem.&nbsp; For those of you who might need to shuffle around multi-dimensional arrays (I used this to randomize a list of headlines from a MySQL database query), here's what I did to get the desired output:<br />
<br />
$subs = //my query went here<br />
$shfl = array_rand($subs, 5);<br />
$shsubs = array();<br />
for ($x=0; $x&lt;count($shfl); $x++) {<br />
&nbsp;&nbsp;&nbsp; $shsubs[] = $subs[$shfl[$x]];<br />
}<br />
<br />
There may in fact be a much easier way to do this, but this is what I came up with and its working!<br />
<br />
Thanks to everyone that makes php.net the invaluable tool for us nooobies!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67951""></a>
  <div class="note">
   <strong class="user">dragonfly at dragonflyeye dot net</strong>
   <a href="#67951" class="date">07-Jul-2006 07:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Well, this is interesting.&nbsp;&nbsp; I don't see anyone else commenting on this, so just in case you were planning to use this function like I was, be prepared: array_rand does not handle multidimensional arrays.&nbsp; It just ends up returning a list of the X-axis values without the Y-axis arrays.&nbsp; Bummer.&nbsp; I'm going to have to find another way to do what I wanted.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67848""></a>
  <div class="note">
   <strong class="user">steve at webcommons dot biz</strong>
   <a href="#67848" class="date">05-Jul-2006 02:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Following are functions for getting a random key or value (or array of random keys or values) from a filtered array.&nbsp; In other words, given an array of data, these functions filter out what you don't want, then extract a random element or bunch from what's left.<br />
<br />
$CallBack is the filtering function.&nbsp; <br />
<br />
&nbsp; // Utility function for functions below<br />
&nbsp; function GetRandomArrayValue($TheArray) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return $TheArray[array_rand($TheArray)];<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; <br />
&nbsp; // Get a random key or array of keys from a filtered array<br />
&nbsp; function GetRandomFilteredArrayKeys($aInput, $CallBack = NULL, $NumReq = 1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $FilteredKeys = array_keys(array_filter($aInput, $CallBack));<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; if ($NumReq &lt;= 1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return GetRandomArrayValue($FilteredKeys);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; shuffle($FilteredKeys);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array_slice($FilteredKeys, 0, $NumReq);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; // Get a random value or array of values from a filtered array<br />
&nbsp; function GetRandomFilteredArrayValues($aInput, $CallBack = NULL, $NumReq = 1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $aFiltered = array_filter($aInput, $CallBack);<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; if ($NumReq &lt;= 1) {&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $aFiltered[GetRandomArrayValue(array_keys($aFiltered))];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; shuffle($aFiltered);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array_slice($aFiltered, 0, $NumReq);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63238""></a>
  <div class="note">
   <strong class="user">trukin at gmail dot com</strong>
   <a href="#63238" class="date">16-Mar-2006 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Modify of last note:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'array_rand'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$lim</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">mt_srand</span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$a</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$a</span><span class="keyword">&lt;=</span><span class="default">$lim</span><span class="keyword">; </span><span class="default">$a</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num</span><span class="keyword">[] = </span><span class="default">mt_srand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return @</span><span class="default">$num</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
mt_rand generates a better random number, and with the limit.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63093""></a>
  <div class="note">
   <strong class="user">emailfire at gmail dot com</strong>
   <a href="#63093" class="date">13-Mar-2006 01:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'array_rand'</span><span class="keyword">)) {<br />
function </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
</span><span class="default">srand</span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">);<br />
return </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br />
}<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60281""></a>
  <div class="note">
   <strong class="user">Will-ster</strong>
   <a href="#60281" class="date">01-Jan-2006 04:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is something I have been playing with for quite awhile. I'm very new to php, but i finally got it to work. it's a function that will take and array[$arrquo] and find a particular keyword[$find] in the different elements of the array then take those elements that posess that keyword and display them at random <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">popbyword</span><span class="keyword">(</span><span class="default">$arrquo</span><span class="keyword">,</span><span class="default">$find</span><span class="keyword">)<br />
{<br />
</span><span class="default">$newarr </span><span class="keyword">= array(</span><span class="string">''</span><span class="keyword">);<br />
&nbsp;foreach(</span><span class="default">$arrquo </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">)<br />
&nbsp;{<br />
&nbsp; if( </span><span class="default">strstr</span><span class="keyword">( </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$find </span><span class="keyword">) )<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$newarr</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp; }<br />
&nbsp;}&nbsp; &nbsp; <br />
</span><span class="default">srand</span><span class="keyword">((double)</span><span class="default">microtime</span><span class="keyword">()*</span><span class="default">1000000</span><span class="keyword">);<br />
</span><span class="default">$rquote </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$newarr</span><span class="keyword">);<br />
echo </span><span class="default">$newarr</span><span class="keyword">[</span><span class="default">$rquote</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">popbyword</span><span class="keyword">(</span><span class="default">$images</span><span class="keyword">, </span><span class="string">'Albert'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
In my case I had this huge array of quotes with 90 some elements. I was able to find certain keywords in those elements then ONLY display the elements that had those keywords. NEAT! Maybe only because I'm new.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60268""></a>
  <div class="note">
   <strong class="user">farooqym at ieee dot org</strong>
   <a href="#60268" class="date">01-Jan-2006 02:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's an algorithm to make a weighted selection of an item from an array. <br />
Say we have an array $items with keys as items and values as corresponding weights.<br />
For example:<br />
<span class="default">&lt;?php<br />
$items </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">item1 </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">item2 </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">item3 </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">,<br />
);<br />
</span><span class="default">?&gt;<br />
</span>i.e. we want to choose item1 25% of the time, item2 33.3% of the time and item3 41.6% of the time.<br />
Here's a function that works when the weights are positive integers:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_rand_weighted</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$values </span><span class="keyword">as </span><span class="default">$item </span><span class="keyword">=&gt; </span><span class="default">$weight</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if&nbsp; (</span><span class="default">$r </span><span class="keyword">&lt;= </span><span class="default">$weight</span><span class="keyword">) return </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">-= </span><span class="default">$weight</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56291""></a>
  <div class="note">
   <strong class="user">bjcffnet at gmail dot com</strong>
   <a href="#56291" class="date">29-Aug-2005 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As wazaawazaa600 at msn dot com pointed out, a multi-dimensional array doesn't work with this function. So, I hope I can help someone with this :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Returns a number of random elements from an array.<br />
&nbsp;*<br />
&nbsp;* It returns the number (specified in $limit) of elements from<br />
&nbsp;* $array. The elements are returned in a random order, exactly<br />
&nbsp;* as it was passed to the function. (So, it's safe for multi-<br />
&nbsp;* dimensional arrays, aswell as array's where you need to keep<br />
&nbsp;* the keys)<br />
&nbsp;*<br />
&nbsp;* @author Brendan Caffrey&nbsp; &lt;bjcffnet at gmail dot com&gt;<br />
&nbsp;* @param&nbsp; array&nbsp; $array&nbsp; The array to return the elements from<br />
&nbsp;* @param&nbsp; int&nbsp; &nbsp; $limit&nbsp; The number of elements to return from<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the array<br />
&nbsp;* @return array&nbsp; The randomized array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_rand_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= @</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Sanity checks<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$limit </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">|| !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) || </span><span class="default">$limit </span><span class="keyword">&gt; </span><span class="default">$count</span><span class="keyword">) return array();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$count </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) return </span><span class="default">$array</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Loop through and get the random numbers<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$limit</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rand </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Can't have double randoms, right?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">while (isset(</span><span class="default">$rands</span><span class="keyword">[</span><span class="default">$rand</span><span class="keyword">])) </span><span class="default">$rand </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rands</span><span class="keyword">[</span><span class="default">$rand</span><span class="keyword">] = </span><span class="default">$rand</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$curr </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$rands</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// I think it's better to return the elements in a random<br />
&nbsp;&nbsp;&nbsp; // order, which is why I'm not just using a foreach loop to<br />
&nbsp;&nbsp;&nbsp; // loop through the random numbers<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">while (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">) != </span><span class="default">$limit</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cur </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$cur </span><span class="keyword">== </span><span class="default">$curr</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Next...<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$curr </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">$rands</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cur</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53901""></a>
  <div class="note">
   <strong class="user">alexkropivko at(dog) yandex dot ru</strong>
   <a href="#53901" class="date">16-Jun-2005 06:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There was a mistake at "Paul Hodel (paul at ue dot com dot br) 17-Apr-2003 04:40":<br />
String <br />
echo $new_input = $input[$v];<br />
<br />
have to be:<br />
echo $new_input[] = $input[$v];</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50891""></a>
  <div class="note">
   <strong class="user">maxnamara at yahoo dot com</strong>
   <a href="#50891" class="date">13-Mar-2005 03:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php <br />
$input </span><span class="keyword">= array(</span><span class="string">"Neo"</span><span class="keyword">, </span><span class="string">"Morpheus"</span><span class="keyword">, </span><span class="string">"Trinity"</span><span class="keyword">, </span><span class="string">"Cypher"</span><span class="keyword">, </span><span class="string">"Tank"</span><span class="keyword">); <br />
<br />
function </span><span class="default">my_array_rand</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">){<br />
</span><span class="default">srand</span><span class="keyword">((float) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">10000000</span><span class="keyword">); <br />
<br />
</span><span class="default">$rand_keys </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">); <br />
<br />
</span><span class="comment">/*<br />
print $input[$rand_keys[0]] . "\n"; <br />
print $input[$rand_keys[1]] . "\n"; <br />
*/<br />
<br />
</span><span class="default">$res </span><span class="keyword">= array();<br />
<br />
if(</span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">){<br />
<br />
for(</span><span class="default">$a</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$a</span><span class="keyword">&lt;</span><span class="default">$i</span><span class="keyword">;</span><span class="default">$a</span><span class="keyword">++){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$rand_keys</span><span class="keyword">[</span><span class="default">$a</span><span class="keyword">]];<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
}<br />
else{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$rand_keys</span><span class="keyword">];&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
return </span><span class="default">$res</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">my_array_rand</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45176""></a>
  <div class="note">
   <strong class="user">yhoko at yhoko dot com</strong>
   <a href="#45176" class="date">27-Aug-2004 06:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
According to office at at universalmetropolis dot com I have to say that the example is wrong.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="comment">// retrieve one of the options at random from the array <br />
</span><span class="default">$teamcolours </span><span class="keyword">= </span><span class="default">$teamcolours</span><span class="keyword">[</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$teamcolours</span><span class="keyword">))]; <br />
</span><span class="default">?&gt;</span> <br />
<br />
The count() function will return the number of items in the array, that's the last index + 1. So if there's 2 items in the array, count() will return 2 but the indices are 0 and 1. Now since rand(x,y) randomizes between x and y inclusively the index from the above example may be out of bounds. Thus you have to subtract 1 from the count:<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Get random item<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$teamcolours </span><span class="keyword">= </span><span class="default">$teamcolours</span><span class="keyword">[</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$teamcolours</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)]; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40587""></a>
  <div class="note">
   <strong class="user">leighm at linuxbandwagon dot com leigh morresi</strong>
   <a href="#40587" class="date">08-Mar-2004 07:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another array based password generator, this one is a port from the python mailman version.<br />
<br />
this generates slightly predictable but human readable passwords that people can remember<br />
output passwords are for example "rikanumi"<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// port of mailman version<br />
</span><span class="keyword">function </span><span class="default">MakeRandomPassword</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">) {<br />
</span><span class="default">$_vowels </span><span class="keyword">= array (</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'i'</span><span class="keyword">, </span><span class="string">'o'</span><span class="keyword">, </span><span class="string">'u'</span><span class="keyword">);&nbsp; &nbsp; <br />
</span><span class="default">$_consonants </span><span class="keyword">= array (</span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'f'</span><span class="keyword">, </span><span class="string">'g'</span><span class="keyword">, </span><span class="string">'h'</span><span class="keyword">, </span><span class="string">'k'</span><span class="keyword">, </span><span class="string">'m'</span><span class="keyword">, </span><span class="string">'n'</span><span class="keyword">,</span><span class="string">'p'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">, </span><span class="string">'s'</span><span class="keyword">, </span><span class="string">'t'</span><span class="keyword">, </span><span class="string">'v'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">, </span><span class="string">'x'</span><span class="keyword">, </span><span class="string">'z'</span><span class="keyword">);&nbsp; &nbsp; <br />
</span><span class="default">$_syllables </span><span class="keyword">= array ();&nbsp; &nbsp; <br />
foreach (</span><span class="default">$_vowels </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$_consonants </span><span class="keyword">as </span><span class="default">$c</span><span class="keyword">) {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$_syllables</span><span class="keyword">,</span><span class="string">"</span><span class="default">$c$v</span><span class="string">"</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$_syllables</span><span class="keyword">,</span><span class="string">"</span><span class="default">$v$c</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
for ( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=(</span><span class="default">$length</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newpass</span><span class="keyword">=</span><span class="default">$newpass</span><span class="keyword">.</span><span class="default">$_syllables</span><span class="keyword">[</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$_syllables</span><span class="keyword">) ];<br />
<br />
return </span><span class="default">$newpass</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40513""></a>
  <div class="note">
   <strong class="user">tim dot meader at gsfc dot nasa dot gov</strong>
   <a href="#40513" class="date">05-Mar-2004 06:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just thought I would contribute a password generation function <br />
that uses array_rand. I wrote this because I <br />
could not find anywhere a PHP equivalent of the ability <br />
that the String::Random module in Perl has, which allows <br />
you to specify a schema for how you want the random <br />
string created. In other words: I want 2 Uppercase, 3 <br />
lowercase, 2 intergers...etc.&nbsp; This isn't too comprehensive, <br />
notably it doesn't account for one choosing more itterations<br />
&nbsp;of a particular type than there are in the array (ie - <br />
choosing more than 10 numbers from output). Additionally, <br />
this doesn't allow for any repeated characters. Hope it can <br />
be of use... comments appreciated.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">doGeneratePasswords</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // lowercase L left out for clarity //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achLowercase </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">,</span><span class="string">"b"</span><span class="keyword">,</span><span class="string">"c"</span><span class="keyword">,</span><span class="string">"d"</span><span class="keyword">,</span><span class="string">"e"</span><span class="keyword">,</span><span class="string">"f"</span><span class="keyword">,</span><span class="string">"g"</span><span class="keyword">,</span><span class="string">"h"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"i"</span><span class="keyword">,</span><span class="string">"j"</span><span class="keyword">,</span><span class="string">"k"</span><span class="keyword">,</span><span class="string">"m"</span><span class="keyword">,</span><span class="string">"n"</span><span class="keyword">,</span><span class="string">"o"</span><span class="keyword">,</span><span class="string">"p"</span><span class="keyword">,</span><span class="string">"q"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"r"</span><span class="keyword">,</span><span class="string">"s"</span><span class="keyword">,</span><span class="string">"t"</span><span class="keyword">,</span><span class="string">"u"</span><span class="keyword">,</span><span class="string">"v"</span><span class="keyword">,</span><span class="string">"w"</span><span class="keyword">,</span><span class="string">"x"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"y"</span><span class="keyword">,</span><span class="string">"z"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iNumLowercase </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$l_achLowercase</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">////////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // uppercase I and O left out for clarity //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ////////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achUppercase </span><span class="keyword">= array(</span><span class="string">"A"</span><span class="keyword">,</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">"C"</span><span class="keyword">,</span><span class="string">"D"</span><span class="keyword">,</span><span class="string">"E"</span><span class="keyword">,</span><span class="string">"F"</span><span class="keyword">,</span><span class="string">"G"</span><span class="keyword">,</span><span class="string">"H"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"J"</span><span class="keyword">,</span><span class="string">"K"</span><span class="keyword">,</span><span class="string">"L"</span><span class="keyword">,</span><span class="string">"M"</span><span class="keyword">,</span><span class="string">"N"</span><span class="keyword">,</span><span class="string">"P"</span><span class="keyword">,</span><span class="string">"Q"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"R"</span><span class="keyword">,</span><span class="string">"S"</span><span class="keyword">,</span><span class="string">"T"</span><span class="keyword">,</span><span class="string">"U"</span><span class="keyword">,</span><span class="string">"V"</span><span class="keyword">,</span><span class="string">"W"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"X"</span><span class="keyword">,</span><span class="string">"Y"</span><span class="keyword">,</span><span class="string">"Z"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iNumUppercase </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$l_achUppercase</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_aiNumbers </span><span class="keyword">= array(</span><span class="string">"1"</span><span class="keyword">,</span><span class="string">"2"</span><span class="keyword">,</span><span class="string">"3"</span><span class="keyword">,</span><span class="string">"4"</span><span class="keyword">,</span><span class="string">"5"</span><span class="keyword">,</span><span class="string">"6"</span><span class="keyword">,</span><span class="string">"7"</span><span class="keyword">,</span><span class="string">"8"</span><span class="keyword">,</span><span class="string">"9"</span><span class="keyword">,</span><span class="string">"0"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iNumNumbers </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$l_aiNumbers</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achSpecialChars </span><span class="keyword">= array(</span><span class="string">"!"</span><span class="keyword">,</span><span class="string">"#"</span><span class="keyword">,</span><span class="string">"%"</span><span class="keyword">,</span><span class="string">"@"</span><span class="keyword">,</span><span class="string">"*"</span><span class="keyword">,</span><span class="string">"&amp;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iNumSpecialChars </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$l_achSpecialChars</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">///////////////////////////////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Make sure to create enough blank spaces as you want passwords //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ///////////////////////////////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswds </span><span class="keyword">= array(</span><span class="string">""</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Hopefully these are self explanatory //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //////////////////////////////////////////<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswdSchemes </span><span class="keyword">= array(</span><span class="string">"SLUUSLNN"</span><span class="keyword">,</span><span class="string">"LSUNLLNU"</span><span class="keyword">,</span><span class="string">"NNUSLLSN"</span><span class="keyword">,</span><span class="string">"LNLSUNLU"</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iNumPasswds </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$l_astPasswdSchemes</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l_iNumPasswds</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_iSchemeLength </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$l_astPasswdSchemes</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achRandLowercase </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$l_achLowercase</span><span class="keyword">, </span><span class="default">$l_iNumLowercase</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achRandUppercase </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$l_achUppercase</span><span class="keyword">, </span><span class="default">$l_iNumUppercase</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_aiRandNumbers </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$l_aiNumbers</span><span class="keyword">, </span><span class="default">$l_iNumNumbers</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_achRandSpecialChars </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$l_achSpecialChars</span><span class="keyword">, </span><span class="default">$l_iNumSpecialChars</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$l_iSchemeLength</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_chCurrentOne </span><span class="keyword">= </span><span class="default">$l_astPasswdSchemes</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]{</span><span class="default">$j</span><span class="keyword">};<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$l_chCurrentOne</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">"L"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswds</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] .= </span><span class="default">$l_achLowercase</span><span class="keyword">[</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$l_achRandLowercase</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">"U"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswds</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] .= </span><span class="default">$l_achUppercase</span><span class="keyword">[</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$l_achRandUppercase</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">"N"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswds</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] .= </span><span class="default">$l_aiNumbers</span><span class="keyword">[</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$l_aiRandNumbers</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">"S"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l_astPasswds</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] .= </span><span class="default">$l_achSpecialChars</span><span class="keyword">[</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$l_achRandSpecialChars</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$l_astPasswds</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37078""></a>
  <div class="note">
   <strong class="user">jpinedo</strong>
   <a href="#37078" class="date">02-Nov-2003 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An array of arrays example:<br />
<br />
<span class="default">&lt;?php<br />
$banners</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'imagen'</span><span class="keyword">]=</span><span class="string">"imagen0.gif"</span><span class="keyword">;<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'url'</span><span class="keyword">]=</span><span class="string">"www.nosenada.tal"</span><span class="keyword">;<br />
<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'imagen'</span><span class="keyword">]=</span><span class="string">"imagen1.gif"</span><span class="keyword">;<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'url'</span><span class="keyword">]=</span><span class="string">"www.nose.tal"</span><span class="keyword">;<br />
<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'imagen'</span><span class="keyword">]=</span><span class="string">"imagen2.gif"</span><span class="keyword">;<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'url'</span><span class="keyword">]=</span><span class="string">"pagina.html"</span><span class="keyword">;<br />
<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="string">'imagen'</span><span class="keyword">]=</span><span class="string">"imagen3.jpg"</span><span class="keyword">;<br />
</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="string">'url'</span><span class="keyword">]=</span><span class="string">"../pagina.php"</span><span class="keyword">;<br />
<br />
</span><span class="default">$id_banner </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$banners</span><span class="keyword">);<br />
<br />
echo&nbsp; </span><span class="string">"Archivo:--"</span><span class="keyword">.</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">$id_banner</span><span class="keyword">][</span><span class="string">'imagen'</span><span class="keyword">]. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br />
echo&nbsp; </span><span class="string">"URL:-----"</span><span class="keyword">.</span><span class="default">$banners</span><span class="keyword">[</span><span class="default">$id_banner</span><span class="keyword">][</span><span class="string">'url'</span><span class="keyword">]. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36587""></a>
  <div class="note">
   <strong class="user">wazaawazaa600 at msn dot com</strong>
   <a href="#36587" class="date">15-Oct-2003 12:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function go well ever that you work with a simple array. An array of arrays (also called a table), not works with the function correctly. Example:<br />
<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=array(array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">),array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">),array(</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">),array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">),array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">));<br />
echo </span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];echo</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">$a</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];echo</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">$b</span><span class="keyword">=</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">$b</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];echo</span><span class="string">"&lt;br&gt;"</span><span class="keyword">; </span><span class="comment">//This writes nothing<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];echo</span><span class="string">"&lt;br&gt;"</span><span class="keyword">; </span><span class="comment">//This writes nothing<br />
</span><span class="default">?&gt;<br />
</span><br />
If you are in this situation, you will need to make your own solution.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33363""></a>
  <div class="note">
   <strong class="user">asarnoNOSPAM@interbaun DOT com</strong>
   <a href="#33363" class="date">23-Jun-2003 11:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is correct that using array_rand() with num_req=1 will return an integer and not an array, but why get so complicated with getting just the one value.&nbsp; The K.I.S.S. method would suggest to do it this way:<br />
<br />
&lt;?<br />
srand((double)microtime() * 10000000);<br />
$originalArray = array("red", "blue", "green", "brown", <br />
"cyan", "magenta", "purle", "cheezy");<br />
$pickOne = array_rand($originalArray, 1);<br />
$aRandomSelection = $originalArray[$pickOne ];<br />
echo "$aRandomSelection was the random selection made";<br />
?&gt;<br />
<br />
You only need to use the foreach if the num_req &gt;=2. In those cases the array_rand() function will return an array of random elements which are a subset of the original array.&nbsp; When num_req = 1, the array_rand() function returns an integer that signifies a randomly picked key of the original array.&nbsp; Hope this clarifies things ... it works for me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33012""></a>
  <div class="note">
   <strong class="user">c at aufbix dot org</strong>
   <a href="#33012" class="date">13-Jun-2003 01:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use array_rand with num_req=1, it will return an integer, and not an array as it would in all other circumstances. You can bypass that like this:<br />
<br />
<span class="default">&lt;?php<br />
$randelts</span><span class="keyword">=</span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$feeds</span><span class="keyword">,</span><span class="default">$num</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$randelts</span><span class="keyword">);</span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp; if (</span><span class="default">$num</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) {</span><span class="default">$subq</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]=</span><span class="default">$feeds</span><span class="keyword">[</span><span class="default">$randelts</span><span class="keyword">];}<br />
&nbsp; else {</span><span class="default">$subq</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]=</span><span class="default">$feeds</span><span class="keyword">[</span><span class="default">$randelts</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]]}<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31335""></a>
  <div class="note">
   <strong class="user">Paul Hodel (paul at ue dot com dot br)</strong>
   <a href="#31335" class="date">17-Apr-2003 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you trying to get a randon array just use that... it's easier! And you have no repeats...<br />
<br />
&lt;?<br />
<br />
srand ((float) microtime() * 10000000);<br />
<br />
$input = array ("Neo", "Morpheus", "Trinity", "Cypher", "Tank");<br />
<br />
$keys = array_rand ($input, sizeof($input));<br />
<br />
while (list($k, $v) = each($keys))<br />
{<br />
&nbsp;&nbsp;&nbsp; echo $new_input = $input[$v];<br />
}<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31203""></a>
  <div class="note">
   <strong class="user">scandar at home dot se</strong>
   <a href="#31203" class="date">13-Apr-2003 09:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the int num_req parameter is the required number of element to randomly select. So if your array has 3 element and num_req=4 then array_rand() will not return anything since it is impossible to select 4 random elements out of an array that only contains 3 elements. Many people think that they will get 3 elements returned but that is of course not the case.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27317""></a>
  <div class="note">
   <strong class="user">mickoz[at]parodius[dot]com</strong>
   <a href="#27317" class="date">01-Dec-2002 08:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of you thinking that it does not work for num_req = 1, it is because it return a variable and not an array.&nbsp; This mainly cause some problem with people using foreach.<br />
<br />
The correct way to handle this is explained by that example:<br />
<br />
<span class="default">&lt;?php<br />
$some_array </span><span class="keyword">= array(</span><span class="string">"blah"</span><span class="keyword">,</span><span class="string">"bleh"</span><span class="keyword">,</span><span class="string">"foo"</span><span class="keyword">,</span><span class="string">"lele"</span><span class="keyword">);<br />
<br />
</span><span class="default">$nb_value </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
</span><span class="default">srand </span><span class="keyword">((float) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">10000000</span><span class="keyword">);<br />
</span><span class="default">$rand_keys </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$some_array</span><span class="keyword">, </span><span class="default">$nb_value</span><span class="keyword">);<br />
<br />
if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$rand_keys</span><span class="keyword">))<br />
{<br />
&nbsp; </span><span class="default">$rand_keys </span><span class="keyword">= array(</span><span class="default">$rand_keys</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$rand_keys</span><span class="keyword">); </span><span class="comment">// verify here the array of keys<br />
</span><span class="keyword">echo </span><span class="string">"\n&lt;BR&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
// You can then correctly use the foreach, as it require an array to work<br />
// If you use foreach with one element, it won't work.<br />
<br />
<span class="default">&lt;?php<br />
$random_array </span><span class="keyword">= array();<br />
<br />
foreach(</span><span class="default">$rand_keys </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$random_array</span><span class="keyword">, </span><span class="default">$some_array</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">]);<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$random_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23565""></a>
  <div class="note">
   <strong class="user">dboy at jumpstation dot org</strong>
   <a href="#23565" class="date">22-Jul-2002 06:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you just want to pull one random element from an array, try something like this:<br />
<br />
<span class="default">&lt;?php<br />
mt_srand</span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">);<br />
</span><span class="default">$myarray </span><span class="keyword">= array(</span><span class="string">"this"</span><span class="keyword">, </span><span class="string">"is"</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"test"</span><span class="keyword">, </span><span class="string">"to"</span><span class="keyword">, </span><span class="string">"see"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"if"</span><span class="keyword">, </span><span class="string">"I"</span><span class="keyword">, </span><span class="string">"can"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"pull"</span><span class="keyword">, </span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"element"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"from"</span><span class="keyword">, </span><span class="string">"an"</span><span class="keyword">, </span><span class="string">"array"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"randomly"</span><span class="keyword">);<br />
</span><span class="default">$random_index </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Then to test the randomness or what have you try a simple:<br />
<br />
<span class="default">&lt;?php<br />
$string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">; </span><span class="comment">// Just to kill the warning<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$random_index </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">.= </span><span class="string">"</span><span class="default">$myarray</span><span class="keyword">[</span><span class="default">$random_index</span><span class="keyword">]</span><span class="string"> "</span><span class="keyword">;<br />
}<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
echo (</span><span class="default">$string</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
I've gotten extremely good output from this method and would recommend it if you're just pulling one element.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22360""></a>
  <div class="note">
   <strong class="user">josh at 3io dot com</strong>
   <a href="#22360" class="date">14-Jun-2002 03:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I modified fake_array_rand to always only return 1 element, and did some benchmarks against calling array_rand with the second parameter as 1.&nbsp; I ran 100 samples for each function for each number of elements and took the average result.&nbsp; While the internal array_rand is faster for a small number of elements, it scales very poorly.<br />
<br />
1 elements: 2.0619630813599E-05 sec. for array_rand,8.4352493286133E-05 sec. for fake_array_rand<br />
10 elements: 2.1675825119019E-05 sec. for array_rand,8.427619934082E-05 sec. for fake_array_rand<br />
100 elements: 2.9319524765015E-05 sec. for array_rand,8.4599256515503E-05 sec. for fake_array_rand<br />
1000 elements: 0.0001157283782959 sec. for array_rand,8.5572004318237E-05 sec. for fake_array_rand<br />
10000 elements: 0.0016669762134552 sec. for array_rand,8.5201263427734E-05 sec. for fake_array_rand<br />
100000 elements: 0.015599734783173 sec. for array_rand,8.5580348968506E-05 sec. for fake_array_rand<br />
1000000 elements: 0.18011983394623 sec. for array_rand,8.6690187454224E-05 sec. for fake_array_rand<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fake_array_rand </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) <br />
{ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Help keep the number generator random :) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randval </span><span class="keyword">and </span><span class="default">usleep </span><span class="keyword">(</span><span class="string">"0.</span><span class="default">$randval</span><span class="string">"</span><span class="keyword">); <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Seed the random number generator <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # Generate a random number <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">srand </span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">10000000</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randval </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(); <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Use the random value to 'pick' an entry from the array <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # Count the number of times that the entry is picked<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">++</span><span class="default">$index</span><span class="keyword">[</span><span class="default">$randval </span><span class="keyword">% </span><span class="default">$count</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$randval </span><span class="keyword">% </span><span class="default">$count</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13909""></a>
  <div class="note">
   <strong class="user">uvm at sun dot he dot net</strong>
   <a href="#13909" class="date">09-Jul-2001 06:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're just trying to draw a random subset of n elements from an array, it seems more effecient to do something like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">draw_rand_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$draws</span><span class="keyword">)<br />
{ <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lastIndex </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$returnArr </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$draws </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rndIndex </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$lastIndex</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$returnArr</span><span class="keyword">,</span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$rndIndex</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$draws</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lastIndex</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$returnArr</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
No messing with indexes when you're done... you just have an array with the elements you're looking for in it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-push.html">array_push</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-reduce.html">array_reduce</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
