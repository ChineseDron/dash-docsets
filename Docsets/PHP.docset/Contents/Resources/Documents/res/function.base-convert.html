<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Convert a number between arbitrary bases</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.atanh.html">atanh</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.bindec.html">bindec</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.base-convert" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">base_convert</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">base_convert</span> &mdash; <span class="dc-title">Convert a number between arbitrary bases</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.base-convert-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type">string</span> <span class="methodname"><b>base_convert</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$number</tt></span>
    , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$frombase</tt></span>
    , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$tobase</tt></span>
    )</div>

  <p class="para rdfs-comment">
   Returns a string containing <i><tt class="parameter">number</tt></i>
   represented in base <i><tt class="parameter">tobase</tt></i>.  The base in
   which <i><tt class="parameter">number</tt></i> is given is specified in
   <i><tt class="parameter">frombase</tt></i>.  Both
   <i><tt class="parameter">frombase</tt></i> and <i><tt class="parameter">tobase</tt></i>
   have to be between 2 and 36, inclusive.  Digits in numbers with a
   base higher than 10 will be represented with the letters a-z,
   with a meaning 10, b meaning 11 and z meaning 35.
  </p>
  <div class="warning"><b class="warning">Warning</b>
   <p class="simpara">
    <span class="function"><b>base_convert()</b></span> may lose precision on large numbers
    due to properties related to the internal &quot;double&quot; or &quot;float&quot; type used.
    Please see the <a href="language.types.float.html" class="link">Floating point numbers</a>
    section in the manual for more specific information and limitations.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.base-convert-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">number</tt></i></span>
     <dd>

      <p class="para">
       The number to convert
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">frombase</tt></i></span>
     <dd>

      <p class="para">
       The base <i><tt class="parameter">number</tt></i> is in
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">tobase</tt></i></span>
     <dd>

      <p class="para">
       The base to convert <i><tt class="parameter">number</tt></i> to
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.base-convert-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   <i><tt class="parameter">number</tt></i> converted to base <i><tt class="parameter">tobase</tt></i>
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.base-convert-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3173">
    <p><b>Example #1 <span class="function"><b>base_convert()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$hexadecimal&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'A37334'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">base_convert</span><span style="color: #007700">(</span><span style="color: #0000BB">$hexadecimal</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">16</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
101000110111001100110100
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.base-convert-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.intval.html" class="function" rel="rdfs-seeAlso">intval()</a> - Get the integer value of a variable</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107253""></a>
  <div class="note">
   <strong class="user">Vlado Nenov</strong>
   <a href="#107253" class="date">24-Jan-2012 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For bigger numbers, base_convert() returns wired numbers, use some of the functions from the comments until it is fixed. <br />
<br />
Test your PHP version with the following code:<br />
<br />
$code_1 = "F255I000000";<br />
$binary_1 = base_convert($code_1, 31, 2);<br />
echo "code 1: $code_1\n";<br />
echo "code 2: ".base_convert($binary_1, 2, 31);<br />
<br />
if code 1 and code 2 are the same, then everything is OK...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106546""></a>
  <div class="note">
   <strong class="user">PHPCoder at niconet2k dot com</strong>
   <a href="#106546" class="date">17-Nov-2011 10:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Convert an arbitrarily large number from any base to any base.<br />
<br />
string convBase(string $numberInput, string $fromBaseInput, string $toBaseInput)<br />
$numberInput number to convert as a string<br />
$fromBaseInput base of the number to convert as a string<br />
$toBaseInput base the number should be converted to as a string<br />
examples for $fromBaseInput and $toBaseInput<br />
'0123456789ABCDEF' for Hexadecimal (Base16)<br />
'0123456789' for Decimal (Base10)<br />
'01234567' for Octal (Base8)<br />
'01' for Binary (Base2) <br />
You can really put in whatever you want and the first character is the 0.<br />
Examples:<br />
<br />
<span class="default">&lt;?php <br />
convBase</span><span class="keyword">(</span><span class="string">'123'</span><span class="keyword">, </span><span class="string">'0123456789'</span><span class="keyword">, </span><span class="string">'01234567'</span><span class="keyword">); <br />
</span><span class="comment">//Convert '123' from decimal (base10) to octal (base8).<br />
//result: 173<br />
<br />
</span><span class="default">convBase</span><span class="keyword">(</span><span class="string">'70B1D707EAC2EDF4C6389F440C7294B51FFF57BB'</span><span class="keyword">, </span><span class="string">'0123456789ABCDEF'</span><span class="keyword">, </span><span class="string">'01'</span><span class="keyword">);<br />
</span><span class="comment">//Convert '70B1D707EAC2EDF4C6389F440C7294B51FFF57BB' from hexadecimal (base16) to binary (base2).<br />
//result: <br />
//111000010110001110101110000011111101010110000101110<br />
//110111110100110001100011100010011111010001000000110<br />
//001110010100101001011010100011111111111110101011110<br />
//111011<br />
<br />
</span><span class="default">convBase</span><span class="keyword">(</span><span class="string">'1324523453243154324542341524315432113200203012'</span><span class="keyword">, </span><span class="string">'012345'</span><span class="keyword">, </span><span class="string">'0123456789ABCDEF'</span><span class="keyword">);<br />
</span><span class="comment">//Convert '1324523453243154324542341524315432113200203012' from senary (base6) to hexadecimal (base16).<br />
//result: 1F9881BAD10454A8C23A838EF00F50<br />
<br />
</span><span class="default">convBase</span><span class="keyword">(</span><span class="string">'355927353784509896715106760'</span><span class="keyword">,</span><span class="string">'0123456789'</span><span class="keyword">,</span><span class="string">'Christopher'</span><span class="keyword">);<br />
</span><span class="comment">//Convert '355927353784509896715106760' from decimal (base10) to undecimal (base11) using "Christopher" as the numbers.<br />
//result: iihtspiphoeCrCeshhorsrrtrh<br />
<br />
</span><span class="default">convBase</span><span class="keyword">(</span><span class="string">'1C238Ab97132aAC84B72'</span><span class="keyword">,</span><span class="string">'0123456789aAbBcCdD'</span><span class="keyword">, </span><span class="string">'~!@#$%^&amp;*()'</span><span class="keyword">);<br />
</span><span class="comment">//Convert'1C238Ab97132aAC84B72' from octodecimal (base18) using '0123456789aAbBcCdD' as the numbers to undecimal (base11) using '~!@#$%^&amp;*()' as the numbers.<br />
//result: !%~!!*&amp;!~^!!&amp;(&amp;!~^@#@@@&amp;<br />
<br />
</span><span class="keyword">function </span><span class="default">convBase</span><span class="keyword">(</span><span class="default">$numberInput</span><span class="keyword">, </span><span class="default">$fromBaseInput</span><span class="keyword">, </span><span class="default">$toBaseInput</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$fromBaseInput</span><span class="keyword">==</span><span class="default">$toBaseInput</span><span class="keyword">) return </span><span class="default">$numberInput</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fromBase </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$fromBaseInput</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$toBase </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$toBaseInput</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$numberInput</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fromLen</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$fromBaseInput</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$toLen</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$toBaseInput</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberLen</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$numberInput</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$toBaseInput </span><span class="keyword">== </span><span class="string">'0123456789'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$numberLen</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="default">bcadd</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">, </span><span class="default">bcmul</span><span class="keyword">(</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">], </span><span class="default">$fromBase</span><span class="keyword">),</span><span class="default">bcpow</span><span class="keyword">(</span><span class="default">$fromLen</span><span class="keyword">,</span><span class="default">$numberLen</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$fromBaseInput </span><span class="keyword">!= </span><span class="string">'0123456789'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$base10</span><span class="keyword">=</span><span class="default">convBase</span><span class="keyword">(</span><span class="default">$numberInput</span><span class="keyword">, </span><span class="default">$fromBaseInput</span><span class="keyword">, </span><span class="string">'0123456789'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$base10 </span><span class="keyword">= </span><span class="default">$numberInput</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$base10</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$toBaseInput</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$toBase</span><span class="keyword">[</span><span class="default">$base10</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$base10 </span><span class="keyword">!= </span><span class="string">'0'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="default">$toBase</span><span class="keyword">[</span><span class="default">bcmod</span><span class="keyword">(</span><span class="default">$base10</span><span class="keyword">,</span><span class="default">$toLen</span><span class="keyword">)].</span><span class="default">$retval</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$base10 </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$base10</span><span class="keyword">,</span><span class="default">$toLen</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retval</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105990""></a>
  <div class="note">
   <strong class="user">bpds</strong>
   <a href="#105990" class="date">30-Sep-2011 05:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple function to convert an int to any base.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">intToAlphaBaseN</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$baseArray</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$l</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$baseArray</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$n </span><span class="keyword">&gt;= </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">=&nbsp; </span><span class="default">$baseArray</span><span class="keyword">[(</span><span class="default">$n </span><span class="keyword">% </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">) / </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">))].</span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">-= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$alpha</span><span class="keyword">=array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'f'</span><span class="keyword">, </span><span class="string">'g'</span><span class="keyword">, </span><span class="string">'h'</span><span class="keyword">, </span><span class="string">'i'</span><span class="keyword">, </span><span class="string">'j'</span><span class="keyword">, </span><span class="string">'k'</span><span class="keyword">, </span><span class="string">'l'</span><span class="keyword">, </span><span class="string">'m'</span><span class="keyword">, </span><span class="string">'n'</span><span class="keyword">, </span><span class="string">'o'</span><span class="keyword">, </span><span class="string">'p'</span><span class="keyword">, </span><span class="string">'q'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">, </span><span class="string">'s'</span><span class="keyword">, </span><span class="string">'t'</span><span class="keyword">, </span><span class="string">'u'</span><span class="keyword">, </span><span class="string">'v'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">, </span><span class="string">'x'</span><span class="keyword">, </span><span class="string">'y'</span><span class="keyword">, </span><span class="string">'z'</span><span class="keyword">);<br />
</span><span class="default">$r</span><span class="keyword">=</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">99999999999</span><span class="keyword">);<br />
echo(</span><span class="default">intToAlphaBaseN</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">,</span><span class="default">$alpha</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105414""></a>
  <div class="note">
   <strong class="user">JR</strong>
   <a href="#105414" class="date">16-Aug-2011 04:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Short arabic2roman conveter:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rome</span><span class="keyword">(</span><span class="default">$N</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">=</span><span class="string">'IVXLCDM'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$a</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">=</span><span class="default">$s</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;</span><span class="default">$N</span><span class="keyword">;</span><span class="default">$b</span><span class="keyword">++,</span><span class="default">$a</span><span class="keyword">^=</span><span class="default">7</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$o</span><span class="keyword">=</span><span class="default">$N</span><span class="keyword">%</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$N</span><span class="keyword">=</span><span class="default">$N</span><span class="keyword">/</span><span class="default">$a</span><span class="keyword">^</span><span class="default">0</span><span class="keyword">;</span><span class="default">$o</span><span class="keyword">--;</span><span class="default">$s</span><span class="keyword">=</span><span class="default">$c</span><span class="keyword">[</span><span class="default">$o</span><span class="keyword">&gt;</span><span class="default">2</span><span class="keyword">?</span><span class="default">$b</span><span class="keyword">+</span><span class="default">$N</span><span class="keyword">-(</span><span class="default">$N</span><span class="keyword">&amp;=-</span><span class="default">2</span><span class="keyword">)+</span><span class="default">$o</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">:</span><span class="default">$b</span><span class="keyword">].</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
And it works :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102232""></a>
  <div class="note">
   <strong class="user">bryan at bryanruiz dot com</strong>
   <a href="#102232" class="date">03-Feb-2011 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A RFC 4648 Compliant Base32 encode.&nbsp; Send me an email if you end up making this thing more efficient with bitwise operations and whatever else.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Encode in Base32 based on RFC 4648.<br />
&nbsp;* Requires 20% more space than base64&nbsp; <br />
&nbsp;* Great for case-insensitive filesystems like Windows and URL's&nbsp; (except for = char which can be excluded using the pad option for urls)<br />
&nbsp;*<br />
&nbsp;* @package default<br />
&nbsp;* @author Bryan Ruiz<br />
&nbsp;**/<br />
</span><span class="keyword">class </span><span class="default">Base32 </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp; private static </span><span class="default">$map </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">, </span><span class="string">'F'</span><span class="keyword">, </span><span class="string">'G'</span><span class="keyword">, </span><span class="string">'H'</span><span class="keyword">, </span><span class="comment">//&nbsp; 7<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'I'</span><span class="keyword">, </span><span class="string">'J'</span><span class="keyword">, </span><span class="string">'K'</span><span class="keyword">, </span><span class="string">'L'</span><span class="keyword">, </span><span class="string">'M'</span><span class="keyword">, </span><span class="string">'N'</span><span class="keyword">, </span><span class="string">'O'</span><span class="keyword">, </span><span class="string">'P'</span><span class="keyword">, </span><span class="comment">// 15<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Q'</span><span class="keyword">, </span><span class="string">'R'</span><span class="keyword">, </span><span class="string">'S'</span><span class="keyword">, </span><span class="string">'T'</span><span class="keyword">, </span><span class="string">'U'</span><span class="keyword">, </span><span class="string">'V'</span><span class="keyword">, </span><span class="string">'W'</span><span class="keyword">, </span><span class="string">'X'</span><span class="keyword">, </span><span class="comment">// 23<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Y'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="string">'3'</span><span class="keyword">, </span><span class="string">'4'</span><span class="keyword">, </span><span class="string">'5'</span><span class="keyword">, </span><span class="string">'6'</span><span class="keyword">, </span><span class="string">'7'</span><span class="keyword">, </span><span class="comment">// 31<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'='&nbsp; </span><span class="comment">// padding char<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; private static </span><span class="default">$flippedMap </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'A'</span><span class="keyword">=&gt;</span><span class="string">'0'</span><span class="keyword">, </span><span class="string">'B'</span><span class="keyword">=&gt;</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">=&gt;</span><span class="string">'2'</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">=&gt;</span><span class="string">'3'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">=&gt;</span><span class="string">'4'</span><span class="keyword">, </span><span class="string">'F'</span><span class="keyword">=&gt;</span><span class="string">'5'</span><span class="keyword">, </span><span class="string">'G'</span><span class="keyword">=&gt;</span><span class="string">'6'</span><span class="keyword">, </span><span class="string">'H'</span><span class="keyword">=&gt;</span><span class="string">'7'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'I'</span><span class="keyword">=&gt;</span><span class="string">'8'</span><span class="keyword">, </span><span class="string">'J'</span><span class="keyword">=&gt;</span><span class="string">'9'</span><span class="keyword">, </span><span class="string">'K'</span><span class="keyword">=&gt;</span><span class="string">'10'</span><span class="keyword">, </span><span class="string">'L'</span><span class="keyword">=&gt;</span><span class="string">'11'</span><span class="keyword">, </span><span class="string">'M'</span><span class="keyword">=&gt;</span><span class="string">'12'</span><span class="keyword">, </span><span class="string">'N'</span><span class="keyword">=&gt;</span><span class="string">'13'</span><span class="keyword">, </span><span class="string">'O'</span><span class="keyword">=&gt;</span><span class="string">'14'</span><span class="keyword">, </span><span class="string">'P'</span><span class="keyword">=&gt;</span><span class="string">'15'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Q'</span><span class="keyword">=&gt;</span><span class="string">'16'</span><span class="keyword">, </span><span class="string">'R'</span><span class="keyword">=&gt;</span><span class="string">'17'</span><span class="keyword">, </span><span class="string">'S'</span><span class="keyword">=&gt;</span><span class="string">'18'</span><span class="keyword">, </span><span class="string">'T'</span><span class="keyword">=&gt;</span><span class="string">'19'</span><span class="keyword">, </span><span class="string">'U'</span><span class="keyword">=&gt;</span><span class="string">'20'</span><span class="keyword">, </span><span class="string">'V'</span><span class="keyword">=&gt;</span><span class="string">'21'</span><span class="keyword">, </span><span class="string">'W'</span><span class="keyword">=&gt;</span><span class="string">'22'</span><span class="keyword">, </span><span class="string">'X'</span><span class="keyword">=&gt;</span><span class="string">'23'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Y'</span><span class="keyword">=&gt;</span><span class="string">'24'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">=&gt;</span><span class="string">'25'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">=&gt;</span><span class="string">'26'</span><span class="keyword">, </span><span class="string">'3'</span><span class="keyword">=&gt;</span><span class="string">'27'</span><span class="keyword">, </span><span class="string">'4'</span><span class="keyword">=&gt;</span><span class="string">'28'</span><span class="keyword">, </span><span class="string">'5'</span><span class="keyword">=&gt;</span><span class="string">'29'</span><span class="keyword">, </span><span class="string">'6'</span><span class="keyword">=&gt;</span><span class="string">'30'</span><span class="keyword">, </span><span class="string">'7'</span><span class="keyword">=&gt;</span><span class="string">'31'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; Use padding false when encoding for urls<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @return base32 encoded string<br />
&nbsp;&nbsp; &nbsp; * @author Bryan Ruiz<br />
&nbsp;&nbsp; &nbsp; **/<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public static function </span><span class="default">encode</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$padding </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty(</span><span class="default">$input</span><span class="keyword">)) return </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binaryString </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binaryString </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]), </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), </span><span class="default">8</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fiveBitBinaryArray </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$binaryString</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$base32 </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$fiveBitBinaryArray</span><span class="keyword">)) {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$base32 </span><span class="keyword">.= </span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$fiveBitBinaryArray</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">5</span><span class="keyword">,</span><span class="string">'0'</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$padding </span><span class="keyword">&amp;&amp; (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$binaryString</span><span class="keyword">) % </span><span class="default">40</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$x </span><span class="keyword">== </span><span class="default">8</span><span class="keyword">) </span><span class="default">$base32 </span><span class="keyword">.= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">], </span><span class="default">6</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$x </span><span class="keyword">== </span><span class="default">16</span><span class="keyword">) </span><span class="default">$base32 </span><span class="keyword">.= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">], </span><span class="default">4</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$x </span><span class="keyword">== </span><span class="default">24</span><span class="keyword">) </span><span class="default">$base32 </span><span class="keyword">.= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">], </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$x </span><span class="keyword">== </span><span class="default">32</span><span class="keyword">) </span><span class="default">$base32 </span><span class="keyword">.= </span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$base32</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">decode</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(empty(</span><span class="default">$input</span><span class="keyword">)) return;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$paddingCharCount </span><span class="keyword">= </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$allowedValues </span><span class="keyword">= array(</span><span class="default">6</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$paddingCharCount</span><span class="keyword">, </span><span class="default">$allowedValues</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">4</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){ <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$paddingCharCount </span><span class="keyword">== </span><span class="default">$allowedValues</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &amp;&amp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, -(</span><span class="default">$allowedValues</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) != </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">[</span><span class="default">32</span><span class="keyword">], </span><span class="default">$allowedValues</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'='</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binaryString </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">+</span><span class="default">8</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">self</span><span class="keyword">::</span><span class="default">$map</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(@</span><span class="default">self</span><span class="keyword">::</span><span class="default">$flippedMap</span><span class="keyword">[@</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$j</span><span class="keyword">]], </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), </span><span class="default">5</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$eightBits </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$z </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$z </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$eightBits</span><span class="keyword">); </span><span class="default">$z</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binaryString </span><span class="keyword">.= ( (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$eightBits</span><span class="keyword">[</span><span class="default">$z</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">))) || </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">) == </span><span class="default">48 </span><span class="keyword">) ? </span><span class="default">$y</span><span class="keyword">:</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$binaryString</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100069""></a>
  <div class="note">
   <strong class="user">francesco[at]paladinux.net</strong>
   <a href="#100069" class="date">23-Sep-2010 03:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
base convert is limited on standard base invented.<br />
In some case, if you want to invented some translate code (for authorizion code 4 example) , I hope is usefull this example of base_convert-AS from decimal in 65imal base for a speedCode.<br />
Some more specifical: you can transform using a db<br />
$speedCodeDEC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = $idAziendaMittente.$idAziendaDestinatario.$idDDT ;<br />
<br />
//$speedCodeDEC = 3000;<br />
<br />
//<br />
$BASECODE = array();<br />
$BASECODE['items'] = 65;<br />
$BASECODE[1]='1';<br />
$BASECODE[2]='2';<br />
$BASECODE[3]='3';<br />
$BASECODE[4]='4';<br />
....<br />
$BASECODE[10]='a';<br />
$BASECODE[11]='b';<br />
$BASECODE[12]='c';<br />
...<br />
$BASECODE[36]='A';<br />
$BASECODE[37]='B';<br />
$BASECODE[38]='C';<br />
...<br />
$BASECODE[61]='Z';<br />
$BASECODE[62]='/';<br />
$BASECODE[63]='-';<br />
$BASECODE[64]='+';<br />
//<br />
<br />
//print_r ($BASECODE);TEST<br />
<br />
function creaSpeedCode ( $speedCodeDEC,$partialCode="",$BASECODE){<br />
<br />
&nbsp;&nbsp;&nbsp; @$division&nbsp; &nbsp; &nbsp; = $speedCodeDEC/$BASECODE['items'];<br />
&nbsp;&nbsp;&nbsp; @$resultINT&nbsp;&nbsp; = floor($speedCodeDEC/$BASECODE['items']);<br />
&nbsp;&nbsp;&nbsp; @$remnant&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = $speedCodeDEC%$BASECODE['items'];<br />
&nbsp;&nbsp;&nbsp; $partialCode&nbsp; = $BASECODE[$remnant].$partialCode;<br />
echo "<br />
&nbsp;&nbsp;&nbsp; &lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; Inserito speedCodeDEC:$speedCodeDEC - partialCode:$partialCode&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; items&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ".$BASECODE['items']."&lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; division&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $division&nbsp; &nbsp; &lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; resultINT&nbsp; &nbsp; &nbsp; &nbsp; : $resultINT&nbsp; &nbsp; &lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; remnant&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $remnant&nbsp; &nbsp; &nbsp; &nbsp; &lt;br&gt;<br />
&nbsp;&nbsp;&nbsp; partialCode&nbsp; &nbsp; &nbsp; &nbsp; : $partialCode&nbsp; &nbsp; &lt;br&gt;<br />
";//TEST&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; if ($resultINT &gt; 65)&nbsp; &nbsp;&nbsp; $partialCode = creaSpeedCode($resultINT,$partialCode,$BASECODE);<br />
&nbsp;&nbsp;&nbsp; return $BASECODE[$resultINT].$partialCode;<br />
}<br />
echo $speedCodeDEC."&lt;br&gt;";<br />
echo $risultato = creaSpeedCode ( $speedCodeDEC,"",$BASECODE);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94874""></a>
  <div class="note">
   <strong class="user">Theriault</strong>
   <a href="#94874" class="date">30-Nov-2009 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you would like to convert numbers into just the uppercase alphabet base and vice-versa (e.g. the column names in a Microsoft Windows Excel sheet..A-Z, AA-ZZ, AAA-ZZZ, ...), the following functions will do this.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Converts an integer into the alphabet base (A-Z).<br />
&nbsp;*<br />
&nbsp;* @param int $n This is the number to convert.<br />
&nbsp;* @return string The converted number.<br />
&nbsp;* @author Theriault<br />
&nbsp;* <br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">num2alpha</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$n </span><span class="keyword">&gt;= </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">0x41 </span><span class="keyword">+ (</span><span class="default">$n </span><span class="keyword">% </span><span class="default">pow</span><span class="keyword">(</span><span class="default">26</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">) / </span><span class="default">pow</span><span class="keyword">(</span><span class="default">26</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">))) . </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">-= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">26</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
}<br />
</span><span class="comment">/**<br />
&nbsp;* Converts an alphabetic string into an integer.<br />
&nbsp;*<br />
&nbsp;* @param int $n This is the number to convert.<br />
&nbsp;* @return string The converted number.<br />
&nbsp;* @author Theriault<br />
&nbsp;* <br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">alpha2num</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">+= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">26</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">) * (</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$l </span><span class="keyword">- </span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">]) - </span><span class="default">0x40</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Microsoft Windows Excel stops at IV (255), but this function can handle much larger. However, English words will start to form after a while and some may be offensive, so be careful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92960""></a>
  <div class="note">
   <strong class="user">MFTM</strong>
   <a href="#92960" class="date">16-Aug-2009 11:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It might be a better function to deal with numbers over 9000. (even 10 millions)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">romanic_number</span><span class="keyword">(</span><span class="default">$integer</span><span class="keyword">, </span><span class="default">$upcase </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$table </span><span class="keyword">= array(</span><span class="string">'M'</span><span class="keyword">=&gt;</span><span class="default">1000</span><span class="keyword">, </span><span class="string">'CM'</span><span class="keyword">=&gt;</span><span class="default">900</span><span class="keyword">, </span><span class="string">'D'</span><span class="keyword">=&gt;</span><span class="default">500</span><span class="keyword">, </span><span class="string">'CD'</span><span class="keyword">=&gt;</span><span class="default">400</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">=&gt;</span><span class="default">100</span><span class="keyword">, </span><span class="string">'XC'</span><span class="keyword">=&gt;</span><span class="default">90</span><span class="keyword">, </span><span class="string">'L'</span><span class="keyword">=&gt;</span><span class="default">50</span><span class="keyword">, </span><span class="string">'XL'</span><span class="keyword">=&gt;</span><span class="default">40</span><span class="keyword">, </span><span class="string">'X'</span><span class="keyword">=&gt;</span><span class="default">10</span><span class="keyword">, </span><span class="string">'IX'</span><span class="keyword">=&gt;</span><span class="default">9</span><span class="keyword">, </span><span class="string">'V'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">, </span><span class="string">'IV'</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">, </span><span class="string">'I'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$integer </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$table </span><span class="keyword">as </span><span class="default">$rom</span><span class="keyword">=&gt;</span><span class="default">$arb</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$integer </span><span class="keyword">&gt;= </span><span class="default">$arb</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$integer </span><span class="keyword">-= </span><span class="default">$arb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$rom</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90320""></a>
  <div class="note">
   <strong class="user">cyrilbele at yahoo dot fr</strong>
   <a href="#90320" class="date">16-Apr-2009 01:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to do sharding, at some point you will need to decide which shard to target. Here is a simple function to assign the data to a particular shard based on a key (usually identifier of the row)<br />
<br />
Here is a simple function to get the shard based on the key and the number of shards available<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">getShard</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$nbShards</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">sha1</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">), </span><span class="default">16</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">),</span><span class="default">4</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">%</span><span class="default">$nbShards</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83173""></a>
  <div class="note">
   <strong class="user">dorantor</strong>
   <a href="#83173" class="date">13-May-2008 10:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Spent almost a day to find a bug(?) in base_convert() function when converting big values to binary:<br />
<br />
<span class="default">&lt;?php<br />
$value </span><span class="keyword">= </span><span class="default">2919739656537</span><span class="keyword">;<br />
echo </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>should print <br />
101010011111001110000010111000100101011001<br />
in reality, prints <br />
10101000111000001100011100110101110110100100 <br />
but that is wrong!<br />
<br />
so, in result, I've written this two functions:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Convert binary to decimal <br />
&nbsp;* works with big numbers<br />
&nbsp;*<br />
&nbsp;* @param string $binary<br />
&nbsp;* @return float<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">big_bin2dec</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= (float)</span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$shift </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while ( </span><span class="default">0 </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bit&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binary&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$result </span><span class="keyword">+ </span><span class="default">$bit</span><span class="keyword">*</span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ++</span><span class="default">$shift</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* convert decimal 2 binary presentation<br />
&nbsp;*<br />
&nbsp;* @param mixed $dec<br />
&nbsp;* @return string<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">big_dec2bin</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$shift&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while ( </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">) &lt; </span><span class="default">$dec </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ++</span><span class="default">$shift</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; while ( </span><span class="default">0 </span><span class="keyword">&lt;= </span><span class="default">$shift </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pow </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$pow </span><span class="keyword">&lt;= </span><span class="default">$dec </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec</span><span class="keyword">-= </span><span class="default">$pow</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$result </span><span class="keyword">. </span><span class="string">'1'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$result </span><span class="keyword">. </span><span class="string">'0'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; --</span><span class="default">$shift</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Functions tested only with positive integers(that's enough for me), so if you need more than this you'll, possibly, have to rework 'em.<br />
<br />
Simple test:<br />
<span class="default">&lt;?php<br />
$value </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">48</span><span class="keyword">);</span><span class="comment">//only one bit should be set<br />
<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"%f \n"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
echo </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">big_dec2bin</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>prints out something similar to:<br />
281474976710656.000000 <br />
110011001100110011001100110011001100111001010<br />
1000000000000000000000000000000000000000000000000<br />
<br />
I hope this will help someone :)<br />
BTW! My phpinfo() says PHP Version 5.2.1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71589""></a>
  <div class="note">
   <strong class="user">Ray Paseur sometimes uses GMail</strong>
   <a href="#71589" class="date">06-Dec-2006 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[EDIT BY danbrown AT php DOT net: This function provides conversion of Arabic numerals (those used by most of the world, the standard 1,2,3,4,...) into Roman numerals (I,II,III,IV,...).&nbsp; The original author failed to provide a description, but due to the usefulness of the function, it is being preserved from deletion, and a simple description added.]<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">roman_numerals</span><span class="keyword">(</span><span class="default">$input_arabic_numeral</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$input_arabic_numeral </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) { </span><span class="default">$input_arabic_numeral </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">); } </span><span class="comment">// DEFAULT OUTPUT: THIS YEAR<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arabic_numeral&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$input_arabic_numeral</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arabic_numeral_text&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">"</span><span class="default">$arabic_numeral</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arabic_numeral_length&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$arabic_numeral_text</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">'[0-9]'</span><span class="keyword">, </span><span class="default">$arabic_numeral_text</span><span class="keyword">)) {<br />
return </span><span class="default">false</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral </span><span class="keyword">&gt; </span><span class="default">4999</span><span class="keyword">) {<br />
return </span><span class="default">false</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) {<br />
return </span><span class="default">false</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral_length </span><span class="keyword">&gt; </span><span class="default">4</span><span class="keyword">) {<br />
return </span><span class="default">false</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$roman_numeral_tens&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$roman_numeral_hundreds&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$roman_numeral_thousands&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">''</span><span class="keyword">; </span><span class="comment">// NO ZEROS IN ROMAN NUMERALS<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="string">'I'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=</span><span class="string">'II'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]=</span><span class="string">'III'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]=</span><span class="string">'IV'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]=</span><span class="string">'V'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">]=</span><span class="string">'VI'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">]=</span><span class="string">'VII'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">]=</span><span class="string">'VIII'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">]=</span><span class="string">'IX'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="string">'X'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=</span><span class="string">'XX'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]=</span><span class="string">'XXX'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]=</span><span class="string">'XL'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]=</span><span class="string">'L'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">]=</span><span class="string">'LX'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">]=</span><span class="string">'LXX'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">]=</span><span class="string">'LXXX'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">]=</span><span class="string">'XC'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="string">'C'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=</span><span class="string">'CC'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]=</span><span class="string">'CCC'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]=</span><span class="string">'CD'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]=</span><span class="string">'D'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">]=</span><span class="string">'DC'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">]=</span><span class="string">'DCC'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">]=</span><span class="string">'DCCC'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">]=</span><span class="string">'CM'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="string">'M'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=</span><span class="string">'MM'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]=</span><span class="string">'MMM'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]=</span><span class="string">'MMMM'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral_length </span><span class="keyword">== </span><span class="default">3</span><span class="keyword">) { </span><span class="default">$arabic_numeral_text </span><span class="keyword">= </span><span class="string">"0" </span><span class="keyword">. </span><span class="default">$arabic_numeral_text</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral_length </span><span class="keyword">== </span><span class="default">2</span><span class="keyword">) { </span><span class="default">$arabic_numeral_text </span><span class="keyword">= </span><span class="string">"00" </span><span class="keyword">. </span><span class="default">$arabic_numeral_text</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arabic_numeral_length </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) { </span><span class="default">$arabic_numeral_text </span><span class="keyword">= </span><span class="string">"000" </span><span class="keyword">. </span><span class="default">$arabic_numeral_text</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$anu </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$arabic_numeral_text</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$anx </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$arabic_numeral_text</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$anc </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$arabic_numeral_text</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$anm </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$arabic_numeral_text</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$roman_numeral_text </span><span class="keyword">= </span><span class="default">$roman_numeral_thousands</span><span class="keyword">[</span><span class="default">$anm</span><span class="keyword">] . </span><span class="default">$roman_numeral_hundreds</span><span class="keyword">[</span><span class="default">$anc</span><span class="keyword">] . </span><span class="default">$roman_numeral_tens</span><span class="keyword">[</span><span class="default">$anx</span><span class="keyword">] . </span><span class="default">$roman_numeral_units</span><span class="keyword">[</span><span class="default">$anu</span><span class="keyword">];<br />
return (</span><span class="default">$roman_numeral_text</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64039""></a>
  <div class="note">
   <strong class="user">CJ Dennis</strong>
   <a href="#64039" class="date">06-Apr-2006 01:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Really huge numbers might be truncated at both ends.<br />
eg:<br />
<span class="default">&lt;?php<br />
$binary</span><span class="keyword">=</span><span class="string">"11010101001111010001110101000100011110010110110"</span><span class="keyword">.<br />
</span><span class="string">"001111000010001010001111001100011010110110010010011010"</span><span class="keyword">.<br />
</span><span class="string">"001011010000001001011111110001010101101101011010101010"</span><span class="keyword">.<br />
</span><span class="string">"000100011101110010110010100111110001010010111010110011"</span><span class="keyword">.<br />
</span><span class="string">"001111111100011001011011001110001111110000101011010010"</span><span class="keyword">;<br />
print(</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span>will output:<br />
9E8EA23CB63C0000000000000000000000000000000000000000000000000000 (64 hex digits)<br />
when the correct result would be:<br />
6A9E8EA23CB63C228F31AD9268B4097F156D6AA11DCB29F14BACCFF196CE3F0AD2 (66 hex digits)<br />
Notice that as well as the result showing '0's after B63C which you would expect it is also missing the first 6A before 9E.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51077""></a>
  <div class="note">
   <strong class="user">lindsay at bitleap dot com</strong>
   <a href="#51077" class="date">18-Mar-2005 01:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to use base_convert with numbers larger then 32 bit, the following gmp implementation of base_convert should work.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*use gmp library to convert base. gmp will convert numbers &gt; 32bit*/<br />
</span><span class="keyword">function </span><span class="default">gmp_convert</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$base_a</span><span class="keyword">, </span><span class="default">$base_b</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">gmp_strval </span><span class="keyword">( </span><span class="default">gmp_init</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$base_a</span><span class="keyword">), </span><span class="default">$base_b </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43261""></a>
  <div class="note">
   <strong class="user">simon at simonster dot com</strong>
   <a href="#43261" class="date">15-Jun-2004 06:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are some functions for converting integers to and from base 256. Converting to base 64 is simple given these.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">to_base256</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$from_base </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$binary_number </span><span class="keyword">= </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$from_base</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$final_string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new_length </span><span class="keyword">= (</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$binary_number</span><span class="keyword">)/</span><span class="default">8</span><span class="keyword">)*</span><span class="default">8</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$binary_number </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$binary_number</span><span class="keyword">, </span><span class="default">$new_length</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=(</span><span class="default">$new_length</span><span class="keyword">-</span><span class="default">8</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">-=</span><span class="default">8</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$final_string </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$binary_number</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">)).</span><span class="default">$final_string</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$final_string</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">from_base256</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$to_base </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">}), </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), </span><span class="default">8</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">$to_base</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Yes, I know that this would be more efficient if it used mod instead of base_convert, but it needs to work with integers &gt; 32 bits.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42002""></a>
  <div class="note">
   <strong class="user">AdamJacobMuller at AdamJacobMuller dot com</strong>
   <a href="#42002" class="date">28-Apr-2004 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">binarycodedstring2dec</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$len</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rows</span><span class="keyword">=(</span><span class="default">$len</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$len</span><span class="keyword">%</span><span class="default">4</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pad</span><span class="keyword">=</span><span class="default">$len</span><span class="keyword">+(</span><span class="default">4</span><span class="keyword">-(</span><span class="default">$len</span><span class="keyword">%</span><span class="default">4</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$binary</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">,</span><span class="default">$pad</span><span class="keyword">,</span><span class="string">"0"</span><span class="keyword">,</span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$len</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$binary</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rows</span><span class="keyword">=(</span><span class="default">$len</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;=</span><span class="default">$rows</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s</span><span class="keyword">=(</span><span class="default">$x</span><span class="keyword">*</span><span class="default">4</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bins</span><span class="keyword">=</span><span class="default">$binary</span><span class="keyword">[</span><span class="default">$s</span><span class="keyword">].</span><span class="default">$binary</span><span class="keyword">[</span><span class="default">$s</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">].</span><span class="default">$binary</span><span class="keyword">[</span><span class="default">$s</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">].</span><span class="default">$binary</span><span class="keyword">[</span><span class="default">$s</span><span class="keyword">+</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num</span><span class="keyword">=</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$bins</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$num</span><span class="keyword">&gt;</span><span class="default">9</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="string">"the string is not a proper binary coded decimal\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">.=</span><span class="default">$num</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$res</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
a binary coded decimal is converted by taking groups of four from a decimal string,<br />
for example the binary coded decimal string<br />
1000 = 8<br />
10001000 does not = 136 but 88<br />
so<br />
binarycodedstring2dec(1000) = 8<br />
binarycodedstring2dec(11100000111001)=3839<br />
binarycodedstring2dec(100000111001)=839<br />
<br />
i truly have no idea if this function will be useful to anyone, i simply failed a physics midterm because i didn't know this so i wrote this function to make sure i would never forget how to convert binary coded decimals</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38495""></a>
  <div class="note">
   <strong class="user">fiftytoo at buckeyeexpress dot com</strong>
   <a href="#38495" class="date">24-Dec-2003 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a function to invert a hex value, which i used for setting font colors when they were on a colored background, that way i will get a contrasting color.<br />
<br />
Im sure there are other reasons to use this, you decide!!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">InvertColor</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) {<br />
&nbsp; return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%06s"</span><span class="keyword">,</span><span class="default">base_convert</span><span class="keyword">((</span><span class="default">$hex </span><span class="keyword">^ </span><span class="default">0xFFFFFF</span><span class="keyword">),</span><span class="default">10</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">));<br />
&nbsp; };<br />
<br />
print </span><span class="string">'&lt;td bgcolor="BB2222"&gt;&lt;font color="'</span><span class="keyword">.</span><span class="default">InvertColor</span><span class="keyword">(</span><span class="default">0xBB2222</span><span class="keyword">).</span><span class="string">'"&gt;Blah&lt;/font&gt;&lt;/td&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Prints 44dddd as the font color, which is it's opposite on the color wheel<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34510""></a>
  <div class="note">
   <strong class="user">Fips</strong>
   <a href="#34510" class="date">29-Jul-2003 11:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a function for converting numbers not only into 0-9 and a-z:<br />
<br />
-----<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">custombase_convert</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">, </span><span class="default">$baseFrom </span><span class="keyword">= </span><span class="string">"0123456789"</span><span class="keyword">, </span><span class="default">$baseTo </span><span class="keyword">= </span><span class="string">"0123456789"</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= (string) </span><span class="default">$numstring</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$baseFromLen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$baseFrom</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$baseToLen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$baseTo</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$baseFrom </span><span class="keyword">== </span><span class="string">"0123456789"</span><span class="keyword">) </span><span class="comment">// No analyzing needed, because $numstring is already decimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decVal </span><span class="keyword">= (int) </span><span class="default">$numstring</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decVal </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$len </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">); </span><span class="default">$len </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$len</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$char </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$baseFrom</span><span class="keyword">, </span><span class="default">$char</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$pos </span><span class="keyword">!== </span><span class="default">FALSE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decVal </span><span class="keyword">+= </span><span class="default">$pos </span><span class="keyword">* (</span><span class="default">$len </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">? </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$baseFromLen</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">) : </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$baseTo </span><span class="keyword">== </span><span class="string">"0123456789"</span><span class="keyword">) </span><span class="comment">// No converting needed, because $numstring needs to be converted to decimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= (string) </span><span class="default">$decVal</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nslen </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$decVal </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$valPerChar </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$baseToLen</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$curChar </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$decVal </span><span class="keyword">/ </span><span class="default">$valPerChar</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$curChar </span><span class="keyword">&gt;= </span><span class="default">$baseToLen</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decVal </span><span class="keyword">-= (</span><span class="default">$curChar </span><span class="keyword">* </span><span class="default">$valPerChar</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$numstring </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$baseTo</span><span class="keyword">{</span><span class="default">1</span><span class="keyword">}, </span><span class="default">$pos</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nslen </span><span class="keyword">= </span><span class="default">$pos</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numstring </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">$nslen </span><span class="keyword">- </span><span class="default">$pos</span><span class="keyword">)) . </span><span class="default">$baseTo</span><span class="keyword">{</span><span class="default">$curChar</span><span class="keyword">} . </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$numstring</span><span class="keyword">, ((</span><span class="default">$nslen </span><span class="keyword">- </span><span class="default">$pos</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$numstring </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">) </span><span class="default">$numstring </span><span class="keyword">= </span><span class="default">$baseTo</span><span class="keyword">{</span><span class="default">1</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$numstring</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>------<br />
<br />
The function arguments:<br />
$numstring - String with number to convert. (e.g. "15" or "5F")<br />
$baseFrom - Chars of the base the number is in. (e.g. "0123456789" for decimal or "01" for binary)<br />
$baseTo - Chars of the base to convert the number. (e.g. "0123456789" for decimal or "01" for binary)<br />
<br />
I wrote it for writing numbers in files, and so I convert between "0123456789" (decimal) and "\x01\x02\x03...\xFF" - uses very low disc space :-) (You could of course also add the null char (\x00), but &gt;I&lt; need it to seperate the numbers)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27477""></a>
  <div class="note">
   <strong class="user">sam_at_compasspointmedia.com</strong>
   <a href="#27477" class="date">07-Dec-2002 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you haven't already figured it out from the text, the higest base you can encode in is 36 (because z is 35),&nbsp; try this<br />
<br />
<span class="default">&lt;?php<br />
$compactIt </span><span class="keyword">= </span><span class="default">base_convert</span><span class="keyword">(</span><span class="string">'999'</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">37</span><span class="keyword">);&nbsp; </span><span class="comment">//or anything higher<br />
</span><span class="default">?&gt;<br />
</span><br />
and you'll get a warning.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12168""></a>
  <div class="note">
   <strong class="user">gateschris at yahoo dot com</strong>
   <a href="#12168" class="date">26-Mar-2001 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if your worried about little/big edian affecting your dec to binary conversions, or just want to convert large numbers then try this bit of code:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// this little bit of code is simply to convert a 64bit number.<br />
</span><span class="keyword">function </span><span class="default">convert_num </span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;</span><span class="default">$value </span><span class="keyword">= (string) </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;while (!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^0*$/'</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">65</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$cumulate </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$rem </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; if (</span><span class="default">$cumulate </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) { <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">floor</span><span class="keyword">((</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] + </span><span class="default">$rem</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$cumulate </span><span class="keyword">.= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] + </span><span class="default">$rem</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cumulate </span><span class="keyword">.= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] + </span><span class="default">$rem</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; </span><span class="default">$rem </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] % </span><span class="default">2 </span><span class="keyword">* </span><span class="default">10</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$rem </span><span class="keyword">/ </span><span class="default">10</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$re </span><span class="keyword">.= </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$cumulate</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$j</span><span class="keyword">++;<br />
&nbsp;}&nbsp;&nbsp; <br />
&nbsp;return </span><span class="default">$re</span><span class="keyword">;<br />
}<br />
<br />
print </span><span class="default">convert_num </span><span class="keyword">(</span><span class="default">65535</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="3289""></a>
  <div class="note">
   <strong class="user">tim_converse at yahoo dot com</strong>
   <a href="#3289" class="date">19-Jan-2000 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
base_convert expects its string arguments to be integral, and gives nonsensical answers when given floating-point strings.&nbsp; For example, base_convert("1.0", 10, 2) yields "1100100".&nbsp; It seems that "1.0" is being interpreted as "100".&nbsp; (PHP4.0b3).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="1566""></a>
  <div class="note">
   <strong class="user">scott at mha dot ca</strong>
   <a href="#1566" class="date">08-Sep-1999 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This would seem to be limited to 31 bits, ie. the range of values that can be converted is 0 - 2147483647 in decimal.<br />
<br />
Also, this will convert negative values to positive values, unlike DecHex() which will return a null string for negative values.<br />
<br />
From what I have observed (using PHP 3.0.11) the following statements will set both a and c to a null string and set b to positive 1.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">base_convert </span><span class="keyword">(</span><span class="default">2147483648</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">base_convert </span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">dechex </span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.atanh.html">atanh</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.bindec.html">bindec</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
