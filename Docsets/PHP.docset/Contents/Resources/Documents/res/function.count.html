<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Count all elements in an array, or something in an object</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.compact.html">compact</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.current.html">current</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.count" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">count</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">count</span> &mdash; <span class="dc-title">Count all elements in an array, or something in an object</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.count-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>count</b></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$var</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$mode</tt><span class="initializer"> = COUNT_NORMAL</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Counts all elements in an array, or something in an object.
  </p>
  <p class="para">
   For objects, if you have
   <a href="ref.spl.html" class="link">SPL</a> installed, you can hook into
   <span class="function"><b>count()</b></span> by implementing interface
   <a href="class.countable.html" class="classname">Countable</a>. The interface has exactly one method,
    <span class="methodname"><a href="countable.count.html" class="methodname">Countable::count()</a></span>, which returns the return value for the
   <span class="function"><b>count()</b></span> function.
  </p>
  <p class="para">
   Please see the <a href="language.types.array.html" class="link">Array</a>
   section of the manual for a detailed explanation of how arrays
   are implemented and used in PHP.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.count-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">var</tt></i></span>
     <dd>

      <p class="para">
       The array or the object.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">mode</tt></i></span>
     <dd>

      <p class="para">
       If the optional <i><tt class="parameter">mode</tt></i> parameter is set to
       <b><tt>COUNT_RECURSIVE</tt></b> (or 1), <span class="function"><b>count()</b></span>
       will recursively count the array.  This is particularly useful for
       counting all the elements of a multidimensional array.
       <span class="function"><b>count()</b></span> does not detect infinite recursion.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.count-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the number of elements in <i><tt class="parameter">var</tt></i>.
   If <i><tt class="parameter">var</tt></i> is not an array or an object with
   implemented <a href="class.countable.html" class="classname">Countable</a> interface,
   <i>1</i> will be returned.
   There is one exception, if <i><tt class="parameter">var</tt></i> is <b><tt>NULL</tt></b>,
   <i>0</i> will be returned.
  </p>
  <div class="caution"><b class="caution">Caution</b>
   <p class="para">
    <span class="function"><b>count()</b></span> may return 0 for a variable that isn&#039;t set,
    but it may also return 0 for a variable that has been initialized with an
    empty array. Use <span class="function"><a href="function.isset.html" class="function">isset()</a></span> to test if a variable is set.
   </p>
  </div>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.count-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.2.0</td>
       <td align="left">
        The optional <i><tt class="parameter">mode</tt></i> parameter was added.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.count-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4550">
    <p><b>Example #1 <span class="function"><b>count()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;3<br /><br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">10</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;3<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;0<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;1<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4551">
    <p><b>Example #2 Recursive <span class="function"><b>count()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$food&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'fruits'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'orange'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'banana'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'veggie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'carrot'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'collard'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'pea'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;recursive&nbsp;count<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$food</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">COUNT_RECURSIVE</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;output&nbsp;8<br /><br />//&nbsp;normal&nbsp;count<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$food</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;output&nbsp;2<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.count-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-array.html" class="function" rel="rdfs-seeAlso">is_array()</a> - Finds whether a variable is an array</span></li>
    <li class="member"><span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - Determine if a variable is set and is not NULL</span></li>
    <li class="member"><span class="function"><a href="function.strlen.html" class="function" rel="rdfs-seeAlso">strlen()</a> - Get string length</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105732""></a>
  <div class="note">
   <strong class="user">nicolas dot grekas+php at gmail dot com</strong>
   <a href="#105732" class="date">10-Sep-2011 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP 5.2.6, count() DOES detect infinite recursion.<br />
It triggers a warning when its argument is a recursive array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105713""></a>
  <div class="note">
   <strong class="user">mike dot mackintosh at angrystatic dot com</strong>
   <a href="#105713" class="date">08-Sep-2011 10:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you try to do a sizeof or count with an object, it will always return 1 if the object is not null.<br />
<br />
You need to type cast the object as an array for it to count correctly.<br />
<br />
ex:<br />
<br />
<span class="default">&lt;?php<br />
$obj</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">'fu'</span><span class="keyword">;<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="default">$fooBar</span><span class="keyword">();<br />
<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">); </span><span class="comment">//returns 1<br />
<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">( (array) </span><span class="default">$obj</span><span class="keyword">); </span><span class="comment">// returns 2<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102815""></a>
  <div class="note">
   <strong class="user">gothamxi</strong>
   <a href="#102815" class="date">07-Mar-2011 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
simple random value from array.<br />
<br />
<span class="default">&lt;?php<br />
$topic</span><span class="keyword">=array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"UFOs"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Barack Obama"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"China"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Christianity"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Communism"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"World War II"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Global Warming"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Vegetarianism"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
echo (</span><span class="string">"What do you think about "</span><span class="keyword">.</span><span class="default">$topic</span><span class="keyword">[ </span><span class="default">rand</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$topic</span><span class="keyword">) ) ].</span><span class="string">"? "</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
output--&gt;<br />
What do you think about Global Warming? , etc</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101882""></a>
  <div class="note">
   <strong class="user">pro at developergatsby dot com</strong>
   <a href="#101882" class="date">15-Jan-2011 02:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Complexity of count function.<br />
<br />
I just tested the complexity of count().<br />
It looks O(1).<br />
<br />
Here is the result.<br />
<br />
&lt;&lt; counting array with 1 element&gt;&gt;<br />
total time : 0.021ms<br />
start -&gt; end : 100 %<br />
<br />
&lt;&lt; counting array with 100000 elements&gt;&gt;<br />
total time : 0.015ms<br />
start -&gt; end : 100 %<br />
<br />
Here is the testing code.<br />
mini_bench_to is a function.<br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= array();<br />
</span><span class="default">$arr</span><span class="keyword">[] = </span><span class="string">"1"</span><span class="keyword">;<br />
<br />
</span><span class="default">$t</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">] = </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$size </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
</span><span class="default">$t</span><span class="keyword">[</span><span class="string">'end'</span><span class="keyword">] = </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$str_result_bench </span><span class="keyword">= </span><span class="default">mini_bench_to</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">);<br />
echo </span><span class="default">$str_result_bench</span><span class="keyword">; </span><span class="comment">// string return<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= array();<br />
for(</span><span class="default">$index </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$index </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$index</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$index</span><span class="keyword">; <br />
}<br />
</span><span class="default">$t</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">] = </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$size </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
</span><span class="default">$t</span><span class="keyword">[</span><span class="string">'end'</span><span class="keyword">] = </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$str_result_bench</span><span class="keyword">=</span><span class="default">mini_bench_to</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">);<br />
echo </span><span class="default">$str_result_bench</span><span class="keyword">; </span><span class="comment">// string return<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mini_bench_to</span><span class="keyword">(</span><span class="default">$arg_t</span><span class="keyword">, </span><span class="default">$arg_ra</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tttime</span><span class="keyword">=</span><span class="default">round</span><span class="keyword">((</span><span class="default">end</span><span class="keyword">(</span><span class="default">$arg_t</span><span class="keyword">)-</span><span class="default">$arg_t</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">])*</span><span class="default">1000</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arg_ra</span><span class="keyword">) </span><span class="default">$ar_aff</span><span class="keyword">[</span><span class="string">'total_time'</span><span class="keyword">]=</span><span class="default">$tttime</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else </span><span class="default">$aff</span><span class="keyword">=</span><span class="string">"total time : "</span><span class="keyword">.</span><span class="default">$tttime</span><span class="keyword">.</span><span class="string">"ms\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$prv_cle</span><span class="keyword">=</span><span class="string">'start'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$prv_val</span><span class="keyword">=</span><span class="default">$arg_t</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arg_t </span><span class="keyword">as </span><span class="default">$cle</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$cle</span><span class="keyword">!=</span><span class="string">'start'</span><span class="keyword">)&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prcnt_t</span><span class="keyword">=</span><span class="default">round</span><span class="keyword">(((</span><span class="default">round</span><span class="keyword">((</span><span class="default">$val</span><span class="keyword">-</span><span class="default">$prv_val</span><span class="keyword">)*</span><span class="default">1000</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">)/</span><span class="default">$tttime</span><span class="keyword">)*</span><span class="default">100</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$arg_ra</span><span class="keyword">) </span><span class="default">$ar_aff</span><span class="keyword">[</span><span class="default">$prv_cle</span><span class="keyword">.</span><span class="string">' -&gt; '</span><span class="keyword">.</span><span class="default">$cle</span><span class="keyword">]=</span><span class="default">$prcnt_t</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aff</span><span class="keyword">.=</span><span class="default">$prv_cle</span><span class="keyword">.</span><span class="string">' -&gt; '</span><span class="keyword">.</span><span class="default">$cle</span><span class="keyword">.</span><span class="string">' : '</span><span class="keyword">.</span><span class="default">$prcnt_t</span><span class="keyword">.</span><span class="string">" %\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prv_val</span><span class="keyword">=</span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prv_cle</span><span class="keyword">=</span><span class="default">$cle</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$arg_ra</span><span class="keyword">) return </span><span class="default">$ar_aff</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$aff</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100064""></a>
  <div class="note">
   <strong class="user">marc at example dot com</strong>
   <a href="#100064" class="date">23-Sep-2010 12:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just found use for this function...<br />
Can count an array of items where a certain condition is met.<br />
Feel free to improve it.<br />
<br />
function countWhere($input = 1, $operator = '==', $where = 1)<br />
{<br />
&nbsp;&nbsp;&nbsp; $input = is_array($input) ? $input : (array)$input;<br />
&nbsp;&nbsp;&nbsp; $operator = !in_array($operator, array('&lt;','&gt;','&lt;=', '&gt;=','==', '!=')) ? '==' : $operator;<br />
<br />
&nbsp;&nbsp;&nbsp; $i = 0;<br />
<br />
&nbsp;&nbsp;&nbsp; foreach($input as $current)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $match = null;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; eval('$match = (bool)("'.$current.'"'.$operator.'"'.$where.'");');<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i = $match ? $i+1 : $i;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return $i;<br />
}<br />
<br />
USAGE:<br />
echo countWhere(array('PZ','AB','CD','EF','GH'), '!=', 'GH');<br />
<br />
OUTPUT:<br />
4</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98291""></a>
  <div class="note">
   <strong class="user">marc at gutt dot it</strong>
   <a href="#98291" class="date">07-Jun-2010 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There was a change in a PHP5 version. Now an empty string returns 1:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">); </span><span class="comment">// returns 1<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(array()); </span><span class="comment">// returns 0<br />
</span><span class="default">?&gt;<br />
</span><br />
This wasn't in PHP4 and some older PHP5 versions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96537""></a>
  <div class="note">
   <strong class="user">D X</strong>
   <a href="#96537" class="date">03-Mar-2010 06:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To know how much properties an object has, I do it like this:<br />
count((array) $object)<br />
... because count($object) gives me allways 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92704""></a>
  <div class="note">
   <strong class="user">ravenswd at gmail dot com</strong>
   <a href="#92704" class="date">04-Aug-2009 12:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The code snippet posted by legobuff at hotmail dot com on 02-Feb-2000 contains an error. This is the code that was posted:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// To find the index of the last element in the array:<br />
</span><span class="default">end</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">);<br />
</span><span class="default">$index </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
However, this will fail if the indices have been stored out of sequence. What you actually want is max(array_keys($yourArray)), as indicated below:<br />
<br />
<span class="default">&lt;?php<br />
$yourArray </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'a'</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">=&gt;</span><span class="string">'c'</span><span class="keyword">);<br />
<br />
print </span><span class="default">count</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">); </span><span class="comment">// prints 3<br />
<br />
</span><span class="default">end</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">);<br />
print </span><span class="default">key</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">); </span><span class="comment">// prints 5<br />
<br />
</span><span class="keyword">print </span><span class="default">max</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$yourArray</span><span class="keyword">)); </span><span class="comment">// prints 7<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90392""></a>
  <div class="note">
   <strong class="user">jezdec at email dot cz</strong>
   <a href="#90392" class="date">19-Apr-2009 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi there,<br />
there is a simple script with example for counting rows and columns of a two-dimensional array. <br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"apples" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">, </span><span class="string">"pineapples"</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"bananas" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"small"</span><span class="keyword">, </span><span class="string">"medium"</span><span class="keyword">, </span><span class="string">"big"</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"vegs" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"potatoes"</span><span class="keyword">, </span><span class="string">"carrots"</span><span class="keyword">, </span><span class="string">"onions"</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">$rows </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$cols </span><span class="keyword">= (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)/</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">))-</span><span class="default">1</span><span class="keyword">;<br />
print </span><span class="string">"There are </span><span class="keyword">{</span><span class="default">$rows</span><span class="keyword">}</span><span class="string"> rows and </span><span class="keyword">{</span><span class="default">$cols</span><span class="keyword">}</span><span class="string"> columns in the table!"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87708""></a>
  <div class="note">
   <strong class="user">ceo at l-i-e dot com</strong>
   <a href="#87708" class="date">17-Dec-2008 12:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
count('') returns the very un-intuitive value of 1...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84482""></a>
  <div class="note">
   <strong class="user">michael.debyl at gmail dot comz0r</strong>
   <a href="#84482" class="date">16-Jul-2008 03:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There doesn't seem to be a succinct method already noted on this page for counting multidimensional array end nodes (Items in multidimensional arrays), so I thought this function might help somebody.<br />
<br />
Nice and simple :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rcount </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$id</span><span class="keyword">=&gt;</span><span class="default">$sub</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$sub</span><span class="keyword">)) { </span><span class="default">$count</span><span class="keyword">++; }<br />
&nbsp;&nbsp; &nbsp; else { </span><span class="default">$count </span><span class="keyword">= (</span><span class="default">$count </span><span class="keyword">+ </span><span class="default">rcount</span><span class="keyword">(</span><span class="default">$sub</span><span class="keyword">)); }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$count</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84225""></a>
  <div class="note">
   <strong class="user">analpaper{gmail}</strong>
   <a href="#84225" class="date">03-Jul-2008 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found useful this little function that detects if a array is multidimensional or not.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_is2D</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ? </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)===</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">COUNT_RECURSIVE</span><span class="keyword">) : -</span><span class="default">1</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
---<br />
live2code</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80352""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#80352" class="date">11-Jan-2008 01:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is an iterative soloution of danny's count_recursive function which might be more efficient due to the missing recursion<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* counts elements of an multidimensional array<br />
&nbsp;* <br />
&nbsp;* @param array $array Input Array<br />
&nbsp;* @param int $limit dimensions that shall be considered (-1 means no limit )<br />
&nbsp;* @return int counted elements<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">multicount </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$cnt </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">$limit </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">? (int) </span><span class="default">$limit </span><span class="keyword">: -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$arrs</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; isset(</span><span class="default">$arrs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arrs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]); ++</span><span class="default">$i</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$arrs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] as </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ) ++</span><span class="default">$cnt</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; elseif( </span><span class="default">$limit</span><span class="keyword">==-</span><span class="default">1 </span><span class="keyword">|| </span><span class="default">$limit</span><span class="keyword">&gt;</span><span class="default">1 </span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$limit</span><span class="keyword">&gt;</span><span class="default">1 </span><span class="keyword">) --</span><span class="default">$limit</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrs</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; return </span><span class="default">$cnt</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76073""></a>
  <div class="note">
   <strong class="user">atoi_monte at hotmail dot com</strong>
   <a href="#76073" class="date">28-Jun-2007 02:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note: While SPL is compiled into PHP by default starting with PHP 5, the Countable interface is not available until 5.1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75737""></a>
  <div class="note">
   <strong class="user">danny at dannymendel dot com</strong>
   <a href="#75737" class="date">13-Jun-2007 01:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I actually find the following function more useful when it comes to multidimension arrays when you do not want all levels of the array tree.<br />
<br />
// $limit is set to the number of recursions<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">count_recursive </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$id </span><span class="keyword">=&gt; </span><span class="default">$_array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$_array</span><span class="keyword">) &amp;&amp; </span><span class="default">$limit </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">count_recursive </span><span class="keyword">(</span><span class="default">$_array</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">); else </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$count</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74758""></a>
  <div class="note">
   <strong class="user">yarolan at mail dot ru</strong>
   <a href="#74758" class="date">26-Apr-2007 04:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
NEVER USE IN CYCLES!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//size of $arr ~ 2000 elements<br />
<br />
//wrong variant (Time exec ~ 19 sec)<br />
</span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; </span><span class="comment">//...<br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">//right variant(Time exec ~ 0.2 sec)<br />
</span><span class="default">$arr_size</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$arr_size</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; </span><span class="comment">//...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
it was discovered experimentally.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72860""></a>
  <div class="note">
   <strong class="user">Colin</strong>
   <a href="#72860" class="date">03-Feb-2007 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// countValuesRecursive<br />
// The goal of this function is to count non-false values of a multidimenional array<br />
// This is useful in making a quick determination if a form sent any values<br />
// If no values were sent I can simply return to the blank form rather than continuing to the validation of each input<br />
// There are two limitations of the principle:<br />
// 1. If you WANT to send FALSE, 0, '', or NULL as form values this function will not count those, thus not doing what's expected<br />
// 2. This would create an endless loop on a form that has no required fields such as one where users can choose to recieve optional&nbsp; email subscriptions but where choosing none is also valid<br />
</span><span class="keyword">function </span><span class="default">countValuesRecursive</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Cycle through the array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Check if the value is an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Cycle through deeper level<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">countValuesRecursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Check if the value is TRUE<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Return the count<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$count</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71015""></a>
  <div class="note">
   <strong class="user">alexandr at vladykin dot pp dot ru</strong>
   <a href="#71015" class="date">08-Nov-2006 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My function returns the number of elements in array for multidimensional arrays subject to depth of array. (Almost COUNT_RECURSIVE, but you can point on which depth you want to plunge).<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">getArrCount </span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) || !</span><span class="default">$depth</span><span class="keyword">) return </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$res</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$in_ar</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res</span><span class="keyword">+=</span><span class="default">getArrCount</span><span class="keyword">(</span><span class="default">$in_ar</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$res</span><span class="keyword">;<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61118""></a>
  <div class="note">
   <strong class="user">anil dot iitk at gmail dot com</strong>
   <a href="#61118" class="date">26-Jan-2006 12:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$food </span><span class="keyword">= array(</span><span class="string">'fruits' </span><span class="keyword">=&gt; array(</span><span class="string">'orange'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'apple'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'veggie' </span><span class="keyword">=&gt; array(</span><span class="string">'carrot'</span><span class="keyword">, </span><span class="string">'collard'</span><span class="keyword">, </span><span class="string">'pea'</span><span class="keyword">));<br />
<br />
</span><span class="comment">// recursive count<br />
</span><span class="keyword">echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">, </span><span class="default">COUNT_RECURSIVE</span><span class="keyword">); </span><span class="comment">// output 8<br />
<br />
</span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">){<br />
&nbsp; return </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)/</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) ;<br />
}<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);<br />
echo </span><span class="string">"Average of array:"</span><span class="keyword">.</span><span class="default">average</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59929""></a>
  <div class="note">
   <strong class="user">Scorch at netpix dot com</strong>
   <a href="#59929" class="date">20-Dec-2005 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful of recasting your variables, especially with database array returns: <br />
<br />
<span class="default">&lt;?php <br />
$res </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"select * from blah"</span><span class="keyword">) </span><span class="comment">// a query that returns an empty set <br />
</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">); </span><span class="comment">// get's 0 since there's no return <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">); </span><span class="comment">// echos 1 - since $row is not an array <br />
</span><span class="keyword">echo </span><span class="default">$row</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; </span><span class="comment">// echos "", but casts $row as an array? <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">); </span><span class="comment">// echos 0 now <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59262""></a>
  <div class="note">
   <strong class="user">Tom</strong>
   <a href="#59262" class="date">30-Nov-2005 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can find an average from an array using this and array_sum.<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//array average( array input )<br />
</span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) {<br />
return </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) / </span><span class="default">count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
You can also do a method of form validation that involves putting all errors into an array and letting count() do the key part.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'submit'</span><span class="keyword">])) {<br />
</span><span class="default">$errors </span><span class="keyword">= array();<br />
if(empty(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'message'</span><span class="keyword">])) </span><span class="default">$errors</span><span class="keyword">[] = </span><span class="string">"Empty message field"</span><span class="keyword">;<br />
if(!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/[a-z0-9.]@[a-z0-9].[a-z]/i'</span><span class="keyword">, </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]) {<br />
</span><span class="default">$errors</span><span class="keyword">[] = </span><span class="string">"Bad email address"</span><span class="keyword">;<br />
&nbsp; }<br />
if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$errors</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">) {<br />
</span><span class="comment">//process form...<br />
&nbsp; </span><span class="keyword">}<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57902""></a>
  <div class="note">
   <strong class="user">Fred D</strong>
   <a href="#57902" class="date">18-Oct-2005 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The trim_text function was helpful, but it did not take account of the possibility of having nothing to trim which can sometimes happen if you are using this function in a loop through data. I've added a count function to deal with that possibility<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">trim_text_elipse</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">){<br />
</span><span class="comment">//Create variable<br />
</span><span class="default">$trimmed</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
<br />
</span><span class="comment">//Remove double white space<br />
</span><span class="default">$text </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"&nbsp; "</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
<br />
</span><span class="comment">//Turn the text into an array<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
<br />
</span><span class="comment">//Check to see how many words there are<br />
</span><span class="default">$wordTotal </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Check to see if there are more words than the $count variable<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$wordTotal </span><span class="keyword">&gt; </span><span class="default">$count</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Loop through adding words until the $count variable is reached<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for ( </span><span class="default">$wordCounter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$wordCounter </span><span class="keyword">&lt;= </span><span class="default">$count</span><span class="keyword">; </span><span class="default">$wordCounter</span><span class="keyword">++ ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$trimmed </span><span class="keyword">.= </span><span class="default">$string</span><span class="keyword">[</span><span class="default">$wordCounter</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Check to and add space or finish with elipse&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">$wordCounter </span><span class="keyword">&lt; </span><span class="default">$count </span><span class="keyword">){ </span><span class="default">$trimmed </span><span class="keyword">.= </span><span class="string">" "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { </span><span class="default">$trimmed </span><span class="keyword">.= </span><span class="string">" &amp;#8230;"</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Set value returned to the existing value<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$trimmed </span><span class="keyword">=</span><span class="default">$text</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="comment">//Trim off any white space&nbsp; &nbsp; <br />
</span><span class="default">$trimmed </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$trimmed</span><span class="keyword">);<br />
return </span><span class="default">$trimmed</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49939""></a>
  <div class="note">
   <strong class="user">david _at_ webgroup _dot_ org</strong>
   <a href="#49939" class="date">12-Feb-2005 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While michael at htmlland dot net's code works, I believe it is better to use:<br />
$extension=substr($file,strrpos($file,".")+1);<br />
<br />
This doesn't incur the overhead of array handling.&nbsp; I haven't tested it for time functions, but it should work just as well and SHOULD be faster.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47553""></a>
  <div class="note">
   <strong class="user">freefaler at gmail dot com</strong>
   <a href="#47553" class="date">19-Nov-2004 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to count only elements in the second level of 2D arrays.A close to mind note, useful for multidimentional arrays:<br />
<br />
<span class="default">&lt;?php <br />
$food </span><span class="keyword">= array(</span><span class="string">'fruits' </span><span class="keyword">=&gt; array(</span><span class="string">'orange'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'apple'</span><span class="keyword">), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'veggie' </span><span class="keyword">=&gt; array(</span><span class="string">'carrot'</span><span class="keyword">, </span><span class="string">'collard'</span><span class="keyword">,</span><span class="string">'pea'</span><span class="keyword">)); <br />
<br />
</span><span class="comment">// recursive count <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">COUNT_RECURSIVE</span><span class="keyword">);&nbsp; </span><span class="comment">// output 8 <br />
<br />
// normal count <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// output 2 <br />
<br />
// all the fruits and veggies<br />
</span><span class="keyword">echo (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">COUNT_RECURSIVE</span><span class="keyword">)-</span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">)); </span><span class="comment">//output 6<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46542""></a>
  <div class="note">
   <strong class="user">moazzam at ummah dot org</strong>
   <a href="#46542" class="date">14-Oct-2004 04:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is an obvious note, but I am writing it any way so other, who did may not have observed this, can take advantage of it too.<br />
<br />
When running loops with count conditions, the code runs faster if you first assign the count() value to a variable and use that (instead of using count() directly in a loop condition.<br />
<br />
To explain my point better, here is an example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$time11 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br />
</span><span class="default">$bf </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bf </span><span class="keyword">.= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">$time12 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br />
</span><span class="default">$time1 </span><span class="keyword">= </span><span class="default">$time12 </span><span class="keyword">- </span><span class="default">$time11</span><span class="keyword">;<br />
<br />
print </span><span class="string">"First: "</span><span class="keyword">.</span><span class="default">$time1</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">$time21 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br />
</span><span class="default">$l </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$l</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bf </span><span class="keyword">.= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">$time22 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br />
</span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">$time22 </span><span class="keyword">- </span><span class="default">$time21</span><span class="keyword">;<br />
<br />
print </span><span class="string">"Second: "</span><span class="keyword">.</span><span class="default">$time2</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The output from the code above is (when run many times):<br />
<br />
First: 0.13001585006714<br />
Second: 0.099159002304077<br />
<br />
First: 0.12128901481628<br />
Second: 0.079941987991333<br />
<br />
First: 0.18690299987793<br />
Second: 0.13346600532532<br />
<br />
As you can see, the second method (which doesnt use count() directly in the loop) is faster than the first method (which uses count() directly in the loop).<br />
<br />
BTW:&nbsp; I copied the microtime_float() function from one of the comments in the microtime() section. It just returns time with microseconds as float. Check comments in microtime() for more info.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42951""></a>
  <div class="note">
   <strong class="user">michael at htmlland dot net</strong>
   <a href="#42951" class="date">04-Jun-2004 10:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have found on upload scripts or on file manipulation scripts that people can trick a classic file type filter:<br />
example:<br />
<br />
<span class="default">&lt;?php<br />
$filename</span><span class="keyword">=</span><span class="string">"bob.jpg.wav"</span><span class="keyword">;<br />
</span><span class="default">$bits</span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$filename</span><span class="keyword">);<br />
</span><span class="default">$extention</span><span class="keyword">= </span><span class="default">$bits</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
if(</span><span class="default">$extention </span><span class="keyword">== </span><span class="string">"jpg"</span><span class="keyword">){ echo</span><span class="string">"Not correct"</span><span class="keyword">; exit; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This returns the filename extention as jpg not wav.<br />
<br />
One way to change this is to use count() :<br />
example:<br />
<br />
<span class="default">&lt;?php<br />
$filename</span><span class="keyword">=</span><span class="string">"bob.jpg.wav"</span><span class="keyword">;<br />
</span><span class="default">$bits</span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$filename</span><span class="keyword">);<br />
</span><span class="default">$extention</span><span class="keyword">= </span><span class="default">$bits</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$bits</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">];<br />
if(</span><span class="default">$extention </span><span class="keyword">== </span><span class="string">"jpg"</span><span class="keyword">){ echo </span><span class="string">"Not correct"</span><span class="keyword">; exit; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This returns the filename extention as wav not jpg.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41121""></a>
  <div class="note">
   <strong class="user">rolandfoxx at yahoo dot com</strong>
   <a href="#41121" class="date">30-Mar-2004 04:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As an addition, any of the array manipulation functions can likewise get count to once again return 0:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array();<br />
print(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// prints 0<br />
</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"foo"</span><span class="keyword">;<br />
</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
print(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">//prints 0<br />
</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"bar"</span><span class="keyword">;<br />
</span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
print(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">//prints 0<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30252""></a>
  <div class="note">
   <strong class="user">admin at lft-muenchen dot de</strong>
   <a href="#30252" class="date">12-Mar-2003 04:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// will print 0<br />
</span><span class="default">$a</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
print (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// will print 1<br />
</span><span class="default">$a</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">;<br />
print (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// will print 1<br />
</span><span class="default">$a</span><span class="keyword">=array();<br />
print (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// will print 0<br />
</span><span class="default">?&gt;<br />
</span><br />
you can only get an array back to size 0 by using the array() command, not by just setting it to "" or null.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24512""></a>
  <div class="note">
   <strong class="user">simon at invalid dot com</strong>
   <a href="#24512" class="date">20-Aug-2002 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Reminder for using count():<br />
<br />
<span class="default">&lt;?php<br />
$ary </span><span class="keyword">= array(</span><span class="default">null</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">);<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ary</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// count: 4<br />
<br />
</span><span class="default">$ary</span><span class="keyword">[</span><span class="default">10</span><span class="keyword">] = </span><span class="string">"c"</span><span class="keyword">;<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ary</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// count: 5<br />
<br />
</span><span class="default">$ary</span><span class="keyword">[</span><span class="default">15</span><span class="keyword">] = </span><span class="default">null</span><span class="keyword">;<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ary</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// count: 6<br />
</span><span class="default">?&gt;<br />
</span><br />
=&gt; NULL is seen as an element in count()<br />
<br />
Count 2D array:<br />
<br />
<span class="default">&lt;?php<br />
$a2Dary </span><span class="keyword">= array(array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">) , array(), </span><span class="string">"v"</span><span class="keyword">);<br />
<br />
echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a2Dary</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// count: 3<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a2Dary</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);&nbsp; &nbsp; </span><span class="comment">//count 2<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a2Dary</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);&nbsp; &nbsp; </span><span class="comment">// count: 0<br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a2Dary</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);&nbsp; &nbsp; </span><span class="comment">// count: 1<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope can help you</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21038""></a>
  <div class="note">
   <strong class="user">webmaster at NOSPAMtrafficg dot com</strong>
   <a href="#21038" class="date">26-Apr-2002 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Counting a multi-dimentional array<br />
<br />
test array<br />
<br />
<span class="default">&lt;?php<br />
$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]&nbsp; = </span><span class="default">128</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]&nbsp; = </span><span class="default">256</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]&nbsp; = </span><span class="default">384</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">3</span><span class="keyword">]&nbsp; = </span><span class="default">512</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">4</span><span class="keyword">]&nbsp; = </span><span class="default">1024</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">5</span><span class="keyword">]&nbsp; = </span><span class="default">2048</span><span class="keyword">;<br />
<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]&nbsp; = </span><span class="default">1024</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]&nbsp; = </span><span class="default">2048</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]&nbsp; = </span><span class="default">3072</span><span class="keyword">;<br />
</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">3</span><span class="keyword">]&nbsp; = </span><span class="default">4096</span><span class="keyword">;<br />
<br />
</span><span class="default">count</span><span class="keyword">(</span><span class="default">$settings</span><span class="keyword">) </span><span class="comment">// returns 2<br />
</span><span class="default">count</span><span class="keyword">(</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) </span><span class="comment">// returns 6<br />
</span><span class="default">count</span><span class="keyword">(</span><span class="default">$settings</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) </span><span class="comment">// returns 4<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12166""></a>
  <div class="note">
   <strong class="user">kanareykin at denison dot edu</strong>
   <a href="#12166" class="date">26-Mar-2001 01:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's how to count non-empty elements<br />
in an array of any dimension. Hope<br />
it will be useful for somebody.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// recursively count all non-empty elements <br />
// in array of any dimension or mixed - i.e. <br />
// array('1' =&gt; 2, '2' =&gt; array('1' =&gt; 3, '2' =&gt; 4))<br />
</span><span class="keyword">function </span><span class="default">count_all</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// skip if argument is empty<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$arg</span><span class="keyword">)&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// not an array, return 1 (base case) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// else call recursively for all elements $arg<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$arg </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">count_all</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$count</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="9901""></a>
  <div class="note">
   <strong class="user">martin at complinet dot com</strong>
   <a href="#9901" class="date">30-Nov-2000 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The count function does not ignore null values in an array. To achieve this use this function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">xcount</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
return </span><span class="default">$count</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8295""></a>
  <div class="note">
   <strong class="user">jmcastagnetto at php dot net</strong>
   <a href="#8295" class="date">04-Sep-2000 12:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to disambiguate if a variable contains an array w/ only one element, just us is_array() or gettype()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="3552""></a>
  <div class="note">
   <strong class="user">legobuff at hotmail dot com</strong>
   <a href="#3552" class="date">02-Feb-2000 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is taken from sganer@expio.co.nz comments on the sizeof() function:<br />
If some elements in your array are not set, then sizeof() and count() will not return the index of the last element, but will return the number of set elements. To find the index of the last element in the array:<br />
<br />
end($yourArray);<br />
$index = key($yourArray);<br />
<br />
... Where $yourArray is the array you want to find the last index ($index) of.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.compact.html">compact</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.current.html">current</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
