<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Equivalent to exit</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.defined.html">defined</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.eval.html">eval</a></div>
 <div class="up"><a href="ref.misc.html">Misc. Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.die" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">die</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">die</span> &mdash; <span class="dc-title">Equivalent to <span class="function"><a href="function.exit.html" class="function">exit()</a></span></span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.die-description">
  <h3 class="title">Description</h3>
  <p class="para">
   This language construct is equivalent to <span class="function"><a href="function.exit.html" class="function">exit()</a></span>.
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="99061""></a>
  <div class="note">
   <strong class="user">admin at studio-gepard dot pl</strong>
   <a href="#99061" class="date">25-Jul-2010 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Example of PHP function with SELECT query using.<br />
It simplifies usage of SQL and makes code much much cleaner. (similar functions can be made for other queries)<br />
<span class="default">&lt;?php<br />
define</span><span class="keyword">(</span><span class="string">"sql_error_reporting"</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">); </span><span class="comment">//true to display errors, false to hide them<br />
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">SQLselect </span><span class="keyword">(</span><span class="default">$TABLE</span><span class="keyword">,</span><span class="default">$WHERE</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp; &nbsp; if (empty(</span><span class="default">$WHERE</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"SELECT * FROM `</span><span class="default">$TABLE</span><span class="string">`"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"SELECT * FROM `</span><span class="default">$TABLE</span><span class="string">` WHERE </span><span class="default">$WHERE</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$query</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; if (</span><span class="default">$query</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">){ if (</span><span class="default">sql_error_reporting</span><span class="keyword">) {<br />
die (</span><span class="string">"Sql error of &lt;b&gt;"</span><span class="keyword">.</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_NAME"</span><span class="keyword">].</span><span class="string">"&lt;/b&gt;. Call to `</span><span class="default">$TABLE</span><span class="string">` in "</span><span class="keyword">.</span><span class="default">__FILE__</span><span class="keyword">.</span><span class="string">" on line: "</span><span class="keyword">.</span><span class="default">__LINE__</span><span class="keyword">.</span><span class="string">"&lt;br&gt;"</span><span class="keyword">.</span><span class="default">mysql_error</span><span class="keyword">().</span><span class="string">"&lt;br&gt;&lt;b&gt;SQL:&lt;/b&gt;&lt;br&gt;</span><span class="default">$sql</span><span class="string">&lt;br&gt;"</span><span class="keyword">);<br />
}else{ die(); }&nbsp; }<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
What this function does is taking the table and your query, execute the mysql query and provide the result. If error happen during the query, than provide detailed output using code provided by matthias dot schniedermeyer at telefonica dot de<br />
---<br />
Usage:<br />
$id=1;<br />
$result = SQLselect ("pages","`id`='$id'");<br />
---<br />
Error output example:<br />
Sql error of /website/index.php. Call to `pages` in C:\www\website\functions\sql.inc on line: 43<br />
Unknown column 'id' in 'where clause'<br />
SQL:<br />
SELECT * FROM `pages` WHERE `id`='1'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97815""></a>
  <div class="note">
   <strong class="user">zero dot affect at hotmail dot com</strong>
   <a href="#97815" class="date">10-May-2010 02:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was making a few functions and i thought it would be easier to use a single function to close off my code, The following is a example of it working i am sure if you include footer code when exiting code all the time you'll understand the purpose of the following function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">error_msg</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="comment"># add other stuff you may want here<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$hello_var </span><span class="keyword">= </span><span class="string">'hello'</span><span class="keyword">; </span><span class="comment">//example of addon to beginning<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$goodbye_var </span><span class="keyword">= </span><span class="string">'goodbye'</span><span class="keyword">; </span><span class="comment">//example of addon to end<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">die(</span><span class="default">$hello_var</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$text</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$goodbye_var</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">error_msg</span><span class="keyword">(</span><span class="string">'how are you?'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
hello<br />
how are you?<br />
goodbye</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95996""></a>
  <div class="note">
   <strong class="user">BJ (php-net at starurl dot com)</strong>
   <a href="#95996" class="date">01-Feb-2010 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Correction: when using trigger_error() to throw a fatal error, make sure you include "E_USER_ERROR" as the error type, like so:<br />
<br />
&nbsp;&nbsp;&nbsp; @statement or trigger_error("Error msg", E_USER_ERROR);<br />
<br />
Otherwise, trigger_error() defaults to a non-fatal Warning, so script execution won't be halted.<br />
<br />
Sorry for omitting that! [Note to Ed: feel free to correct post and remove this correction].</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93061""></a>
  <div class="note">
   <strong class="user">Damien Bezborodov</strong>
   <a href="#93061" class="date">20-Aug-2009 10:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware that when using PHP on the command line, die("Error") simply prints "Error" to STDOUT and terminates the program with a normal exit code of 0.<br />
<br />
If you are looking to follow UNIX conventions for CLI programs, you may consider the following:<br />
<br />
<span class="default">&lt;?php<br />
fwrite</span><span class="keyword">(</span><span class="default">STDERR</span><span class="keyword">, </span><span class="string">"An error occurred.\n"</span><span class="keyword">);<br />
exit(</span><span class="default">1</span><span class="keyword">); </span><span class="comment">// A response code other than 0 is a failure<br />
</span><span class="default">?&gt;<br />
</span><br />
In this way, when you pipe STDOUT to a file, you may see error messages in the console and BASH scripts can test for a response code of 0 for success:<br />
<br />
rc@adl-dev-01:~$ php die.php &gt; test<br />
An error occurred.<br />
rc@adl-dev-01:~$ echo $?<br />
1<br />
<br />
Ideally, PHP would write all Warnings, Fatal Errors, etc on STDERR, but that's another story.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93008""></a>
  <div class="note">
   <strong class="user">watch dot do dot sun at gmail dot com</strong>
   <a href="#93008" class="date">19-Aug-2009 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use this function for mysql connection.<br />
<br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$conn </span><span class="keyword">= </span><span class="default">mysql_connection</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">,</span><span class="string">"root"</span><span class="keyword">,</span><span class="default">12345678</span><span class="keyword">);<br />
<br />
if(!</span><span class="default">$conn</span><span class="keyword">){<br />
die(</span><span class="string">"Couldn't connected mysql"</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
So if you can't connect to mysql you will take the message.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83135""></a>
  <div class="note">
   <strong class="user">ecziegler at gmail.com</strong>
   <a href="#83135" class="date">12-May-2008 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using auto append file (auto_append_file ="_end.php";) on your php.ini, be carefull on using die anywhere you want your appended file to be called. Souds obvious now but took me a good 1 hour to realise why one script was not appending end file as expected.<br />
<br />
I solved using `return` instead; it works anywhere not just inside functions and the effect is pretty much the same as die.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72481""></a>
  <div class="note">
   <strong class="user">jbailey at raspberryginger dot com</strong>
   <a href="#72481" class="date">20-Jan-2007 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
die doesn't prevent destructors from being run, so the script doesn't exit immediately, it still goes through cleanup routines.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46076""></a>
  <div class="note">
   
   <a href="#46076" class="date">28-Sep-2004 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Perhaps the Coldfusion query below can be answered as follows:<br />
---------<br />
(From the "User Contributed Notes" for the PHP construct "exit")<br />
<br />
nospam at mydomain dot com<br />
27-Sep-2004 10:12 <br />
Using return instead of exit is to prefer when you want the script that you have included inside another script to die but continue to execute the main script.<br />
// Radcliff<br />
---------</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36539""></a>
  <div class="note">
   <strong class="user">matthias dot schniedermeyer at telefonica dot de</strong>
   <a href="#36539" class="date">14-Oct-2003 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get a perl-like die you can/should append this snipped<br />
&nbsp;. " File: " . __FILE__ . " on line: " . __LINE__<br />
e.g.<br />
die ("Error" . " File: " . __FILE__ . " on line: " . __LINE__);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.defined.html">defined</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.eval.html">eval</a></div>
 <div class="up"><a href="ref.misc.html">Misc. Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
