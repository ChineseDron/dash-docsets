<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Gets file type</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.filesize.html">filesize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.flock.html">flock</a></div>
 <div class="up"><a href="ref.filesystem.html">Filesystem Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.filetype" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">filetype</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">filetype</span> &mdash; <span class="dc-title">Gets file type</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.filetype-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>filetype</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$filename</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Returns the type of the given file.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.filetype-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">filename</tt></i></span>
     <dd>

      <p class="para">
       Path to the file.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.filetype-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the type of the file. Possible values are fifo, char,
   dir, block, link, file, socket and unknown.
  </p>
  <p class="para">
   Returns <b><tt>FALSE</tt></b> if an error occurs. <span class="function"><b>filetype()</b></span> will also
   produce an <b><tt>E_NOTICE</tt></b> message if the stat call fails
   or if the file type is unknown.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.filetype-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2177">
    <p><b>Example #1 <span class="function"><b>filetype()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filetype</span><span style="color: #007700">(</span><span style="color: #DD0000">'/etc/passwd'</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;file<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filetype</span><span style="color: #007700">(</span><span style="color: #DD0000">'/etc/'</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;dir<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.filetype-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
Upon failure, an <b><tt>E_WARNING</tt></b> is emitted.
</p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.filetype-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">The results of this
function are cached. See <span class="function"><a href="function.clearstatcache.html" class="function">clearstatcache()</a></span> for
more details.</span></p></blockquote>
  <div class="tip"><b class="tip">Tip</b><p class="simpara">As of PHP 5.0.0, this function
can also be used with <em class="emphasis">some</em> URL wrappers.  Refer to
<a href="wrappers.html" class="xref">Supported Protocols and Wrappers</a> to determine which wrappers support
<span class="function"><a href="function.stat.html" class="function">stat()</a></span> family of functionality.</p></div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.filetype-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-dir.html" class="function" rel="rdfs-seeAlso">is_dir()</a> - Tells whether the filename is a directory</span></li>
    <li class="member"><span class="function"><a href="function.is-file.html" class="function" rel="rdfs-seeAlso">is_file()</a> - Tells whether the filename is a regular file</span></li>
    <li class="member"><span class="function"><a href="function.is-link.html" class="function" rel="rdfs-seeAlso">is_link()</a> - Tells whether the filename is a symbolic link</span></li>
    <li class="member"><span class="function"><a href="function.file-exists.html" class="function" rel="rdfs-seeAlso">file_exists()</a> - Checks whether a file or directory exists</span></li>
    <li class="member"><span class="function"><a href="function.stat.html" class="function" rel="rdfs-seeAlso">stat()</a> - Gives information about a file</span></li>
    <li class="member"><span class="function"><a href="function.mime-content-type.html" class="function" rel="rdfs-seeAlso">mime_content_type()</a> - Detect MIME Content-type for a file (deprecated)</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104308""></a>
  <div class="note">
   <strong class="user">Abhi Jain</strong>
   <a href="#104308" class="date">08-Jun-2011 12:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Putting @ in front of the filetype() function does not prevent it from raising a warning (Lstat failed), if E_WARNING is enabled on your error_reporting.<br />
<br />
The most common cause of filetype() raising this warning and not showing a filetype() in the output (it actually returns NULL) is, if you happened to pass just the 'Dir or File Name' and not the complete "Absolute or Relative Path" to that 'file or Dir'. It may still read that file and return its filetype as "file" but for Dir's it shows warning and outputs NULL.<br />
eg:<br />
$pathToFile = '/var/www';<br />
$file = 'test.php';<br />
$dir = 'somedir';<br />
<br />
Output for filetype($file) will be returned as 'file' and possibly without any warning, but for filetype($dir), it will return NULL with the warning "Lstat failed", unless you pass a complete path to that dir, i.e. filetype($pathToFile.'/'.$dir).<br />
<br />
This happened to me and found this solution after a lot of trial and error. Thought, it might help someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100319""></a>
  <div class="note">
   <strong class="user">adlerweb</strong>
   <a href="#100319" class="date">07-Oct-2010 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
filetype() does not work for files &gt;=2GB on x86 Linux. You can use stat as a workarround:<br />
<br />
$type=trim(`stat -c%F $file`);<br />
<br />
Note that stat returns diffenerent strings ("regular file","directory",...)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87161""></a>
  <div class="note">
   <strong class="user">7r6ivyeo at mail dot com</strong>
   <a href="#87161" class="date">21-Nov-2008 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use the CLI version of PHP on Windows Vista.&nbsp; Here's how to determine if a file is marked "hidden" by NTFS:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_hidden_file</span><span class="keyword">(</span><span class="default">$fn</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$attr </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">exec</span><span class="keyword">(</span><span class="string">'FOR %A IN ("'</span><span class="keyword">.</span><span class="default">$fn</span><span class="keyword">.</span><span class="string">'") DO @ECHO %~aA'</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] === </span><span class="string">'h'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Changing <span class="default">&lt;?php </span><span class="keyword">if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] === </span><span class="string">'h'</span><span class="keyword">) </span><span class="default">?&gt;</span> to <span class="default">&lt;?php </span><span class="keyword">if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] === </span><span class="string">'s'</span><span class="keyword">) </span><span class="default">?&gt;</span> will check for system files.<br />
<br />
This should work on any Windows OS that provides DOS shell commands.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40660""></a>
  <div class="note">
   <strong class="user">ruach at chpc dot utah dot edu</strong>
   <a href="#40660" class="date">10-Mar-2004 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are 7 values that can be returned. Here is a list of them and what each one means<br />
<br />
block: block special device<br />
<br />
char: character special device<br />
<br />
dir: directory<br />
<br />
fifo: FIFO (named pipe)<br />
<br />
file: regular file<br />
<br />
link: symbolic link<br />
<br />
unknown: unknown file type</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.filesize.html">filesize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.flock.html">flock</a></div>
 <div class="up"><a href="ref.filesystem.html">Filesystem Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
