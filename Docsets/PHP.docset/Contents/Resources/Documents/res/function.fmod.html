<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Returns the floating point remainder (modulo) of the division
  of the arguments</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.floor.html">floor</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.getrandmax.html">getrandmax</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.fmod" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fmod</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">fmod</span> &mdash; <span class="dc-title">Returns the floating point remainder (modulo) of the division
  of the arguments</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.fmod-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type">float</span> <span class="methodname"><b>fmod</b></span>
     ( <span class="methodparam"><span class="type">float</span> <tt class="parameter">$x</tt></span>
    , <span class="methodparam"><span class="type">float</span> <tt class="parameter">$y</tt></span>
    )</div>

  <p class="para rdfs-comment">
   Returns the floating point remainder of dividing the dividend
   (<i><tt class="parameter">x</tt></i>) by the divisor (<i><tt class="parameter">y</tt></i>).
   The reminder (<var class="varname"><var class="varname">r</var></var>) is defined as: x = i * y + r, for 
   some integer <var class="varname"><var class="varname">i</var></var>. If <i><tt class="parameter">y</tt></i> is
   non-zero, <var class="varname"><var class="varname">r</var></var> has the same sign as
   <i><tt class="parameter">x</tt></i> and a magnitude less than the magnitude of
   <i><tt class="parameter">y</tt></i>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.fmod-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">x</tt></i></span>
     <dd>

      <p class="para">
       The dividend
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">y</tt></i></span>
     <dd>

      <p class="para">
       The divisor
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.fmod-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The floating point remainder of 
   <i><tt class="parameter">x</tt></i>/<i><tt class="parameter">y</tt></i>
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.fmod-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3184">
    <p><b>Example #1 Using <span class="function"><b>fmod()</b></span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5.7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1.3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fmod</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$r&nbsp;equals&nbsp;0.5,&nbsp;because&nbsp;4&nbsp;*&nbsp;1.3&nbsp;+&nbsp;0.5&nbsp;=&nbsp;5.7<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="96131""></a>
  <div class="note">
   <strong class="user">dePijd</strong>
   <a href="#96131" class="date">10-Feb-2010 06:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This class ran through several unit tests and fixes all failures found in bugs.php.net<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">MyNumber </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">isZero</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$precision </span><span class="keyword">= </span><span class="default">0.0000000001</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$precision </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$precision</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return -</span><span class="default">$precision </span><span class="keyword">&lt; (float)</span><span class="default">$number </span><span class="keyword">&amp;&amp; (float)</span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">$precision</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">isEqual</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">isZero</span><span class="keyword">(</span><span class="default">$number1 </span><span class="keyword">- </span><span class="default">$number2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rest </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">self</span><span class="keyword">::</span><span class="default">isEqual</span><span class="keyword">(</span><span class="default">$rest</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0.0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals1 </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals1 </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">) - </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals2 </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals2 </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">) - </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (float)</span><span class="default">round</span><span class="keyword">(</span><span class="default">$rest</span><span class="keyword">, </span><span class="default">max</span><span class="keyword">(</span><span class="default">$decimals1</span><span class="keyword">, </span><span class="default">$decimals2</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94132""></a>
  <div class="note">
   <strong class="user">linkboss at gmail dot com</strong>
   <a href="#94132" class="date">18-Oct-2009 05:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can also use the modulo operator '%', which returns the same result :<br />
<br />
<span class="default">&lt;?php<br />
$var1 </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$var2 </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
<br />
echo </span><span class="default">$var1 </span><span class="keyword">% </span><span class="default">$var2</span><span class="keyword">; </span><span class="comment">//Returns 1<br />
</span><span class="keyword">echo </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$var1</span><span class="keyword">,</span><span class="default">$var2</span><span class="keyword">); </span><span class="comment">//Returns the same<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83319""></a>
  <div class="note">
   <strong class="user">matrebatre</strong>
   <a href="#83319" class="date">20-May-2008 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I always use this:<br />
<br />
function modulo($n,$b) {<br />
return $n-$b*floor($n/$b);<br />
}<br />
<br />
And it appears to work correctly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76125""></a>
  <div class="note">
   <strong class="user">ysangkok at gmail dot com</strong>
   <a href="#76125" class="date">01-Jul-2007 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that this:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">custom_modulo</span><span class="keyword">(</span><span class="default">$var1</span><span class="keyword">, </span><span class="default">$var2</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$var1</span><span class="keyword">/</span><span class="default">$var2</span><span class="keyword">;<br />
<br />
&nbsp; return (float) ( </span><span class="default">$var1 </span><span class="keyword">- ( ( (int) (</span><span class="default">$tmp</span><span class="keyword">) ) * </span><span class="default">$var2 </span><span class="keyword">) );<br />
}<br />
<br />
</span><span class="default">$par1 </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$par2 </span><span class="keyword">= </span><span class="default">0.2</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"fmod:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">fmod </span><span class="keyword">( </span><span class="default">$par1 </span><span class="keyword">, </span><span class="default">$par2 </span><span class="keyword">));<br />
echo </span><span class="string">"custom_modulo: "</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">custom_modulo </span><span class="keyword">( </span><span class="default">$par1 </span><span class="keyword">, </span><span class="default">$par2 </span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
gives this:<br />
<br />
fmod:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float(0.2)<br />
custom_modulo: float(0)<br />
<br />
Fmod does not deliver the desired result, therefore I made my own.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59530""></a>
  <div class="note">
   <strong class="user">cory at lavacube dot net</strong>
   <a href="#59530" class="date">08-Dec-2005 10:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I don't believe that is correct.<br />
<br />
Try this out using your patch:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">echo </span><span class="default">duration</span><span class="keyword">( </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2006</span><span class="keyword">)-</span><span class="default">time</span><span class="keyword">() );<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
As of right now, this will read:<br />
1 month, 22 days, 24 hours, 49 minutes, 15 seconds<br />
<br />
Which is completely incorrect. Seeing as how it is the 9th of December.<br />
<br />
The real real flaw here is how the 'year' and 'month' periods are calculated. As most months vary in length...<br />
<br />
Thank you very much SnakeEater251 for pointing this out.<br />
<br />
The quickest way to get slightly more accurate results, is to use averages based on one "true" year, which is 365.25 days.<br />
<br />
Change the year and month to:<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'year'&nbsp; &nbsp; &nbsp;&nbsp; =&gt; 31557600, // one 'true year' (365.25 days)<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'month'&nbsp; &nbsp; =&gt; 2629800, // one 'true year' divided by 12 :-)<br />
<br />
I will work on developing a true fix, for pin-point accuracy. ;-)<br />
<br />
&nbsp;- Cory Christison</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59130""></a>
  <div class="note">
   <strong class="user">SnakeEater251</strong>
   <a href="#59130" class="date">26-Nov-2005 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note on the code given by cory at lavacube dot net.<br />
You will recieve better results by not using floor and using round instead. As you continue increasing to larger amounts of time you will notice that the outputted time is off by large amounts.<br />
<br />
so instead of $temp = floor( $int_seconds / $length );<br />
we would use&nbsp; $temp = round( $int_seconds / $length );<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">duration</span><span class="keyword">( </span><span class="default">$int_seconds</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$if_reached</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$key_suffix </span><span class="keyword">= </span><span class="string">'s'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$periods </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'year'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">31556926</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'month'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">2629743</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'day'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'hour'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'minute'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'second'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// used to hide 0's in higher periods<br />
&nbsp;&nbsp; </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// do the loop thang<br />
&nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$periods </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$length </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">// calculate<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">( </span><span class="default">$int_seconds </span><span class="keyword">/ </span><span class="default">$length </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">// determine if temp qualifies to be passed to output<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">if( !</span><span class="default">$flag_hide_zero </span><span class="keyword">|| </span><span class="default">$temp </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// store in an array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$build</span><span class="keyword">[] = </span><span class="default">$temp</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.(</span><span class="default">$temp</span><span class="keyword">!=</span><span class="default">1</span><span class="keyword">?</span><span class="string">'s'</span><span class="keyword">:</span><span class="default">null</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// set flag to false, to allow 0's in lower periods<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">// get the remainder of seconds<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$int_seconds </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$int_seconds</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// return output, if !empty, implode into string, else output $if_reached<br />
&nbsp;&nbsp; </span><span class="keyword">return ( !empty(</span><span class="default">$build</span><span class="keyword">)?</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$build</span><span class="keyword">):</span><span class="default">$if_reached </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59105""></a>
  <div class="note">
   <strong class="user">cory at lavacube dot net</strong>
   <a href="#59105" class="date">26-Nov-2005 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A more formal way for generating duration strings:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">duration</span><span class="keyword">( </span><span class="default">$int_seconds</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$if_reached</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$key_suffix </span><span class="keyword">= </span><span class="string">'s'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$periods </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'year'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">31556926</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'month'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">2629743</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'day'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'hour'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'minute'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'second'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// used to hide 0's in higher periods<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// do the loop thang<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$periods </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$length </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// calculate<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$int_seconds </span><span class="keyword">/ </span><span class="default">$length </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// determine if temp qualifies to be passed to output<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( !</span><span class="default">$flag_hide_zero </span><span class="keyword">|| </span><span class="default">$temp </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// store in an array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$build</span><span class="keyword">[] = </span><span class="default">$temp</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.(</span><span class="default">$temp</span><span class="keyword">!=</span><span class="default">1</span><span class="keyword">?</span><span class="string">'s'</span><span class="keyword">:</span><span class="default">null</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// set flag to false, to allow 0's in lower periods<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get the remainder of seconds<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$int_seconds </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$int_seconds</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// return output, if !empty, implode into string, else output $if_reached<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return ( !empty(</span><span class="default">$build</span><span class="keyword">)?</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$build</span><span class="keyword">):</span><span class="default">$if_reached </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Simple use:<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="default">duration</span><span class="keyword">( </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">) - </span><span class="default">time</span><span class="keyword">(), </span><span class="string">'Some fancy message to output if duration is already met...' </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Enjoy. :-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58977""></a>
  <div class="note">
   <strong class="user">cory at simplesystems dot ca</strong>
   <a href="#58977" class="date">22-Nov-2005 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note on the previous note by Ryan Means:<br />
<br />
Instead of using explode() to get the number before the decimal point, would be to use floor()... floor() rounds fractions down, which is exactly what is needed.<br />
<br />
His same example using floor();<br />
<br />
<span class="default">&lt;?PHP<br />
$totalsec</span><span class="keyword">=</span><span class="default">XXXXXXX</span><span class="keyword">; </span><span class="comment">//Replace the X's with a int value of seconds<br />
<br />
</span><span class="default">$daysarray </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$totalsec</span><span class="keyword">/</span><span class="default">86400 </span><span class="keyword">);<br />
<br />
</span><span class="default">$partdays </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$totalsec</span><span class="keyword">, </span><span class="default">86400</span><span class="keyword">);<br />
</span><span class="default">$hours </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$partdays</span><span class="keyword">/</span><span class="default">3600 </span><span class="keyword">);<br />
<br />
</span><span class="default">$parthours </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$partdays</span><span class="keyword">, </span><span class="default">3600</span><span class="keyword">);<br />
</span><span class="default">$min </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$parthours</span><span class="keyword">/</span><span class="default">60 </span><span class="keyword">);<br />
<br />
</span><span class="default">$sec </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$parthours</span><span class="keyword">, </span><span class="default">60</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"days " </span><span class="keyword">. </span><span class="default">$days </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"hours " </span><span class="keyword">. </span><span class="default">$hours </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"minutes " </span><span class="keyword">. </span><span class="default">$min </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"seconds " </span><span class="keyword">. </span><span class="default">$sec </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52740""></a>
  <div class="note">
   <strong class="user">Ryan Means</strong>
   <a href="#52740" class="date">11-May-2005 06:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your given a number of seconds and you want to turn it into Days, hours, minutes, and seconds:<br />
(this is very useful when using the Unix Time Epoch to find the difference from one time to the other)<br />
<br />
For Example:<br />
I posted in a bb at one date.. when I post a Unix Time Epoch was marked..<br />
Then When I go back and view it again 2 weeks later I generate the Unix Time Epoch for the current time. <br />
Then take the current time - the posting time, this gives the number of seconds since the post.<br />
Then use the below equations to get days, hours, minutes, and seconds since the post was made:<br />
<br />
<span class="default">&lt;?PHP<br />
$totalsec</span><span class="keyword">=</span><span class="default">XXXXXXX</span><span class="keyword">; </span><span class="comment">//Replace the X's with a int value of seconds<br />
<br />
</span><span class="default">$daysarray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, (</span><span class="default">$totalsec</span><span class="keyword">/</span><span class="default">86400</span><span class="keyword">));<br />
</span><span class="default">$days </span><span class="keyword">= </span><span class="default">$daysarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
<br />
</span><span class="default">$partdays </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$totalsec</span><span class="keyword">, </span><span class="default">86400</span><span class="keyword">);<br />
</span><span class="default">$hoursarray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, (</span><span class="default">$partdays</span><span class="keyword">/</span><span class="default">3600</span><span class="keyword">));<br />
</span><span class="default">$hours </span><span class="keyword">= </span><span class="default">$hoursarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
<br />
</span><span class="default">$parthours </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$partdays</span><span class="keyword">, </span><span class="default">3600</span><span class="keyword">);<br />
</span><span class="default">$minarray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, (</span><span class="default">$parthours</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">));<br />
</span><span class="default">$min </span><span class="keyword">= </span><span class="default">$minarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
<br />
</span><span class="default">$sec </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$parthours</span><span class="keyword">, </span><span class="default">60</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"days " </span><span class="keyword">. </span><span class="default">$days </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"hours " </span><span class="keyword">. </span><span class="default">$hours </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"minutes " </span><span class="keyword">. </span><span class="default">$min </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"seconds " </span><span class="keyword">. </span><span class="default">$sec </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50318""></a>
  <div class="note">
   <strong class="user">sam dot fullman at verizon</strong>
   <a href="#50318" class="date">24-Feb-2005 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function behaves wierd in negative regions.&nbsp; If you have something like an angle that goes through 360 degress of rotation and your angle goes negative, then fmod of -1 should be 359, right?<br />
<br />
Here's a way to get that result, so that you get a phase shift vs. just a "negative fmod":<br />
<br />
$h= -30; //same as 330 degrees<br />
<br />
//handle negative<br />
if($h&lt;0){<br />
&nbsp;&nbsp;&nbsp; while(true){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $fail++; if($fail&gt;100)break; //in case loop gets tied up<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $h+=360;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($h&gt;=0)break;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
$h=fmod($h,360);<br />
<br />
echo $h;&nbsp; //will say 330 degrees - we phase shifted up until positive.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50153""></a>
  <div class="note">
   <strong class="user">rocan</strong>
   <a href="#50153" class="date">19-Feb-2005 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
john at digitizelife dot com:<br />
<br />
Well not sure how your comment applys to fmod.. <br />
<br />
but their is a sure simpler way of coping with situations like this.. <br />
<br />
its called a bit field (bit masking)<br />
&nbsp;<br />
e.g.<br />
<br />
/* Categories */<br />
bin&nbsp; &nbsp;&nbsp; dec&nbsp;&nbsp; cat<br />
0001 - 1 - Blue <br />
0010 - 2 - Red <br />
0100 - 4 - Green&nbsp; <br />
1000 - 8 - Yellow<br />
<br />
/* Permissions */<br />
0010 - 2&nbsp;&nbsp; - Bob<br />
0101 - 5&nbsp; &nbsp; - John<br />
1011 - 11&nbsp; - Steve<br />
1111-&nbsp; 15 - Mary<br />
<br />
to find out the permissions for each user you simple need to do a bitwise AND&nbsp; <br />
<br />
$steve_auth=11;<br />
<br />
function get_perm($auth)<br />
{<br />
&nbsp;&nbsp;&nbsp; $cats["Blue"]=1;<br />
&nbsp;&nbsp;&nbsp; $cats["Red"]=2;<br />
&nbsp;&nbsp;&nbsp; $cats["Green"]=4;<br />
&nbsp;&nbsp;&nbsp; $cats["Yellow"]=8;<br />
&nbsp;&nbsp;&nbsp; $perms=array();<br />
&nbsp;&nbsp;&nbsp; foreach($cats as $perm=&gt;$catNum)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($auth &amp; $catNum)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $perms[$perm]=true;<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return $perms;<br />
}<br />
<br />
print_r(get_perm($steve_auth));<br />
/*<br />
returns <br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [Blue] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [Red] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [Yellow] =&gt; 1<br />
)<br />
*/<br />
<br />
This is far simpler than your prime number idea, in fact you dont even need a function in any tests for the permmsions on a user you can do them directly using the bitwise and operator.<br />
<br />
You may want to read the following <br />
<br />
<a href="http://en.wikipedia.org/wiki/Bitmask" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Bitmask</a><br />
<a href="http://uk2.php.net/manual/en/language.operators.bitwise.php" rel="nofollow" target="_blank">http://uk2.php.net/manual/en/language.operators.bitwise.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49341""></a>
  <div class="note">
   <strong class="user">john at digitizelife dot com</strong>
   <a href="#49341" class="date">24-Jan-2005 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In the process of writing an authentication process for my software, I came across the need for a permissions function. Basically, I wanted to use prime numbers to indicate a specified permission 'group' or 'category'. For example, the categories could be asigned a prime number as follows;<br />
<br />
/* Categories */<br />
2 - Blue<br />
3 - Red<br />
5 - Green<br />
7 - Yellow<br />
<br />
Then, a permission level can be assigned to a user as follows;<br />
<br />
/* Permissions */<br />
3 - Bob<br />
10 - John<br />
42 - Steve<br />
210 - Mary<br />
<br />
Using the prime number assigned to the specified category, you can specify access to each category by multiplying the allowed categories together. For example, Bob only has access to Red, whereas Steve has access to Red, Blue and Yellow.<br />
<br />
Only prime numbers work because the resulting permission number can only be devided evenly by 1, itself, and one of the prime numbers. So, a script can be written to look for the multiples of the permission number. Here is what I came up with;<br />
<br />
function get_perm($auth) {<br />
<br />
&nbsp;&nbsp;&nbsp; /* initialize variables */<br />
&nbsp;&nbsp;&nbsp; $perm = array();<br />
&nbsp;&nbsp;&nbsp; $count = 0;<br />
<br />
&nbsp;&nbsp;&nbsp; for ($x = 1; $x &lt;= $auth; $x++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $result = $auth / $x;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!ereg("[.]", $result)) { // is whole number<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $n = 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for ($y = 1; $y &lt;= $x; $y++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result = $x / $y;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!ereg("[.]", $result)) { // is whole number<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $n++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($n == 2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $count++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $perm[$count] = $x;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return($perm);<br />
}<br />
<br />
The function starts by looking for multiples of $auth (the given authorization number [42]). Then it checks to see if that multiple is prime. If it is, the script inserts the value into array $perm.<br />
<br />
When called, the function will return the array of permissions for the given authorization number. For example;<br />
<br />
$auth = 42;<br />
<br />
$perm = get_perm($auth);<br />
<br />
$perm will now contain the numbers; 2, 3, 7 since 2*3*7=42. The values can be parsed by using a simple loop.<br />
<br />
/* count number of permisions */<br />
$count = count($perm);<br />
<br />
/* print permisions */<br />
while ($count &gt; 0) {<br />
&nbsp;&nbsp;&nbsp; echo "$perm[$count]&lt;br&gt;";<br />
&nbsp;&nbsp;&nbsp; $count--;<br />
}<br />
<br />
If there is a more simple way to acheive the previous results, please feel free to comment (and e-mail me). I orignally thought PHP was able to do this simply by mod($auth). However, I was wrong.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48881""></a>
  <div class="note">
   <strong class="user">jphansen at uga dot edu</strong>
   <a href="#48881" class="date">10-Jan-2005 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
fmod() does not mirror a calculator's mod function. For example, fmod(.25, .05) will return .05 instead of 0 due to floor(). Using the aforementioned example, you may get 0 by replacing floor() with round() in a custom fmod().<br />
<br />
&lt;?<br />
function fmod_round($x, $y) {<br />
&nbsp;&nbsp;&nbsp; $i = round($x / $y);<br />
&nbsp;&nbsp;&nbsp; return $x - $i * $y;<br />
}<br />
<br />
var_dump(fmod(.25, .05)); // float(0.05)<br />
var_dump(fmod_round(.25, .05)); // float(0)<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42731""></a>
  <div class="note">
   <strong class="user">konstantin at rekk dot de</strong>
   <a href="#42731" class="date">27-May-2004 08:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to reduce an integer to zero if zero and 1 if not, you can use<br />
<br />
$sign = (integer)(boolean)$integer;<br />
<br />
instead of<br />
<br />
$sign = $integer &gt; 0 ? 1 : 0;<br />
<br />
it is faster from 100 operations on (at least on my machine).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39946""></a>
  <div class="note">
   <strong class="user">alex at xelam dot net</strong>
   <a href="#39946" class="date">16-Feb-2004 01:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Integer Modulo<br />
<br />
If you want the remainder of the division of two Integers rather than Floats, use "%"; eg:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
<br />
print(</span><span class="default">$a </span><span class="keyword">% </span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Will output "1".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31947""></a>
  <div class="note">
   <strong class="user">Jon</strong>
   <a href="#31947" class="date">09-May-2003 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for those w/o fmod, here is q lil' add-on function you can use to replicate it:<br />
<br />
function fmodAddOn($x,$y)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i = floor($x/$y);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // r = x - i * y<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $x - $i*$y;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30191""></a>
  <div class="note">
   <strong class="user">fjeanson at yahoo dot com</strong>
   <a href="#30191" class="date">09-Mar-2003 08:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of you still using PHP 4.1.X and below.. fmod is not available. You can easily check if a variable a multiple of 2 by doing the following which is compatible with 4.1.X and below:<br />
<br />
$var; //variable to check if multiple of 2 or not<br />
<br />
$stype = gettype($var/2); //returns the type of the result.<br />
if($stype == "integer"){<br />
&nbsp;&nbsp;&nbsp; echo "$var is a multiple of two! Yay!";<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo "$var is NOT a multiple of two! Yay, I guess!";<br />
}<br />
<br />
since 3/2 = 1.5 its a float..<br />
4/2 = 2 its an integer..<br />
<br />
$stype will be equal to "double" if the variable is a float.. for historical reasons.<br />
<br />
voila.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30182""></a>
  <div class="note">
   <strong class="user">picaune at hotmail dot com</strong>
   <a href="#30182" class="date">09-Mar-2003 03:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
NAN (.net Equivalent = Double.NaN) means "Not-a-Number".<br />
Some ways to get NaN are modulo 0, and square root of 0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.floor.html">floor</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.getrandmax.html">getrandmax</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
