<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Format a GMT/UTC date/time</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gettimeofday.html">gettimeofday</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gmmktime.html">gmmktime</a></div>
 <div class="up"><a href="ref.datetime.html">Date/Time Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.gmdate" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">gmdate</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">gmdate</span> &mdash; <span class="dc-title">Format a GMT/UTC date/time</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.gmdate-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>gmdate</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$format</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$timestamp</tt><span class="initializer"> = time()</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Identical to the <span class="function"><a href="function.date.html" class="function">date()</a></span> function except that
   the time returned is Greenwich Mean Time (GMT). 
  </p>
 </div>
 

 <div class="refsect1 parameters" id="refsect1-function.gmdate-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">format</tt></i></span>
     <dd>

      <p class="para">
       The format of the outputted date <span class="type"><a href="language.types.string.html" class="type string">string</a></span>. See the formatting
       options for the <span class="function"><a href="function.date.html" class="function">date()</a></span> function.
      </p>
     </dd>

    </dt>

    
    
<dt>
<span class="term"><i><tt class="parameter">timestamp</tt></i></span><dd>
<p class="para">
The optional <i><tt class="parameter">timestamp</tt></i> parameter is an
<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> Unix timestamp that defaults to the current
local time if a <i><tt class="parameter">timestamp</tt></i> is not given. In other
words, it defaults to the value of <span class="function"><a href="function.time.html" class="function">time()</a></span>.
</p></dd>
</dt>

   
   </dl>

  </p>
 </div>
   

 <div class="refsect1 returnvalues" id="refsect1-function.gmdate-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a formatted date string. If a non-numeric value is used for 
   <i><tt class="parameter">timestamp</tt></i>, <b><tt>FALSE</tt></b> is returned and an 
   <b><tt>E_WARNING</tt></b> level error is emitted.
  </p>
 </div>
   

 <div class="refsect1 changelog" id="refsect1-function.gmdate-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.1.0</td>
       <td align="left">
        The valid range of a timestamp is typically from Fri, 13 Dec
        1901 20:45:54 GMT to Tue, 19 Jan 2038 03:14:07 GMT. (These are
        the dates that correspond to the minimum and maximum values for
        a 32-bit signed integer). However, before PHP 5.1.0 this range was limited
        from 01-01-1970 to 19-01-2038 on some systems (e.g. Windows).
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">5.1.1</td>
       <td align="left">
        There are useful <a href="datetime.constants.html" class="link">constants</a> 
        of standard date/time formats that can be used to specify the 
        <i><tt class="parameter">format</tt></i> parameter.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.gmdate-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-653">
    <p><b>Example #1 <span class="function"><b>gmdate()</b></span> example</b></p>
    <div class="example-contents"><p>
     When run in Finland (GMT +0200), the first line below prints &quot;Jan 01
     1998 00:00:00&quot;, while the second prints &quot;Dec 31 1997 22:00:00&quot;.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M&nbsp;d&nbsp;Y&nbsp;H:i:s"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1998</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">gmdate</span><span style="color: #007700">(</span><span style="color: #DD0000">"M&nbsp;d&nbsp;Y&nbsp;H:i:s"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1998</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.gmdate-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.date.html" class="function" rel="rdfs-seeAlso">date()</a> - Format a local time/date</span></li>
    <li class="member"><span class="function"><a href="function.mktime.html" class="function" rel="rdfs-seeAlso">mktime()</a> - Get Unix timestamp for a date</span></li>
    <li class="member"><span class="function"><a href="function.gmmktime.html" class="function" rel="rdfs-seeAlso">gmmktime()</a> - Get Unix timestamp for a GMT date</span></li>
    <li class="member"><span class="function"><a href="function.strftime.html" class="function" rel="rdfs-seeAlso">strftime()</a> - Format a local time/date according to locale settings</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="92465""></a>
  <div class="note">
   <strong class="user">RPaseur at NationalPres dot org</strong>
   <a href="#92465" class="date">25-Jul-2009 12:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Greenwich Mean Time has no "Summer Time" or "Daylight Saving Time" so depending on the season of the year these statements may produce the same or different output.<br />
<br />
<span class="default">&lt;?php<br />
date_default_timezone_set</span><span class="keyword">(</span><span class="string">'Europe/London'</span><span class="keyword">);<br />
echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'c'</span><span class="keyword">);<br />
echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'c'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84970""></a>
  <div class="note">
   <strong class="user">QED2000</strong>
   <a href="#84970" class="date">07-Aug-2008 11:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a very simple UTC timestamp:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;</span><span class="keyword">print </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y-m-d\TH:i:s\Z"</span><span class="keyword">); <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79597""></a>
  <div class="note">
   <strong class="user">Glen</strong>
   <a href="#79597" class="date">04-Dec-2007 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This routine can help obtain a UTC timestamp:<br />
<br />
<span class="default">&lt;?php <br />
&nbsp; $utc_str </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"M d Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">());<br />
&nbsp; </span><span class="default">$utc </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$utc_str</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that gmmktime(), mktime() and time() all return the same value (with no params).&nbsp; This was the cleanest way I found to create a UTC timestamp.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76656""></a>
  <div class="note">
   <strong class="user">jhechtf at gmail dot com</strong>
   <a href="#76656" class="date">24-Jul-2007 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My function for something like this is like so:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">actual_time</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">,</span><span class="default">$offset</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="comment">//Offset is in hours from gmt, including a - sign if applicable. <br />
&nbsp;&nbsp; //So lets turn offset into seconds<br />
&nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$offset</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">$timestamp </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Remember, adding a negative is still subtraction ;)<br />
&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">gmdate</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>It's always worked fine for me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75772""></a>
  <div class="note">
   <strong class="user">Blazeme</strong>
   <a href="#75772" class="date">15-Jun-2007 03:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here, I wrote a function (from code above) for easy time zone<br />
settings.<br />
Regards.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">datum</span><span class="keyword">(</span><span class="default">$datum</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {<br />
</span><span class="default">$sign </span><span class="keyword">= </span><span class="string">"+"</span><span class="keyword">; </span><span class="comment">// Whichever direction from GMT to your timezone. + or -<br />
</span><span class="default">$h </span><span class="keyword">= </span><span class="string">"1"</span><span class="keyword">; </span><span class="comment">// offset for time (hours)<br />
</span><span class="default">$dst </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// true - use dst ; false - don't<br />
<br />
</span><span class="keyword">if (</span><span class="default">$dst</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$daylight_saving </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$daylight_saving</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else { </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$hm </span><span class="keyword">= </span><span class="default">$h </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
</span><span class="default">$ms </span><span class="keyword">= </span><span class="default">$hm </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()-(</span><span class="default">$ms</span><span class="keyword">); }<br />
else { </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+(</span><span class="default">$ms</span><span class="keyword">); }<br />
</span><span class="default">$gmdate </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"m.d.Y. g:i A"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">);<br />
if(</span><span class="default">$datum</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">) {<br />
return </span><span class="default">$gmdate</span><span class="keyword">;<br />
}<br />
else {<br />
return </span><span class="default">$timestamp</span><span class="keyword">;<br />
}<br />
<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
If you set first argument to true, it'll return formated date.<br />
If false, will return $timestamp.<br />
Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74157""></a>
  <div class="note">
   <strong class="user">code at ashleyhunt dot co dot uk</strong>
   <a href="#74157" class="date">27-Mar-2007 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted to get the time past from two MySQL dates and came up with this code that does the trick.<br />
Supply a start date, end date and optional output date/time format the default is in seconds but will expand from SS to MM:SS and then to HH:MM:SS automatically, you may wish to force a date format that will not be dynamic (site layout etc). See examples below, also see function date() for more date format options.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">calculate_time_past</span><span class="keyword">(</span><span class="default">$start_time</span><span class="keyword">, </span><span class="default">$end_time</span><span class="keyword">, </span><span class="default">$format </span><span class="keyword">= </span><span class="string">"s"</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time_span </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$end_time</span><span class="keyword">) - </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$start_time</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$format </span><span class="keyword">== </span><span class="string">"s"</span><span class="keyword">) { </span><span class="comment">// is default format so dynamically calculate date format<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$time_span </span><span class="keyword">&gt; </span><span class="default">60</span><span class="keyword">) { </span><span class="default">$format </span><span class="keyword">= </span><span class="string">"i:s"</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$time_span </span><span class="keyword">&gt; </span><span class="default">3600</span><span class="keyword">) { </span><span class="default">$format </span><span class="keyword">= </span><span class="string">"H:i:s"</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">gmdate</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$time_span</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$start_time </span><span class="keyword">= </span><span class="string">"2007-03-28 00:50:14"</span><span class="keyword">; </span><span class="comment">// 00:50:14 will work on its own<br />
</span><span class="default">$end_time </span><span class="keyword">= </span><span class="string">"2007-03-28 00:52:59"</span><span class="keyword">; </span><span class="comment">// 00:52:59 will also work instead<br />
<br />
</span><span class="keyword">echo </span><span class="default">calculate_time_past</span><span class="keyword">(</span><span class="default">$start_time</span><span class="keyword">, </span><span class="default">$end_time</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// will output 02:45<br />
</span><span class="keyword">echo </span><span class="default">calculate_time_past</span><span class="keyword">(</span><span class="default">$start_time</span><span class="keyword">, </span><span class="default">$end_time</span><span class="keyword">, </span><span class="string">"H:i:s"</span><span class="keyword">); </span><span class="comment">// will output 00:02:45 when format is overridden<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope it of use.<br />
Regards,<br />
Ashley</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71147""></a>
  <div class="note">
   <strong class="user">derek at d3swimming dot com</strong>
   <a href="#71147" class="date">13-Nov-2006 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I don't really know what I'm doing, so I just stole various parts of this from other people around here and did a little improvising on my own.&nbsp; Hope this is helpful to somebody.<br />
<br />
This script allows you to insert just three variables: direction from GMT to your timezone ($sign), number of hours to your timezone ($h), and whether or not you have daylight savings time ($dst).&nbsp; The rest, including daylight savings time, will take care of itself (unless I don't know what I'm doing!).<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Get info about time zone relationship to GMT at: <a href="http://wwp.greenwichmeantime.com/" rel="nofollow" target="_blank">http://wwp.greenwichmeantime.com/</a><br />
<br />
// SELECT TIME ZONE<br />
</span><span class="default">$sign </span><span class="keyword">= </span><span class="string">"-"</span><span class="keyword">; </span><span class="comment">// Whichever direction from GMT to your timezone.<br />
</span><span class="default">$h </span><span class="keyword">= </span><span class="string">"8"</span><span class="keyword">; </span><span class="comment">// Hour for time zone goes here e.g. +8 or -4, just remove the + or -<br />
</span><span class="default">$dst </span><span class="keyword">= </span><span class="string">"true"</span><span class="keyword">; </span><span class="comment">// Just insert "true" if your location uses daylight savings time or "false" if it does not<br />
<br />
// DETECT AND ADJUST FOR DAYLIGHT SAVINGS TIME<br />
</span><span class="keyword">if (</span><span class="default">$dst</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$daylight_saving </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$daylight_saving</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else { </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// FIND DIFFERENCE FROM GMT<br />
</span><span class="default">$hm </span><span class="keyword">= </span><span class="default">$h </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
</span><span class="default">$ms </span><span class="keyword">= </span><span class="default">$hm </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
<br />
</span><span class="comment">// SET CURRENT TIME<br />
</span><span class="keyword">if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()-(</span><span class="default">$ms</span><span class="keyword">); }<br />
else { </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+(</span><span class="default">$ms</span><span class="keyword">); }<br />
<br />
</span><span class="comment">// SAMPLE OUTPUT<br />
</span><span class="default">$gmdate </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"m/d/Y g:i:s A"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"Your current time now is :&nbsp; </span><span class="default">$gmdate</span><span class="string"> . "</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63711""></a>
  <div class="note">
   <strong class="user">ttech5593 at gmail dot com</strong>
   <a href="#63711" class="date">28-Mar-2006 02:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For me most of the examples here needed the + or - seconds to set the time zone. I wanted a faster way to get the time zone in seconds. So I created this : <br />
<span class="default">&lt;?php <br />
$h </span><span class="keyword">= </span><span class="string">"3"</span><span class="keyword">;</span><span class="comment">// Hour for time zone goes here e.g. +7 or -4, just remove the + or -<br />
</span><span class="default">$hm </span><span class="keyword">= </span><span class="default">$h </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">; <br />
</span><span class="default">$ms </span><span class="keyword">= </span><span class="default">$hm </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
</span><span class="default">$gmdate </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"m/d/Y g:i:s A"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()-(</span><span class="default">$ms</span><span class="keyword">)); </span><span class="comment">// the "-" can be switched to a plus if that's what your time zone is.<br />
</span><span class="keyword">echo </span><span class="string">"Your current time now is :&nbsp; </span><span class="default">$gmdate</span><span class="string"> . "</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span> <br />
It works. Hope it helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62885""></a>
  <div class="note">
   <strong class="user">gefiltefishee at comcast dot net</strong>
   <a href="#62885" class="date">11-Mar-2006 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was struggling with how to get my browser to output MY local time using gmdate().<br />
<br />
I figured it out and here's what you do (ASSUMING THE SERVER IS ON GMT, If not, just echo a generic gmdate() without timezone setting and calculate the number of hours ahead or behind you are of that time, convert it to seconds and add [for ahead] or subtract [for behind] that value to time() ):<br />
<br />
NOTE: these are US times [setlocale(LC_TIME, 'en_US')]<br />
<br />
for Central Time (7 hours behind GMT):<br />
gmdate("format", time()-(25200));<br />
<br />
For Pacific Time (9 hours behind GMT):<br />
gmdate("format", time()-(32400));<br />
<br />
REMEMBER - THE VALUES ABOVE ASSUME THE SERVER IS ON GMT<br />
<br />
I used the following gmdate() format:<br />
"l, F jS, Y&nbsp; g:i a"<br />
but you can use what you like ;)<br />
<br />
Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60159""></a>
  <div class="note">
   <strong class="user">fernandobassani at gmail dot com</strong>
   <a href="#60159" class="date">28-Dec-2005 05:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have the same application running in different countries, you may have some troubles getting the local time..<br />
In my case, I was having troubles with a clock created with Macromedia Flash... the time shown by the clock was supposed to be set up by the server, passing the timestamp. When I moved the file to another country, I got a wrong time...<br />
You can use the timezone offset ( date("Z") ) to handle this kind of thing...<br />
<br />
<span class="default">&lt;?php<br />
$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Z"</span><span class="keyword">);<br />
echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y/m/d H:i:s"</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59054""></a>
  <div class="note">
   <strong class="user">Sir Derek G</strong>
   <a href="#59054" class="date">24-Nov-2005 11:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a nifty little function that returns a random timestamp between two dates.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//////////////////////////////////////////////////////////<br />
// Return a random timestamp between two dates (inclusive)<br />
// Example: Tue, 08 Nov 2004 06:47:10 GMT<br />
//<br />
// time - Starting time string<br />
// Valid Examples:<br />
// 10 September 2001<br />
// next Thursday<br />
// last Monday<br />
// now<br />
// <br />
// time2 - Ending time string<br />
</span><span class="keyword">function </span><span class="default">randomTimestamp</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">= </span><span class="string">"" </span><span class="keyword">, </span><span class="default">$time2 </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$time</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"10 September 2000"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$time2</span><span class="keyword">) </span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"24 November 2005"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">" D, d M Y"</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">( </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">, </span><span class="default">int</span><span class="keyword">) , </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$time2 </span><span class="keyword">, </span><span class="default">int</span><span class="keyword">) )); </span><span class="comment">//Must be called once before becoming random, ???<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">" D, d M Y"</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">, </span><span class="default">$time2</span><span class="keyword">)).</span><span class="string">" "</span><span class="keyword">;</span><span class="comment">//Now it's random<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$h </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$h</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$h </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$h</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">$h</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">29</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$d </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$d</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">.= </span><span class="default">$d</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">59</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$s </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$s</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">.= </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">.= </span><span class="default">$t</span><span class="keyword">.</span><span class="string">" GMT"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$timestamp</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58538""></a>
  <div class="note">
   <strong class="user">rob at geek dot co dot nz</strong>
   <a href="#58538" class="date">07-Nov-2005 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's worth noting the distinction between gmgate() and date() with regards to day light savings time. If your server uses universal time and makes an adjustment by locale for daylight savings time, you will want to use date(). gmdate will display the non-adjuisted time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57088""></a>
  <div class="note">
   <strong class="user">paul at sysnyx dot com</strong>
   <a href="#57088" class="date">23-Sep-2005 01:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Gives user the ability to use their timezone preferences.<br />
I had to create this script for a very large community. I first made any posts to the database that would display the date using just time();<br />
<br />
Example: mysql_query("INSERT INTO `table` (`datetime`) VALUES ('".time()."')");<br />
<br />
Also, for their timezone preference, I had the values as (example):<br />
(Eastern Timezone) -5 hours<br />
(Newfoundland) -3 hours -30 minutes<br />
<br />
This information would be saved in the users table.<br />
To display the date and time in their respective timezone preference:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">datetime</span><span class="keyword">(</span><span class="default">$datetime</span><span class="keyword">,</span><span class="default">$zone</span><span class="keyword">){<br />
if(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">)):</span><span class="default">$datetime</span><span class="keyword">+=</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">;endif;<br />
return </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'m-d-Y - h:i:sa'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$zone</span><span class="keyword">,</span><span class="default">$datetime</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
$datetime would be the information pulled from the database from a post for news, forums, etcetera (remember, the inserted table data for the time was using time();)<br />
$zone would be the information pulled from the database from the users timezone preference.<br />
<br />
I also used cookies to store their timezone:<br />
$sth=mysql_query("SELECT `datetime` FROM `table` LIMIT 1");<br />
$row=mysql_fetch_assoc($sth);<br />
echo datetime($row['datetime'],$_COOKIE['timezone']);<br />
<br />
Remember to set the 'm-d-Y - h:i:sa' to how you wish the time to display. Visit the manual about date().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53002""></a>
  <div class="note">
   <strong class="user">ncofreNOSPAMPLEASE at step2u dot com</strong>
   <a href="#53002" class="date">20-May-2005 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Want to put different International Times in your web?<br />
<br />
First create a database including the GMT and the DST (find it f.i. at timeanddate.com). Be careful, because there are several different DST dates and options.<br />
<br />
Once you have your function which calculates the GMT hour difference (it can be a decimal!!), sum it to the Unix Time (remember that unix time is GMT, not local: f.i. gmdate("U")===date("U)).<br />
<br />
Don't forget to recalculate the GMT difference to seconds before it.<br />
<br />
Then format your date using gmdate() (not date()!) and... you've got your International Time!<br />
<br />
<span class="default">&lt;?php<br />
<br />
$city</span><span class="keyword">[</span><span class="string">"Name"</span><span class="keyword">] = </span><span class="string">"Barcelona"</span><span class="keyword">;<br />
</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"GMT"</span><span class="keyword">] = </span><span class="default">1.0</span><span class="keyword">;<br />
</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"actualDST"</span><span class="keyword">] = </span><span class="default">1.0</span><span class="keyword">; </span><span class="comment">//Because it's summer time<br />
<br />
</span><span class="default">$gmt_diff </span><span class="keyword">= </span><span class="default">$city</span><span class="keyword">[</span><span class="string">"GMT"</span><span class="keyword">]+</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"actualDST"</span><span class="keyword">]; </span><span class="comment">//your functions for getting the hour difference betweer the city and the GMT<br />
</span><span class="default">$city_time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+(</span><span class="default">$gmt_diff</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">); </span><span class="comment">//sum the timestamps<br />
</span><span class="keyword">echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"H:i"</span><span class="keyword">,</span><span class="default">$city_time</span><span class="keyword">); </span><span class="comment">//echo the formatted date<br />
</span><span class="keyword">echo </span><span class="string">" h. in the beautiful city of "</span><span class="keyword">.</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"Name"</span><span class="keyword">];<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43921""></a>
  <div class="note">
   <strong class="user">Kogik inc dot  -- info at kogik dot com</strong>
   <a href="#43921" class="date">08-Jul-2004 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Wath out for summer time and winter time...<br />
<br />
If you want to get the current date and time based on GMT you could use this :<br />
<br />
<span class="default">&lt;?php<br />
$timezone&nbsp; </span><span class="keyword">= -</span><span class="default">5</span><span class="keyword">; </span><span class="comment">//(GMT -5:00) EST (U.S. &amp; Canada)<br />
</span><span class="keyword">echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y/m/j H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">*(</span><span class="default">$timezone</span><span class="keyword">+</span><span class="default">date</span><span class="keyword">(</span><span class="string">"I"</span><span class="keyword">))); <br />
</span><span class="default">?&gt;<br />
</span><br />
this would gives: 2004/07/8 14:35:19 in summer time<br />
and 2004/07/8 13:35:19 in winter time.<br />
<br />
Note that date("I") returns 1 in summer and 0 in winter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37401""></a>
  <div class="note">
   <strong class="user">www.l-serwis.wpt.pl</strong>
   <a href="#37401" class="date">13-Nov-2003 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to get time in your timezone try this:<br />
<br />
<span class="default">&lt;?php<br />
$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*</span><span class="default">0 </span><span class="comment">//GMT<br />
</span><span class="default">$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*</span><span class="default">1 </span><span class="comment">//CET<br />
</span><span class="default">$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*-</span><span class="default">5</span><span class="comment">//USA<br />
</span><span class="default">$date</span><span class="keyword">=</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D M Y H:i"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">$zone</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25031""></a>
  <div class="note">
   
   <a href="#25031" class="date">08-Sep-2002 09:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do not use the "T" timezone specifier to generate "GMT", as this may return "UTC" or "GMT+0000" or "Z" or something else which depends on the running platform, which would not be RFC1123 compliant.<br />
<br />
Use 'D, d M Y H:i:s \G\M\T' which forces the value of the timezone indicator.<br />
<br />
Note that RFC1123 requires the use of ENGLISH day and month abbreviations. They MUST NOT be localized!<br />
<br />
An example of the RFC1123 format for full dates is:<br />
Sun, 06 Nov 1994 08:49:37 GMT<br />
<br />
Note the presence of the leading 0 (RFC1123 dates have a fixed size, and space padding is prohibited because it causes problems with fixed size handling when such dates are used in HTTP headers that may compress whitespaces.<br />
<br />
Some proxies accept also the ISO 8601 format, but this is not documented in HTTP/1.1 specs (RFC2616).<br />
<br />
Examples:<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">'Date: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()));<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Last-Modified: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()));<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Expires: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
or if you prefer double quotes and don't want to bother with double backslashes:<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">"Date: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">" GMT"</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Last-Modified: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">" GMT"</span><span class="keyword">);;<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Expires: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">).</span><span class="string">" GMT"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22366""></a>
  <div class="note">
   
   <a href="#22366" class="date">14-Jun-2002 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For an RFC 1123 (HTTP header date) date, try:<br />
<br />
<span class="default">&lt;?php<br />
$rfc_1123_date </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">());<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gettimeofday.html">gettimeofday</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gmmktime.html">gmmktime</a></div>
 <div class="up"><a href="ref.datetime.html">Date/Time Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
