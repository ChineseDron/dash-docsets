<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Hexadecimal to decimal</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.getrandmax.html">getrandmax</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.hypot.html">hypot</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.hexdec" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">hexdec</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">hexdec</span> &mdash; <span class="dc-title">Hexadecimal to decimal</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.hexdec-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span> <span class="methodname"><b>hexdec</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$hex_string</tt></span>
    )</div>

  <p class="para rdfs-comment">
   Returns the decimal equivalent of the hexadecimal number
   represented by the <i><tt class="parameter">hex_string</tt></i> argument.
   <span class="function"><b>hexdec()</b></span> converts a hexadecimal string to a
   decimal number. 
  </p>
  <p class="para">
   <span class="function"><b>hexdec()</b></span> will ignore any non-hexadecimal 
   characters it encounters.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.hexdec-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">hex_string</tt></i></span>
     <dd>

      <p class="para">
       The hexadecimal string to convert
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.hexdec-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The decimal representation of <i><tt class="parameter">hex_string</tt></i>
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.hexdec-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">Since 4.1.0</td>
       <td align="left">
        The function can now convert values that are too big for
        the platforms <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> type, it will return
        the value as <span class="type"><a href="language.types.float.html" class="type float">float</a></span> instead in that case.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.hexdec-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3185">
    <p><b>Example #1 <span class="function"><b>hexdec()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hexdec</span><span style="color: #007700">(</span><span style="color: #DD0000">"See"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hexdec</span><span style="color: #007700">(</span><span style="color: #DD0000">"ee"</span><span style="color: #007700">));<br /></span><span style="color: #FF8000">//&nbsp;both&nbsp;print&nbsp;"int(238)"<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hexdec</span><span style="color: #007700">(</span><span style="color: #DD0000">"that"</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;print&nbsp;"int(10)"<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">hexdec</span><span style="color: #007700">(</span><span style="color: #DD0000">"a0"</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;print&nbsp;"int(160)"<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.hexdec-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.dechex.html" class="function" rel="rdfs-seeAlso">dechex()</a> - Decimal to hexadecimal</span></li>
    <li class="member"><span class="function"><a href="function.bindec.html" class="function" rel="rdfs-seeAlso">bindec()</a> - Binary to decimal</span></li>
    <li class="member"><span class="function"><a href="function.octdec.html" class="function" rel="rdfs-seeAlso">octdec()</a> - Octal to decimal</span></li>
    <li class="member"><span class="function"><a href="function.base-convert.html" class="function" rel="rdfs-seeAlso">base_convert()</a> - Convert a number between arbitrary bases</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106797""></a>
  <div class="note">
   <strong class="user">programacion at mundosica dot com</strong>
   <a href="#106797" class="date">06-Dec-2011 09:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is other function to transform a MAC Address to decimal:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_mac_decimal</span><span class="keyword">(</span><span class="default">$mac</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$clear_mac </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/[^0-9A-F]/i'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$mac</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mac_decimal </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$clear_mac</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">2 </span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$mac_decimal</span><span class="keyword">[] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$clear_mac</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; endfor;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$mac_decimal</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103353""></a>
  <div class="note">
   <strong class="user">luisfc at setic dot ufsc dot br</strong>
   <a href="#103353" class="date">08-Apr-2011 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to transform a MAC Address to decimal.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_mac_decimal</span><span class="keyword">(</span><span class="default">$mac</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$invalid </span><span class="keyword">= array(</span><span class="string">":"</span><span class="keyword">, </span><span class="string">"-"</span><span class="keyword">, </span><span class="string">";"</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$clear_mac </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$invalid</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$mac</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mac_decimal </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$clear_mac</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">+ </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$mac_decimal </span><span class="keyword">.= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$clear_mac</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$clear_mac</span><span class="keyword">) - </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$mac_decimal </span><span class="keyword">.= </span><span class="string">"."</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$mac_decimal</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100578""></a>
  <div class="note">
   <strong class="user">andy at haveland dot com</strong>
   <a href="#100578" class="date">24-Oct-2010 10:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a short example to convert strings between hex and chars:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="default">hextostr</span><span class="keyword">(</span><span class="string">"616E647940686176656C616E642E636F6D"</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
print </span><span class="default">strtohex</span><span class="keyword">(</span><span class="string">"Knowledge is power"</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
function </span><span class="default">hextostr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$s</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp; foreach(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">trim</span><span class="keyword">(</span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">))) as </span><span class="default">$h</span><span class="keyword">) </span><span class="default">$s</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$h</span><span class="keyword">));<br />
&nbsp; return(</span><span class="default">$s</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">strtohex</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$s</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp; foreach(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) as </span><span class="default">$c</span><span class="keyword">) </span><span class="default">$s</span><span class="keyword">.=</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%02X"</span><span class="keyword">,</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">));<br />
&nbsp; return(</span><span class="default">$s</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99478""></a>
  <div class="note">
   <strong class="user">hafees at msn dot com</strong>
   <a href="#99478" class="date">19-Aug-2010 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use this function to convert a hexa decimal color code to its RGB equivalent. Unlike many other functions provided here, it will work correctly with hex color short hand notation.<br />
<br />
Also, if a proper hexa decimal color value is given (6 digits), it uses bit wise operations for faster results.<br />
<br />
For eg: #FFF and #FFFFFF will produce the same result<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Convert a hexa decimal color code to its RGB equivalent<br />
&nbsp;*<br />
&nbsp;* @param string $hexStr (hexadecimal color value)<br />
&nbsp;* @param boolean $returnAsString (if set true, returns the value separated by the separator character. Otherwise returns associative array)<br />
&nbsp;* @param string $seperator (to separate RGB values. Applicable only if second parameter is true.)<br />
&nbsp;* @return array or string (depending on second parameter. Returns False if invalid hex color value)<br />
&nbsp;*/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="keyword">function </span><span class="default">hex2RGB</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">, </span><span class="default">$returnAsString </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$seperator </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hexStr </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/[^0-9A-Fa-f]/"</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$hexStr</span><span class="keyword">); </span><span class="comment">// Gets a proper hex string<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rgbArray </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">) == </span><span class="default">6</span><span class="keyword">) { </span><span class="comment">//If a proper hex code, convert using bitwise operation. No overhead... faster<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$colorVal </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'red'</span><span class="keyword">] = </span><span class="default">0xFF </span><span class="keyword">&amp; (</span><span class="default">$colorVal </span><span class="keyword">&gt;&gt; </span><span class="default">0x10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'green'</span><span class="keyword">] = </span><span class="default">0xFF </span><span class="keyword">&amp; (</span><span class="default">$colorVal </span><span class="keyword">&gt;&gt; </span><span class="default">0x8</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'blue'</span><span class="keyword">] = </span><span class="default">0xFF </span><span class="keyword">&amp; </span><span class="default">$colorVal</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">) == </span><span class="default">3</span><span class="keyword">) { </span><span class="comment">//if shorthand notation, need some string manipulations<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'red'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'green'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgbArray</span><span class="keyword">[</span><span class="string">'blue'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexStr</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">//Invalid hex color code<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$returnAsString </span><span class="keyword">? </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$seperator</span><span class="keyword">, </span><span class="default">$rgbArray</span><span class="keyword">) : </span><span class="default">$rgbArray</span><span class="keyword">; </span><span class="comment">// returns the rgb string or the associative array<br />
</span><span class="keyword">} </span><span class="default">?&gt;<br />
</span><br />
OUTPUT:<br />
<br />
hex2RGB("#FF0") -&gt; array( red =&gt;255, green =&gt; 255, blue =&gt; 0)<br />
hex2RGB("#FFFF00) -&gt; Same as above<br />
hex2RGB("#FF0", true) -&gt; 255,255,0<br />
hex2RGB("#FF0", true, ":") -&gt; 255:255:0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97756""></a>
  <div class="note">
   <strong class="user">Rosberg - rosberglinhares at gmail dot com</strong>
   <a href="#97756" class="date">06-May-2010 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The correct version is:<br />
<br />
function bchexdec($hex) {<br />
&nbsp;&nbsp;&nbsp; static $hexdec = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "0" =&gt; 0,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "1" =&gt; 1,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "2" =&gt; 2,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "3" =&gt; 3,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "4" =&gt; 4,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "5" =&gt; 5,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "6" =&gt; 6,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "7" =&gt; 7,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "8" =&gt; 8,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "9" =&gt; 9,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "A" =&gt; 10,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "B" =&gt; 11,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "C" =&gt; 12,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "D" =&gt; 13,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "E" =&gt; 14,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "F" =&gt; 15<br />
&nbsp;&nbsp;&nbsp; );<br />
<br />
&nbsp;&nbsp;&nbsp; $dec = 0;<br />
<br />
&nbsp;&nbsp;&nbsp; for ($i = strlen($hex) - 1, $e = 1; $i &gt;= 0; $i--, $e = bcmul($e, 16)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $factor = $hexdec[$hex[$i]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dec = bcadd($dec, bcmul($factor, $e));<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return $dec;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97172""></a>
  <div class="note">
   <strong class="user">flurinj at gmx dot net</strong>
   <a href="#97172" class="date">06-Apr-2010 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here My version of converting a hex string to a signed decimal value:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">hexdecs</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// ignore non hex characters<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/[^0-9A-Fa-f]/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// converted decimal value:<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// maximum decimal value based on length of hex + 1:<br />
&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; number of bits in hex number is 8 bits for each 2 hex -&gt; max = 2^n<br />
&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; use 'pow(2,n)' since '1 &lt;&lt; n' is only for integers and therefore limited to integer size.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$max </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">* (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) + (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) % </span><span class="default">2</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// complement = maximum - converted hex:<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$_dec </span><span class="keyword">= </span><span class="default">$max </span><span class="keyword">- </span><span class="default">$dec</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if dec value is larger than its complement we have a negative value (first bit is set)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$dec </span><span class="keyword">&gt; </span><span class="default">$_dec </span><span class="keyword">? -</span><span class="default">$_dec </span><span class="keyword">: </span><span class="default">$dec</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93835""></a>
  <div class="note">
   <strong class="user">Halit YEL - halityesil at globya dot net</strong>
   <a href="#93835" class="date">02-Oct-2009 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
RGB to Hex<br />
Hex to RGB<br />
Function<br />
<br />
<span class="default">&lt;?PHP<br />
<br />
</span><span class="keyword">function </span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">){<br />
&nbsp;&nbsp; if(!</span><span class="default">$c</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/^[0-9ABCDEFabcdef\#]+$/i"</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'#'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) == </span><span class="default">3 </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) == </span><span class="default">6 </span><span class="keyword">? </span><span class="default">2 </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$l</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'red'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">*</span><span class="default">$l</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'green'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">*</span><span class="default">$l</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">*</span><span class="default">$l</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'blue'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">*</span><span class="default">$l</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">*</span><span class="default">$l</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; }else </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; }elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/^[0-9]+(,| |.)+[0-9]+(,| |.)+[0-9]+$/i"</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$spr </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">), </span><span class="string">':'</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">":"</span><span class="keyword">, </span><span class="default">$spr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) != </span><span class="default">3</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="string">'#'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">dechex</span><span class="keyword">((</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &lt;= </span><span class="default">0</span><span class="keyword">)?</span><span class="default">0</span><span class="keyword">:((</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &gt;= </span><span class="default">255</span><span class="keyword">)?</span><span class="default">255</span><span class="keyword">:</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">.= ((</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) &lt; </span><span class="default">2</span><span class="keyword">)?</span><span class="string">'0'</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">).</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);<br />
&nbsp;&nbsp; }else </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output<br />
<br />
#FFFFFF =&gt;<br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;255,<br />
&nbsp;&nbsp; green=&gt;255,<br />
&nbsp;&nbsp; blue=&gt;255,<br />
&nbsp;&nbsp; r=&gt;255,<br />
&nbsp;&nbsp; g=&gt;255,<br />
&nbsp;&nbsp; b=&gt;255,<br />
&nbsp;&nbsp; 0=&gt;255,<br />
&nbsp;&nbsp; 1=&gt;255,<br />
&nbsp;&nbsp; 2=&gt;255<br />
&nbsp;}<br />
&nbsp;<br />
<br />
#FFCCEE =&gt;<br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;255,<br />
&nbsp;&nbsp; green=&gt;204,<br />
&nbsp;&nbsp; blue=&gt;238,<br />
&nbsp;&nbsp; r=&gt;255,<br />
&nbsp;&nbsp; g=&gt;204,<br />
&nbsp;&nbsp; b=&gt;238,<br />
&nbsp;&nbsp; 0=&gt;255,<br />
&nbsp;&nbsp; 1=&gt;204,<br />
&nbsp;&nbsp; 2=&gt;238<br />
&nbsp;}<br />
CC22FF =&gt;<br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;204,<br />
&nbsp;&nbsp; green=&gt;34,<br />
&nbsp;&nbsp; blue=&gt;255,<br />
&nbsp;&nbsp; r=&gt;204,<br />
&nbsp;&nbsp; g=&gt;34,<br />
&nbsp;&nbsp; b=&gt;255,<br />
&nbsp;&nbsp; 0=&gt;204,<br />
&nbsp;&nbsp; 1=&gt;34,<br />
&nbsp;&nbsp; 2=&gt;255<br />
&nbsp;}<br />
<br />
0 65 255 =&gt; #0041FF<br />
255.150.3 =&gt; #FF9603<br />
100,100,250 =&gt; #6464FA<br />
<br />
<br />
[EDIT BY danbrown AT php DOT net - Contains multiple bugfixes by (ajim1417 AT gmail DOT com) on 27-JAN-2010: Replaces typo in explode() and updates eregi() calls to preg_match().]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92953""></a>
  <div class="note">
   <strong class="user">jose dot rob dot jr at gmail dot com</strong>
   <a href="#92953" class="date">15-Aug-2009 08:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I made these functions to pack up to 64 ID's into a mysql unsigned bigint.<br />
<br />
ID's cannot repeat, must be &lt;= bit's limit and &gt; 0.<br />
<br />
The functions uses php 32 bit's int as unsigned because we don't actually read the number, just the bits. Then 0xFFFFFFFF display -1 but the bit's are there (tested with linux 2.6 i686 and x86_64)<br />
<br />
---<br />
<br />
This is an other way to make hex to bin conversions:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">hexbin</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">$padding </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Validation<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/^(0x|X)?/i'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/[[:blank:]]/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(empty(</span><span class="default">$hex</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="string">'0'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^[0-9A-F]*$/i'</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Argument is not a hex'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Conversion<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bin </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$hex </span><span class="keyword">as </span><span class="default">$n</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">8</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;&lt;= </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bin </span><span class="keyword">.= (</span><span class="default">$i </span><span class="keyword">&amp; </span><span class="default">$n</span><span class="keyword">)? </span><span class="string">'1' </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$padding</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bin </span><span class="keyword">.= </span><span class="string">' '</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">ltrim</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$bin</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">// Tests<br />
</span><span class="keyword">echo </span><span class="string">"&lt;b&gt;Debug:&lt;/b&gt; &lt;pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Randomly choosed padded number<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">hexbin</span><span class="keyword">(</span><span class="string">'00FF FF8F 7F3F FF1F'</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
</span><span class="comment">// string(79) "0000 0000 1111 1111 1111 1111 1000 1111 0111 1111 0011 1111 1111 1111 0001 1111"<br />
<br />
// Yellow RGB<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">hexbin</span><span class="keyword">(</span><span class="string">'0xF8F800'</span><span class="keyword">));<br />
</span><span class="comment">// string(24) "111110001111100000000000"<br />
<br />
// Green RGB (padded)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">hexbin</span><span class="keyword">(</span><span class="string">'0x008800'</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
</span><span class="comment">//string(29) "0000 0000 1000 1000 0000 0000"<br />
<br />
</span><span class="keyword">die(</span><span class="string">"\n&lt;br&gt;debug"</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Have fun ;D</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90389""></a>
  <div class="note">
   <strong class="user">Ultimater at gmail dot com</strong>
   <a href="#90389" class="date">19-Apr-2009 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hexdec doesn't accept numbers following the period.<br />
What if you have a number like c20.db18?<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">floatinghexdec</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; list(</span><span class="default">$intgr</span><span class="keyword">,</span><span class="default">$hex</span><span class="keyword">)=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$str</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$intgr</span><span class="keyword">=</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[^A-Fa-f0-9]"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$intgr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex</span><span class="keyword">=</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[^A-Fa-f0-9]"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$answer</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$digit</span><span class="keyword">=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">))/</span><span class="default">16</span><span class="keyword">;&nbsp;&nbsp; </span><span class="comment">// .f is 15/16 because in decimal .9 is 9/10<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$answer </span><span class="keyword">+= </span><span class="default">$digit</span><span class="keyword">/</span><span class="default">pow</span><span class="keyword">(</span><span class="default">16</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
return </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$intgr</span><span class="keyword">)+</span><span class="default">$answer</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">floatinghexdec</span><span class="keyword">(</span><span class="string">"ff.ff"</span><span class="keyword">);</span><span class="comment">//255.99609375<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90309""></a>
  <div class="note">
   <strong class="user">chuckySTAR</strong>
   <a href="#90309" class="date">15-Apr-2009 01:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my hexdec function for greater numbers using BC Math<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">bchexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">bcadd</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">, </span><span class="default">bcmul</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">])), </span><span class="default">bcpow</span><span class="keyword">(</span><span class="string">'16'</span><span class="keyword">, </span><span class="default">strval</span><span class="keyword">(</span><span class="default">$len </span><span class="keyword">- </span><span class="default">$i</span><span class="keyword">))));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$dec</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">bchexdec</span><span class="keyword">(</span><span class="string">'ffffffffffffffffffffffffffffffff'</span><span class="keyword">) . </span><span class="string">"\n" </span><span class="keyword">. (</span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">128</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89910""></a>
  <div class="note">
   <strong class="user">eds at edsavenue dot com</strong>
   <a href="#89910" class="date">27-Mar-2009 04:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I tried the example by joquius at kakugo dot com, but it didn't work.&nbsp; i changed it to the following, which did work.<br />
<br />
<span class="default">&lt;?php <br />
$str </span><span class="keyword">= </span><span class="default">preg_replace_callback </span><span class="keyword">(</span><span class="string">"([a-zA-Z0-9]{2})"</span><span class="keyword">, </span><span class="default">create_function </span><span class="keyword">(</span><span class="string">'$matches'</span><span class="keyword">, </span><span class="string">'return chr (hexdec ($matches[0]));'</span><span class="keyword">), </span><span class="default">$str</span><span class="keyword">); <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85914""></a>
  <div class="note">
   <strong class="user">joquius at kakugo dot com</strong>
   <a href="#85914" class="date">24-Sep-2008 06:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Help a hex-stricken string get back to normal:<br />
<br />
<span class="default">&lt;?php<br />
$str </span><span class="keyword">= </span><span class="default">preg_replace_callback </span><span class="keyword">(</span><span class="string">"/%([a-zA-Z0-9]{2})/"</span><span class="keyword">, </span><span class="default">create_function </span><span class="keyword">(</span><span class="string">'$matches'</span><span class="keyword">, </span><span class="string">'return chr (hexdec ($matches[1]));'</span><span class="keyword">), </span><span class="default">$str</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83458""></a>
  <div class="note">
   <strong class="user">this1is4me at hotmail dot com</strong>
   <a href="#83458" class="date">27-May-2008 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reply to Amit Yadav's post (hex to binary conversion):<br />
<br />
function binfromdec($num) <br />
{<br />
&nbsp; $primary = "bit";<br />
&nbsp; for ($i=1; $i&lt;=16; $i++)<br />
&nbsp;&nbsp;&nbsp; ${$primary.$i} = 0;<br />
&nbsp; <br />
&nbsp; if ($num &amp; 32768)&nbsp;&nbsp; $bit16&nbsp; = 1;<br />
&nbsp; if ($num &amp; 16384)&nbsp;&nbsp; $bit15&nbsp; = 1;<br />
&nbsp; if ($num &amp; 8192)&nbsp; &nbsp; $bit14&nbsp; = 1;<br />
&nbsp; if ($num &amp; 4096)&nbsp; &nbsp; $bit13&nbsp; = 1;<br />
&nbsp; if ($num &amp; 2048)&nbsp; &nbsp; $bit12&nbsp; = 1;<br />
&nbsp; if ($num &amp; 1024)&nbsp; &nbsp; $bit11&nbsp; = 1;<br />
&nbsp; if ($num &amp; 512)&nbsp; &nbsp;&nbsp; $bit10&nbsp; = 1;<br />
&nbsp; if ($num &amp; 256)&nbsp; &nbsp;&nbsp; $bit9&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 128)&nbsp; &nbsp;&nbsp; $bit8&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 64)&nbsp; &nbsp; &nbsp; $bit7&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 32)&nbsp; &nbsp; &nbsp; $bit6&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 16)&nbsp; &nbsp; &nbsp; $bit5&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 8)&nbsp; &nbsp; &nbsp;&nbsp; $bit4&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 4)&nbsp; &nbsp; &nbsp;&nbsp; $bit3&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 2)&nbsp; &nbsp; &nbsp;&nbsp; $bit2&nbsp;&nbsp; = 1;<br />
&nbsp; if ($num &amp; 1)&nbsp; &nbsp; &nbsp;&nbsp; $bit1&nbsp;&nbsp; = 1;<br />
&nbsp; <br />
&nbsp; return ($bit16. $bit15. $bit14. $bit13. $bit12. $bit11. $bit10. $bit9. $bit8. $bit7. $bit6. $bit5. $bit4. $bit3. $bit2. $bit1);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80796""></a>
  <div class="note">
   <strong class="user">Walter Wlodarski</strong>
   <a href="#80796" class="date">31-Jan-2008 01:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One of my favourite, multi-purpose, bidirectional solution I wrote many years ago: <br />
<br />
function bgr2rgb($cr) {&nbsp; // bidirectional<br />
&nbsp;&nbsp;&nbsp; return (($cr &amp; 0x0000FF) &lt;&lt; 16 | ($cr &amp; 0x00FF00) | ($cr &amp; 0xFF0000) &gt;&gt; 16);<br />
}<br />
<br />
Which you might want to use as :<br />
<br />
function hex2cr($hex) {&nbsp; // strips any leading characters, like #<br />
&nbsp;&nbsp;&nbsp; return bgr2rgb(hexdec($hex));<br />
}<br />
<br />
function cr2hex($cr) { // the usual HTML format, #rrggbb<br />
&nbsp;&nbsp;&nbsp; return '#'.str_pad(strtoupper(dechex(bgr2rgb($cr))), 6, '0', STR_PAD_LEFT);<br />
}<br />
<br />
And, if like me you tend to mistype function names, the synonym : <br />
<br />
function rgb2bgr($val) { return bgr2rgb($val); }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80646""></a>
  <div class="note">
   <strong class="user">maddddidley at yahoo dot com</strong>
   <a href="#80646" class="date">27-Jan-2008 12:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function that combines two rgb colors.<br />
<br />
function combineColors($color1, $color2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $color1 = str_replace("#", '', $color1);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $color2 = str_replace("#", '', $color2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $r1 = hexdec(substr($color1, 0, 2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $g1 = hexdec(substr($color1, 2, 2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $b1 = hexdec(substr($color1, 4, 2)); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $r2 = hexdec(substr($color2, 0, 2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $g2 = hexdec(substr($color2, 2, 2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $b2 = hexdec(substr($color2, 4, 2));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $r3 = ceil(($r1 + $r2) / 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $g3 = ceil(($g1 + $g2) / 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $b3 = ceil(($b1 + $b2) / 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $color = rgbhex($r3, $g3, $b3);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $color = str_replace("#", '', $color);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79163""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#79163" class="date">13-Nov-2007 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
// Fun̤̣o GET Cor Hexadecima e Retorna em RGB<br />
function hexrgb($hexstr, $rgb) {<br />
&nbsp;$int = hexdec($hexstr);<br />
&nbsp;switch($rgb) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case "r":<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 0xFF &amp; $int &gt;&gt; 0x10;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case "g":<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 0xFF &amp; ($int &gt;&gt; 0x8);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case "b":<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 0xFF &amp; $int;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "r" =&gt; 0xFF &amp; $int &gt;&gt; 0x10,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "g" =&gt; 0xFF &amp; ($int &gt;&gt; 0x8),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "b" =&gt; 0xFF &amp; $int<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
}// END GET Cor Hex =&gt; RGB<br />
<br />
//Uso<br />
&nbsp;echo hexrgb("1a2b3c", r); // 26<br />
&nbsp;echo hexrgb("1a2b3c", g); // 43<br />
&nbsp;echo hexrgb("1a2b3c", b); // 60<br />
//ou<br />
<br />
var_dump(hexrgb("1a2b3c", rgb)); //array(3) { ["r"]=&gt;&nbsp; int(26) ["g"]=&gt;&nbsp; int(43) ["b"]=&gt;&nbsp; int(60) }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78784""></a>
  <div class="note">
   <strong class="user">k10206 at naver dot com</strong>
   <a href="#78784" class="date">27-Oct-2007 09:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;?<br />
function hexrgb($hexstr) {<br />
&nbsp;&nbsp;&nbsp; $int = hexdec($hexstr);<br />
<br />
&nbsp;&nbsp;&nbsp; return array("red" =&gt; 0xFF &amp; ($int &gt;&gt; 0x10), "green" =&gt; 0xFF &amp; ($int &gt;&gt; 0x8), "blue" =&gt; 0xFF &amp; $int);<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75806""></a>
  <div class="note">
   <strong class="user">venk</strong>
   <a href="#75806" class="date">16-Jun-2007 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Reply To Halit Yesil's script:<br />
<br />
Great Function!! But, there's a problem with your script if the user passes something with three letters/numbers (eg/ #000).&nbsp; You need to use str_repeat to duplicate each character.<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($l == 3){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset($out);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $out[0] = $out['r'] = $out['red'] = hexdec(str_repeat(substr($c, 0,1),2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $out[1] = $out['g'] = $out['green'] = hexdec(str_repeat(substr($c, 1,1),2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $out[2] = $out['b'] = $out['blue'] = hexdec(str_repeat(substr($c, 2,1),2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74092""></a>
  <div class="note">
   <strong class="user">Manithu</strong>
   <a href="#74092" class="date">23-Mar-2007 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This tiny function will return foreground colors (either black or white) in contrast to the color you provide:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">getContrastColor</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">) &gt; </span><span class="default">0xffffff</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">) ? </span><span class="string">'000000' </span><span class="keyword">: </span><span class="string">'ffffff'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This function will return the opposite (negative):<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">negativeColor</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//get red, green and blue<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//revert them, they are decimal now<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">0xff</span><span class="keyword">-</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">0xff</span><span class="keyword">-</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$g</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">0xff</span><span class="keyword">-</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//now convert them to hex and return.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">).</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$g</span><span class="keyword">).</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74064""></a>
  <div class="note">
   <strong class="user">Halit Yesil mail at halityesil dot com</strong>
   <a href="#74064" class="date">22-Mar-2007 05:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
RGB to Hex<br />
Hex to RGB<br />
Function<br />
<br />
<span class="default">&lt;?PHP<br />
<br />
</span><span class="keyword">function </span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$c</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"^[0-9ABCDEFabcdef\#]+$"</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'#'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$l </span><span class="keyword">== </span><span class="default">3</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'red'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'green'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'blue'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }elseif(</span><span class="default">$l </span><span class="keyword">== </span><span class="default">6</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'red'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'green'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'blue'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }elseif (</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"^[0-9]+(,| |.)+[0-9]+(,| |.)+[0-9]+$"</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) != </span><span class="default">3</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="string">'#'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">dechex</span><span class="keyword">((</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &lt;= </span><span class="default">0</span><span class="keyword">)?</span><span class="default">0</span><span class="keyword">:((</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &gt;= </span><span class="default">255</span><span class="keyword">)?</span><span class="default">255</span><span class="keyword">:</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">.= ((</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) &lt; </span><span class="default">2</span><span class="keyword">)?</span><span class="string">'0'</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">).</span><span class="default">$e</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else </span><span class="default">$out </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'#FFFFFF =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'#FFFFFF'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'#FFCCEE =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'#FFCCEE'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'CC22FF =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'CC22FF'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'0 65 255 =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'0 65 255'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'255.150.3 =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'255.150.3'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'100,100,250 =&gt; '</span><span class="keyword">.</span><span class="default">rgb2hex2rgb</span><span class="keyword">(</span><span class="string">'100,100,250'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output<br />
<br />
#FFFFFF =&gt; <br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;255,<br />
&nbsp;&nbsp; green=&gt;255,<br />
&nbsp;&nbsp; blue=&gt;255,<br />
&nbsp;&nbsp; r=&gt;255,<br />
&nbsp;&nbsp; g=&gt;255,<br />
&nbsp;&nbsp; b=&gt;255,<br />
&nbsp;&nbsp; 0=&gt;255,<br />
&nbsp;&nbsp; 1=&gt;255,<br />
&nbsp;&nbsp; 2=&gt;255<br />
&nbsp;}<br />
&nbsp;<br />
<br />
#FFCCEE =&gt;<br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;255,<br />
&nbsp;&nbsp; green=&gt;204,<br />
&nbsp;&nbsp; blue=&gt;238,<br />
&nbsp;&nbsp; r=&gt;255,<br />
&nbsp;&nbsp; g=&gt;204,<br />
&nbsp;&nbsp; b=&gt;238,<br />
&nbsp;&nbsp; 0=&gt;255,<br />
&nbsp;&nbsp; 1=&gt;204,<br />
&nbsp;&nbsp; 2=&gt;238<br />
&nbsp;}<br />
CC22FF =&gt;<br />
&nbsp;Array{<br />
&nbsp;&nbsp; red=&gt;204,<br />
&nbsp;&nbsp; green=&gt;34,<br />
&nbsp;&nbsp; blue=&gt;255,<br />
&nbsp;&nbsp; r=&gt;204,<br />
&nbsp;&nbsp; g=&gt;34,<br />
&nbsp;&nbsp; b=&gt;255,<br />
&nbsp;&nbsp; 0=&gt;204,<br />
&nbsp;&nbsp; 1=&gt;34,<br />
&nbsp;&nbsp; 2=&gt;255<br />
&nbsp;}<br />
<br />
0 65 255 =&gt; #0041FF<br />
255.150.3 =&gt; #FF9603<br />
100,100,250 =&gt; #6464FA</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70274""></a>
  <div class="note">
   <strong class="user">cgarvis at gmail dot com</strong>
   <a href="#70274" class="date">09-Oct-2006 10:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my version of hex2rgb for web colors to 24bit colors.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">hex2rgb_webcolors</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">eregi_replace</span><span class="keyword">(</span><span class="string">"[^a-fA-F0-9]"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; switch( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">).</span><span class="string">"0000"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">).</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">).</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">).</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">4</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">).</span><span class="string">"00"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">6</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68986""></a>
  <div class="note">
   <strong class="user">Lukasz (Zajonc) Zajaczkowski</strong>
   <a href="#68986" class="date">18-Aug-2006 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function converting HEX to signed DEC<br />
<br />
function hex2sdec ($hex)<br />
{<br />
&nbsp; //how many bytes<br />
&nbsp; $ib = strlen ($hex) - (strlen ($hex) % $hex)) / $hex;<br />
&nbsp; if ((strlen ($hex) % 2) &gt; 0)<br />
&nbsp;&nbsp;&nbsp; $ib = $ib + 1;<br />
<br />
&nbsp; //how many bites<br />
&nbsp; $ibb = 8 * $ib;<br />
<br />
&nbsp; //search for -1 value (max_uj)<br />
&nbsp; $buf = '1';<br />
&nbsp; for ($i = 1; $i &lt;= $ibb - 1; $i++)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $buf .= '0';<br />
&nbsp; }<br />
&nbsp; $max_uj = bindec ($buf);<br />
<br />
&nbsp; //decide a sign, and calculate a value<br />
&nbsp; if (hexdec ($hex) &lt; $max_uj)<br />
&nbsp; //+<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $sdec = hexdec ($hex);<br />
&nbsp; }<br />
&nbsp; else<br />
&nbsp; //-<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; //search for max value + 1<br />
&nbsp;&nbsp;&nbsp; //(for ex. if hex = 23ef then max_p1 = ffff + 1)<br />
&nbsp;&nbsp;&nbsp; $buf = '';<br />
&nbsp;&nbsp;&nbsp; for ($i = 1; $i &lt;= $ib; $i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $buf .= 'ff';<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $max_p1 = hexdec ($buf) + 1;<br />
<br />
&nbsp;&nbsp;&nbsp; $sdec = hexdec ($hex) - $max_p1;<br />
&nbsp; }<br />
<br />
&nbsp; return $sdec;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66780""></a>
  <div class="note">
   <strong class="user">repley at freemail dot it</strong>
   <a href="#66780" class="date">28-May-2006 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
From color to color to ...... to color with fade effect. Good for dynamic bar chart.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//MultiColorFade(array hex-colors, int steps)<br />
</span><span class="keyword">function </span><span class="default">MultiColorFade</span><span class="keyword">(</span><span class="default">$hex_array</span><span class="keyword">, </span><span class="default">$steps</span><span class="keyword">) {<br />
<br />
</span><span class="default">$tot </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$hex_array</span><span class="keyword">);<br />
</span><span class="default">$gradient </span><span class="keyword">= array();<br />
</span><span class="default">$fixend </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
</span><span class="default">$passages </span><span class="keyword">= </span><span class="default">$tot</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$stepsforpassage </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$steps</span><span class="keyword">/</span><span class="default">$passages</span><span class="keyword">);<br />
</span><span class="default">$stepsremain </span><span class="keyword">= </span><span class="default">$steps </span><span class="keyword">- (</span><span class="default">$stepsforpassage</span><span class="keyword">*</span><span class="default">$passages</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; for(</span><span class="default">$pointer </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$pointer </span><span class="keyword">&lt; </span><span class="default">$tot</span><span class="keyword">-</span><span class="default">1 </span><span class="keyword">; </span><span class="default">$pointer</span><span class="keyword">++) {<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$hexstart </span><span class="keyword">= </span><span class="default">$hex_array</span><span class="keyword">[</span><span class="default">$pointer</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$hexend </span><span class="keyword">= </span><span class="default">$hex_array</span><span class="keyword">[</span><span class="default">$pointer </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(</span><span class="default">$stepsremain </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stepsremain</span><span class="keyword">--){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stepsforthis </span><span class="keyword">= </span><span class="default">$stepsforpassage </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stepsforthis </span><span class="keyword">= </span><span class="default">$stepsforpassage</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; if(</span><span class="default">$pointer </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$fixend </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$start</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexstart</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$start</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexstart</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$start</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexstart</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexend</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexend</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexend</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$step</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = (</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] - </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">]) / (</span><span class="default">$stepsforthis</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$step</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = (</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] - </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">]) / (</span><span class="default">$stepsforthis</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$step</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = (</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] - </span><span class="default">$end</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">]) / (</span><span class="default">$stepsforthis</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$stepsforthis</span><span class="keyword">-</span><span class="default">$fixend</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] - (</span><span class="default">$step</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] * </span><span class="default">$i</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] - (</span><span class="default">$step</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] * </span><span class="default">$i</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] - (</span><span class="default">$step</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] * </span><span class="default">$i</span><span class="keyword">));<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hex</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%02x'</span><span class="keyword">, (</span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hex</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%02x'</span><span class="keyword">, (</span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">]));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hex</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%02x'</span><span class="keyword">, (</span><span class="default">$rgb</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">]));<br />
&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$gradient</span><span class="keyword">[] = </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$hex</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;<br />
&nbsp;&nbsp; </span><span class="default">$gradient</span><span class="keyword">[] = </span><span class="default">$hex_array</span><span class="keyword">[</span><span class="default">$tot</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;<br />
return </span><span class="default">$gradient</span><span class="keyword">;<br />
}<br />
</span><span class="comment">//end MultiColorFade()<br />
<br />
//start test<br />
</span><span class="default">$multi_hex_array </span><span class="keyword">= array();<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">);<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">,</span><span class="string">'00FF00'</span><span class="keyword">);<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">,</span><span class="string">'00FF00'</span><span class="keyword">,</span><span class="string">'00FFFF'</span><span class="keyword">);<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">,</span><span class="string">'00FF00'</span><span class="keyword">,</span><span class="string">'00FFFF'</span><span class="keyword">,</span><span class="string">'0000FF'</span><span class="keyword">);<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">,</span><span class="string">'00FF00'</span><span class="keyword">,</span><span class="string">'00FFFF'</span><span class="keyword">,</span><span class="string">'0000FF'</span><span class="keyword">,</span><span class="string">'000000'</span><span class="keyword">);<br />
</span><span class="default">$multi_hex_array</span><span class="keyword">[] = array(</span><span class="string">'FF0000'</span><span class="keyword">,</span><span class="string">'FFFF00'</span><span class="keyword">,</span><span class="string">'00FF00'</span><span class="keyword">,</span><span class="string">'00FFFF'</span><span class="keyword">,</span><span class="string">'0000FF'</span><span class="keyword">,</span><span class="string">'000000'</span><span class="keyword">,</span><span class="string">'FFFFFF'</span><span class="keyword">);<br />
<br />
foreach(</span><span class="default">$multi_hex_array </span><span class="keyword">as </span><span class="default">$hex_array</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp; </span><span class="default">$totcolors </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$hex_array</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$steps </span><span class="keyword">= </span><span class="default">44</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">MultiColorFade</span><span class="keyword">(</span><span class="default">$hex_array</span><span class="keyword">, </span><span class="default">$steps</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$tot </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; </span><span class="default">$table </span><span class="keyword">= </span><span class="string">'&lt;table border=1 width="300"&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$tot</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$table </span><span class="keyword">.= </span><span class="string">' &lt;tr&gt;&lt;td bgcolor="' </span><span class="keyword">. </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] . </span><span class="string">'"&gt;' </span><span class="keyword">. (</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">) .</span><span class="string">'&lt;/td&gt;&lt;td&gt;&lt;pre&gt;' </span><span class="keyword">. </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] . </span><span class="string">'&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;<br />
&nbsp;&nbsp; </span><span class="default">$table </span><span class="keyword">.= </span><span class="string">'&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;<br />
&nbsp;&nbsp; echo </span><span class="string">'&lt;br /&gt;Demanded steps = ' </span><span class="keyword">. </span><span class="default">$steps </span><span class="keyword">. </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; echo </span><span class="string">'Returned steps = ' </span><span class="keyword">. </span><span class="default">$tot</span><span class="keyword">;<br />
&nbsp;<br />
&nbsp;&nbsp; if(</span><span class="default">$steps </span><span class="keyword">== </span><span class="default">$tot</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">'&lt;br /&gt;OK.' </span><span class="keyword">. </span><span class="default">$steps </span><span class="keyword">. </span><span class="string">' = ' </span><span class="keyword">. </span><span class="default">$tot </span><span class="keyword">. </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">'&lt;br /&gt;&lt;span style="color:#FF0000"&gt;FAILED! Demanded steps and returned steps are NOT equal!: ' </span><span class="keyword">. </span><span class="default">$steps </span><span class="keyword">. </span><span class="string">' != ' </span><span class="keyword">. </span><span class="default">$tot </span><span class="keyword">. </span><span class="string">'&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; echo </span><span class="default">$table</span><span class="keyword">;<br />
&nbsp;<br />
}<br />
</span><span class="comment">//end test<br />
</span><span class="default">?&gt;<br />
</span><br />
Repley.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63787""></a>
  <div class="note">
   <strong class="user">greatwhitepine at NOSPAM dot yahoo dot ca</strong>
   <a href="#63787" class="date">30-Mar-2006 12:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hex to binary conversion that works for large and small hex numbers.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">hexbin</span><span class="keyword">(</span><span class="default">$str_hex</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$str_bin </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str_hex</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$str_bin </span><span class="keyword">.= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%04s"</span><span class="keyword">, </span><span class="default">decbin</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$str_hex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])));<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$str_bin</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$str_hex </span><span class="keyword">= </span><span class="string">"effffff20df"</span><span class="keyword">;<br />
<br />
print </span><span class="string">"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; HEX VALUE: </span><span class="default">$str_hex</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"&nbsp;&nbsp; REAL BINARY VALUE: %50s\n"</span><span class="keyword">, </span><span class="default">hexbin</span><span class="keyword">(</span><span class="default">$str_hex</span><span class="keyword">));<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"CHOPPED BINARY VALUE: %50s\n\n"</span><span class="keyword">, </span><span class="default">decbin</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$str_hex</span><span class="keyword">)));<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60152""></a>
  <div class="note">
   <strong class="user">ayadav at infoprocorp dot com</strong>
   <a href="#60152" class="date">28-Dec-2005 12:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
From Amit Yadav<br />
<br />
Hex to binary conversion<br />
<br />
$num = hexdec("20DF");<br />
echo binfromdec($num);<br />
<br />
function binfromdec($num) <br />
{<br />
&nbsp;&nbsp;&nbsp; if ($num &gt; 32766)&nbsp; &nbsp; return ("Too Large!");<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 16384)&nbsp; &nbsp; $bit15 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 8192)&nbsp; &nbsp; $bit14 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 4096)&nbsp; &nbsp; $bit13 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 2048)&nbsp; &nbsp; $bit12 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 1024)&nbsp; &nbsp; $bit11 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 512)&nbsp; &nbsp; &nbsp; &nbsp; $bit10 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 256)&nbsp; &nbsp; &nbsp; &nbsp; $bit9 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 128)&nbsp; &nbsp; &nbsp; &nbsp; $bit8 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 64)&nbsp; &nbsp; &nbsp; &nbsp; $bit7 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 32)&nbsp; &nbsp; &nbsp; &nbsp; $bit6 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 16)&nbsp; &nbsp; &nbsp; &nbsp; $bit5 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 8)&nbsp; &nbsp; &nbsp; &nbsp; $bit4 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 4)&nbsp; &nbsp; &nbsp; &nbsp; $bit3 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 2)&nbsp; &nbsp; &nbsp; &nbsp; $bit2 = 1;<br />
&nbsp;&nbsp;&nbsp; if ($num &amp; 1)&nbsp; &nbsp; &nbsp; &nbsp; $bit1 = 1;<br />
<br />
&nbsp;&nbsp;&nbsp; return ("" . $bit15 . $bit14 . $bit13 . $bit12 . $bit11 . $bit10 . $bit9 . $bit8 . $bit7 . $bit6 . $bit5 . $bit4 . $bit3 . $bit2 . $bit1);<br />
<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58253""></a>
  <div class="note">
   <strong class="user">cory at lavacube dot com</strong>
   <a href="#58253" class="date">28-Oct-2005 01:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A handy little function to convert HEX colour codes to "web safe" colours...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">color_mkwebsafe </span><span class="keyword">( </span><span class="default">$in </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="comment">// put values into an easy-to-use array<br />
&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'r'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'g'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
&nbsp;&nbsp; </span><span class="default">$vals</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) );<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// loop through<br />
&nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$vals </span><span class="keyword">as </span><span class="default">$val </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">// convert value<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$val </span><span class="keyword">= ( </span><span class="default">round</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">/</span><span class="default">51</span><span class="keyword">) * </span><span class="default">51 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">// convert to HEX<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Example: color_mkwebsafe('0e5c94');<br />
Produces: 006699<br />
<br />
Hope this helps someone out... Happy coding. :-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58104""></a>
  <div class="note">
   <strong class="user">hajamie@home</strong>
   <a href="#58104" class="date">24-Oct-2005 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function will take a hex $color, e.g. fa34bc and make it the shade you want, e.g. anywhere between 0 and 255. The smaller the number, the darker the output color.&nbsp; It keeps the color the same, only changing the shade.&nbsp;&nbsp; <br />
<br />
function correctshade($color, $shade)<br />
{<br />
$r = hexdec(substr($color,0,2));<br />
$g = hexdec(substr($color,2,2));<br />
$b = hexdec(substr($color,4,2));<br />
$sum = ($r + $g + $b);<br />
$x = (($shade * 3) - $sum) / $sum;<br />
if ($x &gt;= 0) {<br />
$x = $x + 1;<br />
} else {<br />
$x = 1 + $x;<br />
}<br />
$r = intval($x * $r);<br />
$g = intval($x * $g);<br />
$b = intval($x * $b);<br />
$r = dechex($r);<br />
$g = dechex($g);<br />
$b = dechex($b);<br />
return $r.$g.$b;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57622""></a>
  <div class="note">
   
   <a href="#57622" class="date">08-Oct-2005 10:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to get the opposite colors so my website would be soft on the eyes.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">OppositeHex</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">)<br />
{<br />
</span><span class="default">$r </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">255 </span><span class="keyword">- </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)));<br />
</span><span class="default">$r </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$r </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$r</span><span class="keyword">;<br />
</span><span class="default">$g </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">255 </span><span class="keyword">- </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)));<br />
</span><span class="default">$g </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$g</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$g </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$g</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">255 </span><span class="keyword">- </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)));<br />
</span><span class="default">$b </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$b </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">;<br />
return </span><span class="default">$r</span><span class="keyword">.</span><span class="default">$g</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//Example<br />
</span><span class="default">$color </span><span class="keyword">= </span><span class="string">'000000'</span><span class="keyword">;<br />
echo </span><span class="string">'The opposite of #'</span><span class="keyword">.</span><span class="default">$color</span><span class="keyword">.</span><span class="string">' is #'</span><span class="keyword">.</span><span class="default">OppositeHex</span><span class="keyword">(</span><span class="default">$color</span><span class="keyword">).</span><span class="string">';<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57303""></a>
  <div class="note">
   <strong class="user">detrate at hotmail dot com</strong>
   <a href="#57303" class="date">29-Sep-2005 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I made this for a little phpbb mod.&nbsp; It was used to take the hex value from the database and make a color 20 (in decimal) less, resulting a darker color.<br />
<br />
EXAMPLE: #336699 to #1f5285<br />
<br />
<span class="default">&lt;?php<br />
<br />
$row1 </span><span class="keyword">= </span><span class="string">"336699"</span><span class="keyword">; </span><span class="comment">// color<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// difference value<br />
<br />
</span><span class="default">$rgb </span><span class="keyword">= array(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$row1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">), </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$row1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">), </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$row1</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp; if((</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])-</span><span class="default">$c</span><span class="keyword">) &gt;= </span><span class="default">0</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])-</span><span class="default">$c</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) &lt;= </span><span class="default">9</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="string">"0"</span><span class="keyword">.</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp; } else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="string">"00"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$row2 </span><span class="keyword">= </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">].</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">].</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55891""></a>
  <div class="note">
   <strong class="user">Gabriel Reguly</strong>
   <a href="#55891" class="date">16-Aug-2005 11:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After esnhexdec from "rledger at gmail dot com",&nbsp; the esndechex:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">esndechex</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">,&nbsp; </span><span class="default">2</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$a </span><span class="keyword">. </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54002""></a>
  <div class="note">
   <strong class="user">djneoform at gmail dot com</strong>
   <a href="#54002" class="date">20-Jun-2005 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
since i couldn't find one, here's an HEX to ASCII converter..<br />
<br />
(takes HEX strings (in ASCII) and converts each two digit HEX code into it's ASCII equivalent)<br />
<br />
function hex2ascii($str)<br />
{<br />
&nbsp;&nbsp;&nbsp; $p = '';<br />
&nbsp;&nbsp;&nbsp; for ($i=0; $i &lt; strlen($str); $i=$i+2)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $p .= chr(hexdec(substr($str, $i, 2)));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $p;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53529""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#53529" class="date">04-Jun-2005 07:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Bullet-proof hex-to-rgb colour converter like brian at sagesport dot com wanted, just far fewer code lines. As a bonus, gives you the ability to return as string or array:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">hex2rgb</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">$asString </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// strip off any leading #<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">0 </span><span class="keyword">=== </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="string">'#'</span><span class="keyword">)) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else if (</span><span class="default">0 </span><span class="keyword">=== </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="string">'&amp;H'</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// break into hex 3-tuple<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cutpoint </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">wordwrap</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">$cutpoint</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">, </span><span class="default">$cutpoint</span><span class="keyword">), </span><span class="default">3</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// convert each tuple to decimal<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = (isset(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) ? </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) : </span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = (isset(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) ? </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) : </span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = (isset(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]) ? </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]) : </span><span class="default">0</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">$asString </span><span class="keyword">? </span><span class="string">"</span><span class="keyword">{</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$rgb</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]}</span><span class="string">" </span><span class="keyword">: </span><span class="default">$rgb</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Handles 2, 3, and 6 character colour codes with leading # or &amp;H.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52468""></a>
  <div class="note">
   <strong class="user">Joey Morwick</strong>
   <a href="#52468" class="date">02-May-2005 01:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found it helpful to have the inverse / reverse of this function laying around, since I wanted to insert some binary data into an xmlrpc call (it currently craps out when you do that), and I couldn't find one laying around, so here's a simple little function to do that:<br />
<br />
function hex2bin($str) {<br />
&nbsp;&nbsp;&nbsp; $build = '';<br />
&nbsp;&nbsp;&nbsp; while(strlen($str) &gt; 1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $build .= chr(hexdec(substr($str, 0, 2)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str = substr($str, 2, strlen($str)-2);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $build;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51375""></a>
  <div class="note">
   <strong class="user">rledger at gmail dot com</strong>
   <a href="#51375" class="date">28-Mar-2005 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To convert a cellular ESN from hexadecimal to decimal, use the following code. The base conversion is different due to the fact that the first two characters of a hexadecimal value must be converted seperately from the remaining six characters.<br />
&lt;?<br />
function esnhexdec($hex){<br />
&nbsp;&nbsp; $a = sprintf("%03d", hexdec(substr($hex, 0, 2)));<br />
&nbsp;&nbsp; $b = sprintf("%08d", hexdec(substr($hex, 2, 6)));<br />
&nbsp;&nbsp; return $a . $b;<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51273""></a>
  <div class="note">
   <strong class="user">zubfatal, root at it dot dk</strong>
   <a href="#51273" class="date">25-Mar-2005 02:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This replaces my previous class.<br />
I've added a few more input checks in the rgb2hex function.<br />
Also it returned incorrect hex values for 1-digit values.<br />
<br />
color::rgb2hex(array(0,0,0)) would output 000 not 00000.<br />
<br />
<span class="default">&lt;?php <br />
<br />
</span><span class="comment">/** <br />
* Convert colors <br />
* <br />
* Usage: <br />
*&nbsp; color::hex2rgb("FFFFFF") <br />
*&nbsp; color::rgb2hex(array(171,37,37)) <br />
* <br />
* @author&nbsp; &nbsp; &nbsp; Tim Johannessen &lt;root@it.dk&gt; <br />
* @version&nbsp; &nbsp;&nbsp; 1.0.1 <br />
*/ <br />
<br />
</span><span class="keyword">class </span><span class="default">color </span><span class="keyword">{ <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/** <br />
&nbsp;&nbsp; &nbsp; * Convert HEX colorcode to an array of colors. <br />
&nbsp;&nbsp; &nbsp; * @return&nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; Returns the array of colors as array(red,green,blue) <br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">hex2rgb</span><span class="keyword">(</span><span class="default">$hexVal </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hexVal </span><span class="keyword">= </span><span class="default">eregi_replace</span><span class="keyword">(</span><span class="string">"[^a-fA-F0-9]"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$hexVal</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hexVal</span><span class="keyword">) != </span><span class="default">6</span><span class="keyword">) { return </span><span class="string">"ERR: Incorrect colorcode, expecting 6 chars (a-f, 0-9)"</span><span class="keyword">; } <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrTmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$hexVal</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">)); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrTmp </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">"hexdec"</span><span class="keyword">, </span><span class="default">$arrTmp</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="string">"red" </span><span class="keyword">=&gt; </span><span class="default">$arrTmp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="string">"green" </span><span class="keyword">=&gt; </span><span class="default">$arrTmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="string">"blue" </span><span class="keyword">=&gt; </span><span class="default">$arrTmp</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); <br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/** <br />
&nbsp;&nbsp; &nbsp; * Convert RGB colors to HEX colorcode <br />
&nbsp;&nbsp; &nbsp; * @return&nbsp; &nbsp; &nbsp; string&nbsp; &nbsp; &nbsp; &nbsp; Returns the converted colors as a 6 digit colorcode <br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">rgb2hex</span><span class="keyword">(</span><span class="default">$arrColors </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">)) { return </span><span class="string">"ERR: Invalid input, expecting an array of colors"</span><span class="keyword">; } <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">) &lt; </span><span class="default">3</span><span class="keyword">) { return </span><span class="string">"ERR: Invalid input, array too small (3)"</span><span class="keyword">; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">); </span><span class="default">$x</span><span class="keyword">++) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]) &lt; </span><span class="default">1</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"ERR: One or more empty values found, expecting array with 3 values"</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif (</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"[^0-9]"</span><span class="keyword">, </span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">])) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"ERR: One or more non-numeric values found."</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]) &lt; </span><span class="default">0</span><span class="keyword">) || (</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]) &gt; </span><span class="default">255</span><span class="keyword">)) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"ERR: Range mismatch in one or more values (0-255)"</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">] = </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$arrColors</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]), </span><span class="default">2</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">)); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">, </span><span class="default">$arrColors</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; } <br />
<br />
} <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51172""></a>
  <div class="note">
   <strong class="user">brian at sagesport dot com</strong>
   <a href="#51172" class="date">22-Mar-2005 09:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The issue I've seen with the existing hex to dec conversion routines is the lack of error-trapping.&nbsp; I stick to the theory that one should try to cover ALL the bases when writing a generalized routine such as this one.&nbsp; I have a varied background that covers a wide variety of design/development languages, on the web as well as desktop apps.&nbsp; As such I've seen multiple formats for writing hex colors.<br />
<br />
For example, the color red COULD be written as follows:<br />
#ff0000<br />
&amp;Hff0000<br />
#ff<br />
&amp;Hff<br />
<br />
Therefore I have written a function that is case-insensitive and takes into account the chance that different developers have a tendency to format hex colors in different ways.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">convert_color</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$chars </span><span class="keyword">= array(</span><span class="string">"#"</span><span class="keyword">,</span><span class="string">"&amp;"</span><span class="keyword">,</span><span class="string">"H"</span><span class="keyword">,</span><span class="string">"h"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">strip_chars</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">$chars</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/([0-9]|[A-F]|[a-f]){"</span><span class="keyword">.</span><span class="default">$len</span><span class="keyword">.</span><span class="string">"}/i"</span><span class="keyword">,</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$hex</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; switch(</span><span class="default">$len</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$red </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$green </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blue </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">4</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$red </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$green</span><span class="keyword">=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blue </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">6</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$red </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$green</span><span class="keyword">=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blue </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">success</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">r</span><span class="keyword">] = </span><span class="default">$red</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">g</span><span class="keyword">] = </span><span class="default">$green</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">b</span><span class="keyword">] = </span><span class="default">$blue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$color</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">success</span><span class="keyword">] = </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$color</span><span class="keyword">[</span><span class="default">error</span><span class="keyword">] = </span><span class="string">"unable to convert hex to dec"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; };<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">strip_chars</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$char</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$count </span><span class="keyword">&gt;= </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$count</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$char</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$char</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$found</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$found</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">,</span><span class="default">$len</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$char</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$found</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$found</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">,</span><span class="default">$len</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp;&nbsp; };<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="comment">/* <br />
&nbsp;&nbsp;&nbsp; To use simply use the following function call:<br />
&nbsp;&nbsp; &nbsp;&nbsp; $color = convert_color("#FF");<br />
&nbsp;&nbsp; &nbsp;&nbsp; this will return the following assoc array if successful:<br />
&nbsp;&nbsp; &nbsp;&nbsp; *[success] = true<br />
&nbsp;&nbsp; &nbsp;&nbsp; *[r] = 255<br />
&nbsp;&nbsp; &nbsp;&nbsp; *[g] = 0<br />
&nbsp;&nbsp; &nbsp;&nbsp; *[b] = 0<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; or copy and paste the following code:<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; $hex = "FFFFFF"; // Color White<br />
&nbsp;&nbsp; &nbsp;&nbsp; $color = convert_color($hex);<br />
&nbsp;&nbsp; &nbsp;&nbsp; var_dump($color);<br />
&nbsp;*/ <br />
</span><span class="default">?&gt;<br />
</span><br />
As you can see, the function "convert_color" accepts a hex # in most acceptable formats and returns an associative array.&nbsp; [success] is set to TRUE if the function succeeds and FALSE if not.&nbsp; The array members [r], [g] and [b] hold the red,green and blue values respectively.&nbsp; If it fails, [error] holds a custom error message.<br />
<br />
"strip_chars" is a support function written to remove the unwanted characters from the hex string, and sends the concatenated string back to the calling function.&nbsp; It will accept either a single value or an array of values for the characters to remove.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49866""></a>
  <div class="note">
   <strong class="user">groobo</strong>
   <a href="#49866" class="date">10-Feb-2005 11:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's just a revision to marfastic's ligten_up script, it simply adds/subtracts mod_color to orig_color.<br />
I use it often to adjust tonals rather than brightness only<br />
<br />
&lt;?<br />
function mod_color($orig_color, $mod, $mod_color){<br />
&nbsp;&nbsp;&nbsp; /*<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $orig_color - original html color, hex<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $mod_color - modifying color, hex<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $mod - modifier '+' or '-'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; usage: mod_color('CCCCCC', '+', '000033')<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; // does quick validation<br />
&nbsp;&nbsp;&nbsp; preg_match("/([0-9]|[A-F]){6}/i",$orig_color,$orig_arr);<br />
&nbsp;&nbsp;&nbsp; preg_match("/([0-9]|[A-F]){6}/i",$mod_color,$mod_arr);<br />
&nbsp;&nbsp;&nbsp; if ($orig_arr[0] &amp;&amp; $mod_arr[0]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($i=0; $i&lt;6; $i=$i+2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $orig_x = substr($orig_arr[0],$i,2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $mod_x = substr($mod_arr[0],$i,2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($mod == '+') { $new_x = hexdec($orig_x) + hexdec($mod_x); }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { $new_x = hexdec($orig_x) - hexdec($mod_x); }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($new_x &lt; 0) { $new_x = 0; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if ($new_x &gt; 255) { $new_x = 255; };<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $new_x = dechex($new_x);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ret .= $new_x;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $ret;<br />
&nbsp;&nbsp;&nbsp; } else { return false; }<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49194""></a>
  <div class="note">
   
   <a href="#49194" class="date">19-Jan-2005 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wondered long time what is the best way to generate RGB-color from HEX-color, and just now i found the simpliest way!<br />
<br />
<span class="default">&lt;?php<br />
$hex </span><span class="keyword">= </span><span class="string">"FF00FF"</span><span class="keyword">;<br />
</span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">); </span><span class="comment">// 16711935<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope this will save your time! :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48070""></a>
  <div class="note">
   <strong class="user">marfastic</strong>
   <a href="#48070" class="date">10-Dec-2004 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to brighten up any color:<br />
<br />
function lighten_up($orig_color, $fraction_denom){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // return the color between the color and white <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // based on the fraction denom that is passed<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!isset($fraction_denom))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $fraction_denom = 2;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $highest_val = hexdec("FF");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $r = hexdec(substr($orig_color,0,2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $r = ($highest_val-$r)/$fraction_denom + $r;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $g = hexdec(substr($orig_color,2,2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $g = ($highest_val-$g)/$fraction_denom + $g;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $b = hexdec(substr($orig_color,4,2));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $b = ($highest_val-$b)/$fraction_denom + $b;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return dechex($r) . dechex($g) . dechex($b);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42218""></a>
  <div class="note">
   <strong class="user">_meto ALT+q web.de</strong>
   <a href="#42218" class="date">08-May-2004 09:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Damn, this took me some real long time! Maybe it's helpfull for those who even have no idea of color-Schemes like me ;)<br />
<br />
If u want to generate PDF's for Print Offices u need to set all the colors in CMYK.<br />
<br />
Here is a Function that will convert RGB to CMYK<br />
<br />
&lt;?<br />
function hex2rgb($hex) {<br />
&nbsp; $color = str_replace('#','',$hex);<br />
&nbsp; $rgb = array('r' =&gt; hexdec(substr($color,0,2)),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'g' =&gt; hexdec(substr($color,2,2)),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'b' =&gt; hexdec(substr($color,4,2)));<br />
&nbsp; return $rgb;<br />
}<br />
<br />
function rgb2cmyk($var1,$g=0,$b=0) {<br />
&nbsp;&nbsp; if(is_array($var1)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $r = $var1['r'];<br />
&nbsp;&nbsp; &nbsp;&nbsp; $g = $var1['g'];<br />
&nbsp;&nbsp; &nbsp;&nbsp; $b = $var1['b'];<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; else $r=$var1;<br />
&nbsp;&nbsp; $cyan&nbsp; &nbsp; = 255 - $r;<br />
&nbsp;&nbsp; $magenta = 255 - $g;<br />
&nbsp;&nbsp; $yellow&nbsp; = 255 - $b;<br />
&nbsp;&nbsp; $black&nbsp;&nbsp; = min($cyan, $magenta, $yellow);<br />
&nbsp;&nbsp; $cyan&nbsp; &nbsp; = @(($cyan&nbsp; &nbsp; - $black) / (255 - $black)) * 255;<br />
&nbsp;&nbsp; $magenta = @(($magenta - $black) / (255 - $black)) * 255;<br />
&nbsp;&nbsp; $yellow&nbsp; = @(($yellow&nbsp; - $black) / (255 - $black)) * 255;<br />
&nbsp;&nbsp; return array('c' =&gt; $cyan / 255,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'm' =&gt; $magenta / 255,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'y' =&gt; $yellow / 255,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'k' =&gt; $black / 255);<br />
}<br />
<br />
$color=rgb2cmyk(hex2rgb('#FF0000')); <br />
pdf_setcolor($pdf, "both", "cmyk", $color['c'], $color['m'], $color['y'], $color['k']);<br />
?&gt;<br />
<br />
U can call it with parameters (r,g,b) or just with an array(r,g,b) that contains these values.<br />
<br />
Hope it works correct. All testing was fine.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35383""></a>
  <div class="note">
   <strong class="user">gelado at ip3 dot com</strong>
   <a href="#35383" class="date">29-Aug-2003 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another hex to decimal converter, up to the precision of PHP floats.<br />
<br />
function longhex($hex)<br />
{<br />
&nbsp;&nbsp;&nbsp; $dec = 0;<br />
&nbsp;&nbsp;&nbsp; $bitval = 1;<br />
&nbsp;&nbsp;&nbsp; for($pos = 1; $pos &lt;= strlen($hex); $pos++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dec += hexdec(substr($hex, -$pos, 1)) * $bitval;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $bitval *= 16;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return($dec);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32434""></a>
  <div class="note">
   <strong class="user">henrique at recidive dot com</strong>
   <a href="#32434" class="date">27-May-2003 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function to convert a string with hexadecimal colors to an associative array with RGB values:<br />
<br />
&lt;?<br />
function hex2dec($hex) {<br />
&nbsp; $color = str_replace('#', '', $hex);<br />
&nbsp; $ret = array(<br />
&nbsp;&nbsp;&nbsp; 'r' =&gt; hexdec(substr($color, 0, 2)),<br />
&nbsp;&nbsp;&nbsp; 'g' =&gt; hexdec(substr($color, 2, 2)),<br />
&nbsp;&nbsp;&nbsp; 'b' =&gt; hexdec(substr($color, 4, 2))<br />
&nbsp; );<br />
&nbsp; return $ret;<br />
}<br />
<br />
/*** Example:<br />
print_r(hex2dec('3D58BE'));<br />
<br />
or<br />
<br />
print_r(hex2dec('#3D58BE'));<br />
<br />
will return<br />
<br />
Array<br />
(<br />
&nbsp; [r] =&gt; 61<br />
&nbsp; [g] =&gt; 88<br />
&nbsp; [b] =&gt; 190<br />
)<br />
***/<br />
?&gt;<br />
<br />
Thanks !<br />
<br />
Henrique Recidive</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29182""></a>
  <div class="note">
   <strong class="user">andreas.schmeiler</strong>
   <a href="#29182" class="date">05-Feb-2003 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's another hex2bin variant, works pretty well to me.<br />
<br />
function hex2bin($hexdata) {<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; for ($i=0;$i&lt;strlen($hexdata);$i+=2) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $bindata.=chr(hexdec(substr($hexdata,$i,2)));<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; return $bindata;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="17588""></a>
  <div class="note">
   <strong class="user">chrism at four dot net</strong>
   <a href="#17588" class="date">15-Dec-2001 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hexdec from 4.1.0 onwards does not show<br />
the same size limitation and therefore<br />
works differently with large numbers than previous php versions.<br />
<br />
To obtain the same results, use:<br />
<br />
(int) hexdec (...)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="10695""></a>
  <div class="note">
   <strong class="user">andychase at yahoo dot com</strong>
   <a href="#10695" class="date">17-Jan-2001 06:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For hex numbers larger than 7FFFFFFF (E.G. PalmOS dates in seconds elapsed since 01/01/1904), I came up with this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">bighexdec</span><span class="keyword">(</span><span class="default">$hexnumber</span><span class="keyword">){ <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numlength </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hexnumber</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$decnumber </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$x </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt;= </span><span class="default">$numlength</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++){<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$place </span><span class="keyword">= </span><span class="default">$numlength </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$operand </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexnumber</span><span class="keyword">,</span><span class="default">$place</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$exponent </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">16</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decValue </span><span class="keyword">= </span><span class="default">$operand </span><span class="keyword">* </span><span class="default">$exponent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decnumber </span><span class="keyword">+= </span><span class="default">$decValue</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$decnumber</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.getrandmax.html">getrandmax</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.hypot.html">hypot</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
