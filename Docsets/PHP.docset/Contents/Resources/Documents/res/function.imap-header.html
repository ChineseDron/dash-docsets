<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Alias of imap_headerinfo</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imap-getsubscribed.html">imap_getsubscribed</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imap-headerinfo.html">imap_headerinfo</a></div>
 <div class="up"><a href="ref.imap.html">IMAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.imap-header" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imap_header</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imap_header</span> &mdash; <span class="dc-title">Alias of <span class="function"><a href="function.imap-headerinfo.html" class="function">imap_headerinfo()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.imap-header-description">
  <h3 class="title">Description</h3>
  <p class="simpara">
   This function is an alias of: 
   <span class="function"><a href="function.imap-headerinfo.html" class="function">imap_headerinfo()</a></span>.
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="95308""></a>
  <div class="note">
   <strong class="user">jose dot yapur at usmp dot pe</strong>
   <a href="#95308" class="date">25-Dec-2009 01:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some example of how to use it:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $imap </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"{mail.example.com:143}INBOX"</span><span class="keyword">, </span><span class="string">"username"</span><span class="keyword">, </span><span class="string">"password"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$message_count </span><span class="keyword">= </span><span class="default">imap_num_msg</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$message_count</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$body </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">imap_body</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$prettydate </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F Y"</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">udate</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">from</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">personal</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$personal </span><span class="keyword">= </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">from</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">personal</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$personal </span><span class="keyword">= </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">from</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">mailbox</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$email </span><span class="keyword">= </span><span class="string">"</span><span class="default">$personal</span><span class="string"> &lt;</span><span class="keyword">{</span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">from</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">mailbox</span><span class="keyword">}</span><span class="string">@</span><span class="keyword">{</span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">from</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">host</span><span class="keyword">}</span><span class="string">&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"On </span><span class="default">$prettydate</span><span class="string">, </span><span class="default">$email</span><span class="string"> said \"</span><span class="default">$body</span><span class="string">\".\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imap_close</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81283""></a>
  <div class="note">
   <strong class="user">Anang Syarifudin A</strong>
   <a href="#81283" class="date">20-Feb-2008 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My quick and dirty code to decode utf-8 subject :<br />
<br />
function decode_utf8($str) {<br />
&nbsp;&nbsp; preg_match_all("/=\?UTF-8\?B\?([^\?]+)\?=/i",$str, $arr);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; for ($i=0;$i&lt;count($arr[1]);$i++){<br />
&nbsp;&nbsp; &nbsp; $str=ereg_replace(ereg_replace("\?","\?",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $arr[0][$i]),base64_decode($arr[1][$i]),$str);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $str;<br />
}<br />
<br />
$subject = decode_utf8($header-&gt;subject);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80889""></a>
  <div class="note">
   <strong class="user">stepotronic at nimbleminds dot net</strong>
   <a href="#80889" class="date">05-Feb-2008 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
At jeremy at caramiel dot com:<br />
You are wrong, since it will just work if the encoding of the characters is also used in the current context.<br />
There is a reason why it comes with the charset :)<br />
<br />
There are way better solutions with imap_mime_header_decode</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80814""></a>
  <div class="note">
   <strong class="user">jeremy at caramiel dot com</strong>
   <a href="#80814" class="date">01-Feb-2008 06:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a clean way to decode encoded imap headers that will work in all cases :<br />
<br />
function fix_text($str)<br />
{<br />
&nbsp;&nbsp;&nbsp; $subject = '';<br />
&nbsp;&nbsp;&nbsp; $subject_array = imap_mime_header_decode($str);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach ($subject_array AS $obj)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $subject .= rtrim($obj-&gt;text, "\t");<br />
<br />
&nbsp;&nbsp;&nbsp; return $subject;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73517""></a>
  <div class="note">
   <strong class="user">khigashi dot oang at gmail dot com</strong>
   <a href="#73517" class="date">27-Feb-2007 04:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple way to fix encoded subject/from header problem and strip whitespace:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fix_text</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">){<br />
if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Bb]\?"</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">)){<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Bb]\?"</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
<br />
while(list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)){<br />
if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)){<br />
</span><span class="default">$arrTemp</span><span class="keyword">=</span><span class="default">split</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">);<br />
</span><span class="default">$arrTemp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">$arrTemp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
</span><span class="default">$var</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$arrTemp</span><span class="keyword">);<br />
}}<br />
</span><span class="default">$var</span><span class="keyword">=</span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
} <br />
<br />
if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?Q\?"</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">)){<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">quoted_printable_decode</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Qq]\?"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br />
}<br />
return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Ex.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//For =?iso-8859-1?Q Problem<br />
<br />
</span><span class="keyword">echo </span><span class="default">$title</span><span class="keyword">;<br />
</span><span class="comment">//show: =?iso-8859-1?Q?Boletim:_Motiva=E7=E3o<br />
//,_Gest=E3o_&amp;_Vendas_-_Gilcl=E9r_Regi?= <br />
//=?iso-8859-1?Q?na?=<br />
<br />
</span><span class="keyword">echo </span><span class="default">fix_text</span><span class="keyword">(</span><span class="default">$title</span><span class="keyword">);<br />
</span><span class="comment">//show: na?<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27003""></a>
  <div class="note">
   <strong class="user">gungp720 at yahoo dot com</strong>
   <a href="#27003" class="date">20-Nov-2002 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To convert date format from mail header to dd/mm/yyyy H:i use this :<br />
&lt;?<br />
$tgl1 = strtotime($msg-&gt;date); //convert to timestamp<br />
$tgl2 = date("d/m/Y H:i",$tgl1); //format date from timestamp<br />
echo $tgl2;<br />
?&gt;<br />
hope this help :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25745""></a>
  <div class="note">
   <strong class="user">shader76</strong>
   <a href="#25745" class="date">03-Oct-2002 05:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you need to grab other fields that are not parsed out by imap_header then use<br />
imap_fetchheader to retrieve the entire email header and do the work yourself.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21501""></a>
  <div class="note">
   
   <a href="#21501" class="date">15-May-2002 05:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just wanted to state what all these variables were producing considering it isnt documented anywhere that I have been able to find on this site:<br />
<br />
the object that imap_mailboxmsgs returns has the following fields for the pop3 driver:<br />
<br />
array(<br />
&nbsp;&nbsp; &nbsp; Unread =&gt; <br />
&nbsp;&nbsp; &nbsp; Deleted =&gt;<br />
&nbsp;&nbsp; &nbsp; Nmsgs =&gt;&nbsp; <br />
&nbsp;&nbsp; &nbsp; Size=&gt;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; Date=&gt;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; Driver=&gt;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; Mailbox=&gt; <br />
&nbsp;&nbsp; &nbsp; Recent=&gt;<br />
)<br />
<br />
imap_header returns the following array for the pop3 driver:<br />
<br />
stdClass Object (<br />
&nbsp;&nbsp;&nbsp; date=&gt;<br />
&nbsp;&nbsp;&nbsp; Date=&gt;<br />
&nbsp;&nbsp;&nbsp; subject=&gt;<br />
&nbsp;&nbsp;&nbsp; Subject=&gt;<br />
&nbsp;&nbsp;&nbsp; toaddress=&gt;<br />
&nbsp;&nbsp;&nbsp; to=&gt; array stdClass Object (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; mailbox=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; host=&gt;<br />
&nbsp;&nbsp; &nbsp; )<br />
&nbsp;&nbsp;&nbsp; fromaddress=&gt;<br />
&nbsp;&nbsp;&nbsp; from=&gt; array stdClass Object (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; personal=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; mailbox=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; host=&gt;<br />
&nbsp;&nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; reply_toaddress=&gt;<br />
&nbsp;&nbsp;&nbsp; reply_to=&gt; array stdClass Object (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; personal=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; mailbox=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; host=&gt;<br />
&nbsp;&nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; senderaddress=&gt;<br />
&nbsp;&nbsp;&nbsp; sender =&gt; array stdClass Object (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; personal=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; mailbox=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; host=&gt;<br />
&nbsp;&nbsp;&nbsp; )<br />
&nbsp;&nbsp;&nbsp; Recent=&gt;<br />
&nbsp;&nbsp;&nbsp; Unseen=&gt;<br />
&nbsp;&nbsp;&nbsp; Flagged=&gt;<br />
&nbsp;&nbsp;&nbsp; Answered=&gt;<br />
&nbsp;&nbsp;&nbsp; Deleted=&gt;<br />
&nbsp;&nbsp;&nbsp; Draft=&gt;<br />
&nbsp;&nbsp;&nbsp; Msgno=&gt;<br />
&nbsp;&nbsp;&nbsp; MailDate=&gt;<br />
&nbsp;&nbsp;&nbsp; Size=&gt;<br />
&nbsp;&nbsp;&nbsp; udate=&gt;<br />
)<br />
<br />
Also, if you are using a pop3 server and you are having difficulties deleting messages, you will need to call imap_expunge immediately after your call to imap_delete. (this was posted somewhere else..&nbsp; thanks for that!!)<br />
<br />
feel free to drop me a line if this helped you.&nbsp; Happy coding.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18760""></a>
  <div class="note">
   <strong class="user">hnesland at samsen dot com</strong>
   <a href="#18760" class="date">04-Feb-2002 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A way to print your own specified date:<br />
<br />
$date = date('d F Y (G:i:s)',<br />
strtotime(strip_tags($headerinfo-&gt;udate)));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15371""></a>
  <div class="note">
   <strong class="user">jwilson at ecominteractive dot net</strong>
   <a href="#15371" class="date">06-Sep-2001 08:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is explained else where on the site but something I struggled with.<br />
<br />
To find the size of a message use:<br />
<br />
$sizefeed1 = imap_fetchstructure($feed,$messagenumber);<br />
$sizefeed2 = $sizefeed1-&gt;bytes;<br />
$size = "$sizefeed2 bytes";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="11220""></a>
  <div class="note">
   <strong class="user">alpha_lam at yahoo dot com dot hk</strong>
   <a href="#11220" class="date">10-Feb-2001 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've got a problem when facing some encoded subject or from header like:<br />
=?big5?B?uXG4o7ZXpEg3MTEw?= or<br />
=?iso-8859-1?Q?A7=EB=B2=BC=B6=7D=A9l=21?=<br />
this problem only appears when the poster is using non-Misco$oft reader, and i lastly find the way to solve.<br />
For the =?big5?B?, the encode method is base64, so you can use base64_decode to decode it to the original one, you can use the following to check and decode:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Bb]\?"</span><span class="keyword">,</span><span class="default">$strHead</span><span class="keyword">)){<br />
&nbsp; </span><span class="default">$arrHead</span><span class="keyword">=</span><span class="default">split</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Bb]\?"</span><span class="keyword">,</span><span class="default">$strHead</span><span class="keyword">);<br />
&nbsp; while(list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$arrHead</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arrTemp</span><span class="keyword">=</span><span class="default">split</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arrTemp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">base64_decode</span><span class="keyword">(</span><span class="default">$arrTemp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arrHead</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$arrTemp</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$strHead</span><span class="keyword">=</span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$arrHead</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
For =?iso-8859-1?Q?, it uses quoted printable to encode, you can use quoted_printable_decode to decode, example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">if(</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?Q\?"</span><span class="keyword">,</span><span class="default">$strHead</span><span class="keyword">)){<br />
&nbsp; </span><span class="default">$strHead</span><span class="keyword">=</span><span class="default">quoted_printable_decode</span><span class="keyword">(</span><span class="default">$strHead</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$strHead</span><span class="keyword">=</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"=\?.{0,}\?[Qq]\?"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$strHead</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$strHead</span><span class="keyword">=</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"\?="</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$strHead</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="6195""></a>
  <div class="note">
   <strong class="user">G dot li at open dot ac dot uk</strong>
   <a href="#6195" class="date">05-Jul-2000 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yes, the ref. is quit confusing (to me at least). It will be wise (after spent many hours) to test the type of variable first before it disappointe you. I find $header-&gt;From retrurns String, $header-&gt;from returns array and its elements are object. Therefore if you want get sender's name for example,<br />
you need: $from = $header-&gt;from;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_array($from)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(list($key, $val) = each($from)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $from[0]-&gt;personal;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $from[0]-&gt;adl;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $from[0]-&gt;mailbox;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $from[0]-&gt;host;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
you will find $header_from is an one element array and this element is an object. Hope anyone else will not wast time here to figure out why retrun is empty.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imap-getsubscribed.html">imap_getsubscribed</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imap-headerinfo.html">imap_headerinfo</a></div>
 <div class="up"><a href="ref.imap.html">IMAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
