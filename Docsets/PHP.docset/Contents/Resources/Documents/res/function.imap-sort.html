<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Gets and sort messages</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imap-setflag-full.html">imap_setflag_full</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imap-status.html">imap_status</a></div>
 <div class="up"><a href="ref.imap.html">IMAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.imap-sort" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imap_sort</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imap_sort</span> &mdash; <span class="dc-title">Gets and sort messages</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imap-sort-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><b>imap_sort</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$imap_stream</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$criteria</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$reverse</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$options</tt><span class="initializer"> = 0</span></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$search_criteria</tt><span class="initializer"> = <b><tt>NULL</tt></b></span></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$charset</tt><span class="initializer"> = NIL</span></span>
  ]]] )</div>

  <p class="para rdfs-comment">
   Gets and sorts message numbers by the given parameters.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imap-sort-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>
<span class="term"><i><tt class="parameter">
imap_stream</tt></i></span><dd>
<p class="para">An IMAP stream returned by
<span class="function"><a href="function.imap-open.html" class="function">imap_open()</a></span>.</p></dd>
</dt>

    <dt>

     <span class="term"><i><tt class="parameter">criteria</tt></i></span>
     <dd>

      <p class="para">
       Criteria can be one (and only one) of the following:
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTDATE</tt></b> - message Date
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTARRIVAL</tt></b> - arrival date
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTFROM</tt></b> - mailbox in first From address
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTSUBJECT</tt></b> - message subject
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTTO</tt></b> - mailbox in first To address
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTCC</tt></b> - mailbox in first cc address
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SORTSIZE</tt></b> - size of message in octets
         </span>
        </li>
       </ul>
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">reverse</tt></i></span>
     <dd>

      <p class="para">
       Set this to 1 for reverse sorting
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">options</tt></i></span>
     <dd>

      <p class="para">
       The <i><tt class="parameter">options</tt></i> are a bitmask of one or more of the
       following:
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <b><tt>SE_UID</tt></b> - Return UIDs instead of sequence numbers
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <b><tt>SE_NOPREFETCH</tt></b> - Don&#039;t prefetch searched messages
         </span>
        </li>
       </ul>
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">search_criteria</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">charset</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imap-sort-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array of message numbers sorted by the given
   parameters.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.imap-sort-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.3.3</td>
       <td align="left">
        The <i><tt class="parameter">charset</tt></i> parameter was added
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="87694""></a>
  <div class="note">
   <strong class="user">ted dot chou12 at gmail dot com</strong>
   <a href="#87694" class="date">16-Dec-2008 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One thing worth mentioning about imap_sort is that the unique id and message no. changes with the order of the message, so the ids are different if sorted differently and have difficulties to track, the way to get it is using the message-&gt;id property:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $imap_server </span><span class="keyword">= </span><span class="string">"{mail.netfriending.co.cc/novalidate-cert}"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$imap_user </span><span class="keyword">= </span><span class="string">"user"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$imap_pass </span><span class="keyword">= </span><span class="string">"pass"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$mbox </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"</span><span class="keyword">{</span><span class="default">$imap_server</span><span class="keyword">}</span><span class="string">INBOX"</span><span class="keyword">, </span><span class="default">$imap_user</span><span class="keyword">, </span><span class="default">$imap_pass</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$original_order </span><span class="keyword">= </span><span class="default">$mbox</span><span class="keyword">; </span><span class="comment">//this is important line to add before reordering the messages.<br />
&nbsp; </span><span class="default">$sorted_mbox </span><span class="keyword">= </span><span class="default">imap_sort</span><span class="keyword">(</span><span class="default">$mbox</span><span class="keyword">, </span><span class="string">"SORTDATE"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$totalrows </span><span class="keyword">= </span><span class="default">imap_num_msg</span><span class="keyword">(</span><span class="default">$mbox</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$startvalue </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; while (</span><span class="default">$startvalue </span><span class="keyword">&lt; </span><span class="default">$totalrows</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$mbox</span><span class="keyword">, </span><span class="default">$sorted_mbox</span><span class="keyword">[</span><span class="default">$startvalue</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mid_1 </span><span class="keyword">= </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">message_id</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$i </span><span class="keyword">&lt; (</span><span class="default">$totalrows </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$header1 </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$original_order</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$mid_2 </span><span class="keyword">= </span><span class="default">$header1</span><span class="keyword">-&gt;</span><span class="default">message_id</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$mid_1 </span><span class="keyword">== </span><span class="default">$mid_2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$id </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; } </span><span class="comment">// now the ids are store truely &amp; uniquely in the $id variable to call out<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$startvalue</span><span class="keyword">++;<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61688""></a>
  <div class="note">
   <strong class="user">antoine dot spam-nono at maxg dot info</strong>
   <a href="#61688" class="date">09-Feb-2006 07:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I worked a lot with IMAP functions since I wrote a complete webmail and I've got a little tip about the imap_sort function :<br />
<br />
There is a big difference between :<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;imap_sort</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">SORTDATE</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="comment">// and <br />
&nbsp;</span><span class="default">imap_sort</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">SORTARRIVAL</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The first command will issue a<br />
&nbsp;&gt;&gt; FETCH 1:last (UID ENVELOPE BODY.PEEK[HEADER.FIELDS (Newsgroups Content-MD5 Content-Disposition Content-Language Content-Location Followup-To References)] INTERNALDATE RFC822.SIZE FLAGS)<br />
<br />
While the second resulted in<br />
&nbsp;&gt;&gt; FETCH 1:last (UID INTERNALDATE RFC822.SIZE FLAGS)<br />
<br />
As a result, using SORTDATE took 3 seconds longer to complete on a 800-emails mailbox, while the results are quite the same (except if you have to deal with forged dates or timezones, but the arrival order is far more logical)<br />
<br />
My advice if you sort your emails by arrival is to actually use SORTARRIVAL, or better don't use imap_sort and go straight with message numbers (not UIDs). On large mailboxes, if you display messages per page, you will have significant performance increases (by avoiding 5 seconds of sorting).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52640""></a>
  <div class="note">
   <strong class="user">persian-horde at metanetworking dot com</strong>
   <a href="#52640" class="date">07-May-2005 09:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hello,<br />
We used MIME and NLS libraries in our previous code(imap_locale_sort) that<br />
are part of PEAR and Horde projects, and so our function<br />
was so specific. Here is the general (pure php) code for this<br />
function:<br />
<br />
function imap_locale_sort($stream,$criteria,$reverse,$locale,$options)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($criteria!=SORTSUBJECT)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (imap_sort($stream,$criteria,$reverse,$options));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $unsorted = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $sortresult = array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $MC=imap_check($stream);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $MN=$MC-&gt;Nmsgs;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $overview = imap_fetch_overview($stream,"1:$MN",0);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $k=0;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while( list($key,$val) = each($overview))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $unsorted[$k]["uid"]=$val-&gt;uid;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $unsorted[$k]["subject"]=imap_utf8($val-&gt;subject);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $k++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; usort ($unsorted, create_function('$a,$b','setlocale(LC_ALL,$locale);return strcoll($a["subject"],$b["subject"]);'));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($m=0;$m&lt;count($unsorted);$m++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($sortresult,$unsorted[$m]["uid"]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($reverse)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $sortresult = array_reverse($sortresult);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $sortresult;<br />
}<br />
<br />
Sample usage:<br />
<br />
$mbox = imap_open("{localhost:143}INBOX.sent-mail","userid","password");<br />
<br />
if ($mbox)<br />
&nbsp;&nbsp;&nbsp; echo ("Connection Successful!");<br />
<br />
$sorted = imap_locale_sort($mbox,SORTSUBJECT,0,'fa_IR',0);<br />
print_r($sorted);<br />
print ("\n\n");<br />
$sorted = imap_sort($mbox,SORTSUBJECT,SE_UID);<br />
print_r($sorted);<br />
<br />
imap_close($mbox);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52623""></a>
  <div class="note">
   <strong class="user">persian-horde at metanetworking dot com</strong>
   <a href="#52623" class="date">07-May-2005 03:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
imap_sort uses the c-client library to sort messages. This library currently does not <br />
support locale-based sort for foreign languages (Although it has charset option).<br />
They are working on this(<a href="http://www.washington.edu/imap/IMAP-FAQs/#1.12" rel="nofollow" target="_blank">http://www.washington.edu/imap/IMAP-FAQs/#1.12</a>),<br />
but you can use the following function which uses strcoll() for locale-based sorting.<br />
Pease note that this is required for SUBJECT field sorting, because most of <br />
other fields are sorted correctly by imap_sort in any locale:<br />
<br />
function imap_locale_sort($stream,$criteria,$reverse,$locale,$options)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($criteria!=SORTSUBJECT)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (imap_sort($stream,$criteria,$reverse,$options));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $unsorted = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $sortresult = array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $MC=imap_check($stream);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $MN=$MC-&gt;Nmsgs;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $overview = imap_fetch_overview($stream,"1:$MN",0);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $k=0;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while( list($key,$val) = each($overview))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $unsorted[$k]["uid"]=$val-&gt;uid;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $unsorted[$k]["subject"]=MIME::decode($val-&gt;subject, NLS::getCharset());<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $k++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; usort ($unsorted, create_function('$a,$b','setlocale(LC_ALL,$locale);return strcoll($a["subject"],$b["subject"]);'));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($m=0;$m&lt;count($unsorted);$m++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($sortresult,$unsorted[$m]["uid"]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($reverse)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $sortresult = array_reverse($sortresult);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $sortresult;<br />
}<br />
<br />
Usage example:<br />
<br />
$sorted = imap_locale_sort($stream,SORTSUBJECT,0,'fa_IR',0);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51158""></a>
  <div class="note">
   <strong class="user">boscolau at mac dot com</strong>
   <a href="#51158" class="date">22-Mar-2005 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in reply to graham_NOSPAM at rdb-concepts dot NOSPAM dot co dot uk here is a more elegant way to achieve sorting of search results:<br />
<br />
function order_search($searchresults, $sortresults) {<br />
&nbsp;&nbsp;&nbsp; return array_values(array_intersect($sortresults,$searchresults));<br />
}<br />
<br />
example of using function:<br />
&nbsp;&nbsp; $sortresults = imap_sort($stream, $sort, $sortorder);<br />
&nbsp;&nbsp; $searchresults = imap_search($stream, $query);<br />
&nbsp;&nbsp; $sorted_search_results = order_search($searchresults, $sortresults);<br />
<br />
sorted version of search results will then be held in the array of $sorted_search_results.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41972""></a>
  <div class="note">
   <strong class="user">tilmauder at yahoo dot com</strong>
   <a href="#41972" class="date">27-Apr-2004 09:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in response to fprado's problem, the solution would be to use array_multisort() function on imap_fetchheader(). sdavey at datalink dot net dot au wrote an excellent example under array_multisort. I have used it to sort POP3 by message size. Unfortunately, my code is much too convoluted to post it here.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27070""></a>
  <div class="note">
   <strong class="user">fprado at pmovil dot com dot br</strong>
   <a href="#27070" class="date">21-Nov-2002 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use imap_sort() to go through POP3 accounts. However, sometimes, when the mailbox is too large, the response is incredibly slow.<br />
<br />
I tried sniffing the network to discover the source of the problem and found that when imap_sort() is called for a POP3 server, it downloads the full body &amp; attachs of ALL the messages in the mailbox. Since my POP server and my Web server are on differente machines, this caused the considerably slow response.<br />
<br />
I've been trying a work-around this issue and if I manage to do this I'll post it here.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19174""></a>
  <div class="note">
   <strong class="user">graham_NOSPAM at rdb-concepts dot NOSPAM dot co dot uk</strong>
   <a href="#19174" class="date">18-Feb-2002 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for those of you with an old version of PHP that doesn't support the extra search paramater you may want to use this function:<br />
function order_search($searchresults, $sortresults) {<br />
&nbsp;&nbsp;&nbsp; $searchhash = array();<br />
&nbsp;&nbsp;&nbsp; $returnresults = array();<br />
&nbsp;&nbsp;&nbsp; $count = 0;<br />
&nbsp;&nbsp;&nbsp; for ($i = 0; $i &lt; sizeof($searchresults); $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $searchhash[$searchresults[$i]] = true;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; for ($i = 0; $i &lt; sizeof($sortresults); $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (@$searchhash[$sortresults[$i]]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $returnresults[$count] = $sortresults[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $count++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $returnresults;<br />
}<br />
<br />
example of using function:<br />
&nbsp;&nbsp;&nbsp; $sortresults = imap_sort($stream, $sort, $sortdir, SE_UID);<br />
&nbsp;&nbsp;&nbsp; $searchresults = imap_search($stream, $search, SE_UID);<br />
&nbsp;&nbsp;&nbsp; $results = order_search($searchresults, $sortresults);<br />
<br />
$results will then hold a sorted array of search results.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imap-setflag-full.html">imap_setflag_full</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imap-status.html">imap_status</a></div>
 <div class="up"><a href="ref.imap.html">IMAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
