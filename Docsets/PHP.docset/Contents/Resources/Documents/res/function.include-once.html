<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>include_once</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.require-once.html">require_once</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="control-structures.goto.html">goto</a></div>
 <div class="up"><a href="language.control-structures.html">Control Structures</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.include-once" class="sect1">
 <h2 class="title"><span class="function"><b>include_once()</b></span></h2>
 <p class="verinfo">(PHP 4, PHP5)</p>
 <p class="para">
  The <span class="function"><b>include_once()</b></span> statement includes and evaluates
  the specified file during the execution of the script.
  This is a behavior similar to the <span class="function"><b>include()</b></span> statement,
  with the only difference being that if the code from a file has already
  been included, it will not be included again.  As the name suggests,
  it will be included just once.
 </p>
 <p class="para">
  <span class="function"><b>include_once()</b></span> may be used in cases where
  the same file might be included and evaluated more than once during a
  particular execution of a script, so in this case it may help avoid
  problems such as function redefinitions, variable value reassignments, etc.
 </p>
 <p class="para">
  See the <span class="function"><b>include()</b></span> documentation for information about
  how this function works.
 </p>
 <p class="para">
  <blockquote class="note"><p><b class="note">Note</b>: 
  <p class="para">
   With PHP 4, <i>_once</i> functionality differs with case-insensitive
   operating systems (like Windows) so for example:
   <div class="example" id="example-132">
    <p><b>Example #1 <span class="function"><b>include_once()</b></span> with a case insensitive OS in PHP 4</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include_once&nbsp;</span><span style="color: #DD0000">"a.php"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;will&nbsp;include&nbsp;a.php<br /></span><span style="color: #007700">include_once&nbsp;</span><span style="color: #DD0000">"A.php"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;will&nbsp;include&nbsp;a.php&nbsp;again!&nbsp;(PHP&nbsp;4&nbsp;only)<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    This behaviour changed in PHP 5, so for example with Windows the path is normalized first so that
    <var class="filename">C:\PROGRA~1\A.php</var> is realized the same as
    <var class="filename">C:\Program Files\a.php</var> and the file is included just once.
   </p>
  </p></blockquote>
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="100045""></a>
  <div class="note">
   <strong class="user">Frankbrennanfilms at yahoo dot com</strong>
   <a href="#100045" class="date">21-Sep-2010 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Need some help please. I keep getting this error:<br />
<br />
can not include<br />
Fatal error: Cannot redeclare get_postdata() <br />
<br />
Here's the solution I was told to put in, but it's&nbsp; not working<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!@</span><span class="default">file_exists</span><span class="keyword">(</span><span class="string">'deprecated.php'</span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'can not include'</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; include(</span><span class="string">'deprecated.php'</span><span class="keyword">);<br />
}<br />
<br />
&nbsp;* @</span><span class="default">package WordPress<br />
&nbsp;</span><span class="keyword">* @</span><span class="default">subpackage Deprecated<br />
&nbsp;</span><span class="keyword">*/</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89963""></a>
  <div class="note">
   <strong class="user">nospam at freeproxylist dot org</strong>
   <a href="#89963" class="date">30-Mar-2009 08:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I would like to share one very useful tip with include_* statements. For example we have two classes first.class.php and second.class.php both located in the same directory (./classes) and first one uses the second one. So we have:<br />
<br />
first.class.php<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">include_once </span><span class="string">'./second.class.php'</span><span class="keyword">;<br />
...<br />
</span><span class="default">?&gt;<br />
</span><br />
also we have file which uses first.class.php:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">include_once </span><span class="string">'./classes/first.class.php'</span><span class="keyword">;<br />
...<br />
</span><span class="default">?&gt;<br />
</span><br />
if you will try to execute your script you will get error. Reason: the current directory is different and the relative path in first.class.php (./second.class.php) will be incorrect.<br />
<br />
Here is two possible solution I have found:<br />
&nbsp;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">include_once </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/second.class.php'</span><span class="keyword">;<br />
...<br />
</span><span class="default">?&gt;<br />
</span><br />
or<br />
<br />
<span class="default">&lt;?php<br />
chdir</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));<br />
include_once </span><span class="string">'./second.class.php'</span><span class="keyword">;<br />
...<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope that tip will be useful for some other software developer<br />
<br />
Admin of <a href="http://FreeProxyList.org" rel="nofollow" target="_blank">http://FreeProxyList.org</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88050""></a>
  <div class="note">
   <strong class="user">neil at holcomb dot com</strong>
   <a href="#88050" class="date">07-Jan-2009 01:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using include_once() in the __autoload() function is redundant.&nbsp; __autoload() is only called when php can't find your class definition.&nbsp; If your file containg your class was already included, the class defenition would already be loaded and __autoload() would not be called.&nbsp; So save a little overhead and only use include() within __autoload()<br />
<br />
Neil Holcomb</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84108""></a>
  <div class="note">
   <strong class="user">roach dot scott+spam at googlemail dot com</strong>
   <a href="#84108" class="date">27-Jun-2008 05:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you include a file that does not exist with include_once, the return result will be false. <br />
<br />
If you try to include that same file again with include_once the return value will be true.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(include_once </span><span class="string">'fakefile.ext'</span><span class="keyword">); </span><span class="comment">// bool(false)<br />
</span><span class="default">var_dump</span><span class="keyword">(include_once </span><span class="string">'fakefile.ext'</span><span class="keyword">); </span><span class="comment">// bool(true)<br />
</span><span class="default">?&gt;<br />
</span><br />
This is because according to php the file was already included once (even though it does not exist).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83280""></a>
  <div class="note">
   <strong class="user">emanuele at rogledi dot com</strong>
   <a href="#83280" class="date">18-May-2008 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For include_once a file in every paths of application we can do simply this<br />
<br />
include_once($_SERVER["DOCUMENT_ROOT"] . "mypath/my2ndpath/myfile.php");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76985""></a>
  <div class="note">
   <strong class="user">php at metagg dot com</strong>
   <a href="#76985" class="date">08-Aug-2007 03:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are like me and make heavy use of the __autoload magic function, always set include paths so you can just instantiate your class, and have multiple locations and name schemes for your custom libraries then you might be frustrated by simple parse errors being supressed when using @include_once('lib.php').<br />
<br />
The solution I came up with was:<br />
<br />
define('IN_PRODUCTION_ENV',FALSE);<br />
<br />
function __autoload($class){<br />
<br />
&nbsp; $paths = array();<br />
&nbsp; $paths[] = "{$class}_lib.php";<br />
&nbsp; $paths[] = "{$class}_inc.php";<br />
&nbsp; $paths[] = "{$class}.php";<br />
<br />
&nbsp; if(IN_PRODUCTION_ENV){<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach($paths as &amp;$path){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; if((@include_once $path) !== false){ return; }//if<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }//foreach<br />
&nbsp; <br />
&nbsp; }else{<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; // we are not in a production environment so we want to see all errors...<br />
&nbsp;&nbsp;&nbsp; $include_paths = explode(PATH_SEPARATOR,get_include_path());<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach($include_paths as $include_path){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; // go through each of the different class names...<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach($paths as $path){<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // attach each class name to the include path...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $include_file = $include_path.$path;<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(file_exists($include_file)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if((include_once $include_file) !== false){ return; }//if<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }//if<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; }//foreach<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }//foreach<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp; }//if/else<br />
&nbsp; <br />
&nbsp; trigger_error("{$class} was not found",E_USER_ERROR);<br />
&nbsp; <br />
}//method<br />
<br />
Now, just make sure you define IN_PRODUCTION_ENV to true or false to get either the slower (with all parse errors shown) or the faster (just suppress everything) autoloading. Hope this helps someone else since it was annoying just having blank screens show up when I had a simple parse error. Thanks to flobee at gmail dot com for providing me with the epiphany on why pages were showing up blank...-Metagg</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68776""></a>
  <div class="note">
   <strong class="user">webmaster AT domaene - kempten DOT de</strong>
   <a href="#68776" class="date">10-Aug-2006 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since I like to reuse a lot of code it came handy to me to begin some sort of library that I stored in a subdir<br />
e.g. "lib"<br />
<br />
The only thing that bothered me for some time was that although everything worked all IDEs reported during editing<br />
these useless warnings "file not found" when library files included other library files, since my path were given all relative to the corresponding document-root.<br />
<br />
Here is a short workaround that makes that gone:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Change to your path<br />
<br />
</span><span class="keyword">if(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">,</span><span class="string">'/lib/'</span><span class="keyword">) != </span><span class="default">FALSE</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">chdir</span><span class="keyword">(</span><span class="string">".."</span><span class="keyword">);<br />
}<br />
include_once (</span><span class="string">'./lib/other_lib.inc'</span><span class="keyword">);<br />
</span><span class="comment">// ... or any other include[_once] / require[_once]<br />
</span><span class="default">?&gt;<br />
</span><br />
just adjust the path and it will be fine - also for your IDE.<br />
<br />
greetings</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56269""></a>
  <div class="note">
   
   <a href="#56269" class="date">29-Aug-2005 01:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Dealing with function redefinitions<br />
<br />
include_once and require_once are very useful if you have a library of common functions.&nbsp; If you try to override with - that is define - an identically named local function however, PHP will halt noting that it cannot redeclare functions.&nbsp; You can allow for this by bracketing (within the include file):<br />
function myUsefulFunc($arg1, $arg2) {<br />
&nbsp;&nbsp; &nbsp; ... }<br />
<br />
with<br />
<br />
if (!function_exists('myUsefulFunc')) {<br />
function myUsefulFunc($arg1, $arg2) {<br />
&nbsp;&nbsp; &nbsp; ... }}<br />
<br />
Top level functions (ie. those not defined within other functions or dependent on code running) in the local file are always parsed first, so <a href="http://php.net/function_exists within the included/required file is safe - it doesn" rel="nofollow" target="_blank">http://php.net/function_exists within the included/required file is safe - it doesn</a>'t matter where the include statements are in the local code.<br />
<br />
Csaba Gabor from Vienna</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53239""></a>
  <div class="note">
   <strong class="user">flobee at gmail dot com</strong>
   <a href="#53239" class="date">26-May-2005 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i already had a discussion with several people about "not shown errors"<br />
error reporting and all others in php.ini set to: "show errors" to find problems: <br />
the answer i finally found:<br />
if you have an "@include..." instead of "include..." or "require..('somthing') in any place in your code <br />
all following errors are not shown too!!!<br />
<br />
so, this is actually a bad idea when developing because paser errors will be droped too:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!@include_once(</span><span class="string">'./somthing'</span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'can not include'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
solution:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!@</span><span class="default">file_exists</span><span class="keyword">(</span><span class="string">'./somthing'</span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'can not include'</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; include(</span><span class="string">'./something'</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51043""></a>
  <div class="note">
   <strong class="user">Pure-PHP</strong>
   <a href="#51043" class="date">17-Mar-2005 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Inlude_once can slower your app, if you include to many files.<br />
<br />
You cann use this wrapper class, it is faster than include_once <br />
<br />
<a href="http://www.pure-php.de/node/19" rel="nofollow" target="_blank">http://www.pure-php.de/node/19</a><br />
<br />
include_once("includeWrapper.class.php")<br />
<br />
includeWrapper::includeOnce("Class1.class.php");<br />
includeWrapper::requireOnce("Class1.class.php");<br />
includeWrapper::includeOnce("Class2.class.php")</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46970""></a>
  <div class="note">
   <strong class="user">bioster at peri dot csclub dot uwaterloo dot ca</strong>
   <a href="#46970" class="date">28-Oct-2004 03:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Something to be wary of:&nbsp; When you use include_once and the data that you include falls out of scope, if you use include_once again later it will not include despite the fact that what you included is no longer available.<br />
<br />
So you should be wary of using include_once inside functions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.require-once.html">require_once</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="control-structures.goto.html">goto</a></div>
 <div class="up"><a href="language.control-structures.html">Control Structures</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
