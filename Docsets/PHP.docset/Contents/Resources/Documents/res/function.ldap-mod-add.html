<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Add attribute values to current attributes</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ldap-list.html">ldap_list</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ldap-mod-del.html">ldap_mod_del</a></div>
 <div class="up"><a href="ref.ldap.html">LDAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.ldap-mod-add" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ldap_mod_add</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">ldap_mod_add</span> &mdash; <span class="dc-title">Add attribute values to current attributes</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ldap-mod-add-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>ldap_mod_add</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$link_identifier</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$dn</tt></span>
   , <span class="methodparam"><span class="type">array</span> <tt class="parameter">$entry</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Adds one or more attributes to the specified <i><tt class="parameter">dn</tt></i>.
   It performs the modification at the attribute level as opposed to the
   object level. Object-level additions are done by the
   <span class="function"><a href="function.ldap-add.html" class="function">ldap_add()</a></span> function.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ldap-mod-add-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">link_identifier</tt></i></span>
     <dd>

      <p class="para">
       An LDAP link identifier, returned by <span class="function"><a href="function.ldap-connect.html" class="function">ldap_connect()</a></span>.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">dn</tt></i></span>
     <dd>

      <p class="para">
       The distinguished name of an LDAP entity.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">entry</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ldap-mod-add-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.ldap-mod-add-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ldap-mod-add-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ldap-mod-del.html" class="function" rel="rdfs-seeAlso">ldap_mod_del()</a> - Delete attribute values from current attributes</span></li>
    <li class="member"><span class="function"><a href="function.ldap-mod-replace.html" class="function" rel="rdfs-seeAlso">ldap_mod_replace()</a> - Replace attribute values with new ones</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="54821""></a>
  <div class="note">
   <strong class="user">theiderich AT laweekly dot com</strong>
   <a href="#54821" class="date">15-Jul-2005 03:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When adding/editing attributes for a user, the 'memberof' attribute is a special case.&nbsp; The memberOf attribute is not an accessible attribute of the user schema. To add someone to a group, you have to add the user in the group, and not the group in the user. You can do this by accessing the group attribute 'member':<br />
<br />
<span class="default">&lt;?php<br />
<br />
$group_name </span><span class="keyword">= </span><span class="string">"CN=MyGroup,OU=Groups,DC=example,DC=com"</span><span class="keyword">;<br />
</span><span class="default">$group_info</span><span class="keyword">[</span><span class="string">'member'</span><span class="keyword">] = </span><span class="default">$dn</span><span class="keyword">; </span><span class="comment">// User's DN is added to group's 'member' array<br />
</span><span class="default">ldap_mod_add</span><span class="keyword">(</span><span class="default">$connect</span><span class="keyword">,</span><span class="default">$group_name</span><span class="keyword">,</span><span class="default">$group_info</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29852""></a>
  <div class="note">
   <strong class="user">Claudio Lente &lt;nelchael at ig dot com dot br&gt;</strong>
   <a href="#29852" class="date">26-Feb-2003 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using PHP 4.2.3 with IIS 5 and Win2k Server. My confs are:<br />
<br />
$ldap_srvr = 'servername' ;<br />
$ldap_port = 389;<br />
$ldap_con = ldap_connect($ldap_srvr, $ldap_port);<br />
$ldap_rdn&nbsp; = "username";<br />
$ldap_pwd = "__password__"; <br />
<br />
$ldap_vbind = ldap_bind($ldap_con, $ldap_rdn, $ldap_pwd);<br />
<br />
$base_dn= 'CN=username,CN=Users,DC=domain,DC=org,DC=us<br />
' ;<br />
$ldap_filter= 'objectClass=*';<br />
<br />
$info['mail']='username@domain.org.us';<br />
<br />
ldap_mod_add($ldap_con, $base_dn, $info);<br />
ldap_add($ldap_con, $base_dn, $info);<br />
<br />
this generate an error: <br />
- Warning: LDAP: modify operation could not be completed. in <br />
<br />
ldap_modify($ldap_con, $base_dn, $info);<br />
<br />
this function corretly.<br />
<br />
It«s all.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15189""></a>
  <div class="note">
   <strong class="user">JoshuaStarr at aelana dot com</strong>
   <a href="#15189" class="date">30-Aug-2001 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To add a new attribute with a single value:<br />
<br />
$entry[mail] = "newmail@aelana.com";<br />
$results = ldap_mod_add($ldapConnID, $dn, $entry);<br />
<br />
To add a new attribute with multiple values:<br />
<br />
$entry[mail][] = "newmail@aelana.com";<br />
$entry[mail][] = "altnewmail@aelana.com";<br />
$results = ldap_mod_add($ldapConnID, $dn, $entry);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ldap-list.html">ldap_list</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ldap-mod-del.html">ldap_mod_del</a></div>
 <div class="up"><a href="ref.ldap.html">LDAP Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
