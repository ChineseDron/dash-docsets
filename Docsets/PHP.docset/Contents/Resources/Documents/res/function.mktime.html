<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Get Unix timestamp for a date</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.microtime.html">microtime</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strftime.html">strftime</a></div>
 <div class="up"><a href="ref.datetime.html">Date/Time Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mktime" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mktime</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mktime</span> &mdash; <span class="dc-title">Get Unix timestamp for a date</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mktime-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>mktime</b></span>
    ([ <span class="methodparam"><span class="type">int</span> <tt class="parameter">$hour</tt><span class="initializer"> = date(&quot;H&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$minute</tt><span class="initializer"> = date(&quot;i&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$second</tt><span class="initializer"> = date(&quot;s&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$month</tt><span class="initializer"> = date(&quot;n&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$day</tt><span class="initializer"> = date(&quot;j&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$year</tt><span class="initializer"> = date(&quot;Y&quot;)</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$is_dst</tt><span class="initializer"> = -1</span></span>
  ]]]]]]] )</div>

  <p class="para rdfs-comment">
   Returns the Unix timestamp corresponding to the arguments
   given. This timestamp is a long integer containing the number of
   seconds between the Unix Epoch (January 1 1970 00:00:00 GMT) and the time
   specified.
  </p>
  <p class="para">
   Arguments may be left out in order from right to left; any
   arguments thus omitted will be set to the current value according
   to the local date and time.
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mktime-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    As of PHP 5.1, when called with no arguments, <span class="function"><b>mktime()</b></span>
    throws an <b><tt>E_STRICT</tt></b> notice: use the 
    <span class="function"><a href="function.time.html" class="function">time()</a></span> function instead.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mktime-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">hour</tt></i></span>
     <dd>

      <p class="para">
       The number of the hour relevant to the start of the day determined by
       <i><tt class="parameter">month</tt></i>, <i><tt class="parameter">day</tt></i> and <i><tt class="parameter">year</tt></i>.
       Negative values reference the hour before midnight of the day in question.
       Values greater than 23 reference the appropriate hour in the following day(s).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">minute</tt></i></span>
     <dd>

      <p class="para">
       The number of the minute relevant to the start of the <i><tt class="parameter">hour</tt></i>.
       Negative values reference the minute in the previous hour.
       Values greater than 59 reference the appropriate minute in the following hour(s).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">second</tt></i></span>
     <dd>

      <p class="para">
       The number of seconds relevant to the start of the <i><tt class="parameter">minute</tt></i>.
       Negative values reference the second in the previous minute.
       Values greater than 59 reference the appropriate second in the following minute(s).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">month</tt></i></span>
     <dd>

      <p class="para">
       The number of the month relevant to the end of the previous year.
       Values 1 to 12 reference the normal calendar months of the year in question.
       Values less than 1 (including negative values) reference the months in the previous year in reverse order, so 0 is December, -1 is November, etc.
       Values greater than 12 reference the appropriate month in the following year(s).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">day</tt></i></span>
     <dd>

      <p class="para">
       The number of the day relevant to the end of the previous month.
       Values 1 to 28, 29, 30 or 31 (depending upon the month) reference the normal days in the relevant month.
       Values less than 1 (including negative values) reference the days in the previous month, so 0 is the last day of the previous month, -1 is the day before that, etc.
       Values greater than the number of days in the relevant month reference the appropriate day in the following month(s).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">year</tt></i></span>
     <dd>

      <p class="para">
       The number of the year, may be a two or four digit value,
       with values between 0-69 mapping to 2000-2069 and 70-100 to
       1970-2000. On systems where time_t is a 32bit signed integer, as
       most common today, the valid range for <i><tt class="parameter">year</tt></i> 
       is somewhere between 1901 and 2038. However, before PHP 5.1.0 this
       range was limited from 1970 to 2038 on some systems (e.g. Windows).
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">is_dst</tt></i></span>
     <dd>

      <p class="para">
       This parameter can be set to 1 if the time is during daylight savings time (DST), 
       0 if it is not, or -1 (the default) if it is unknown whether the time is within 
       daylight savings time or not. If it&#039;s unknown, PHP tries to figure it out itself.
       This can cause unexpected (but not incorrect) results.
       Some times are invalid if DST is enabled on the system PHP is running on or 
       <i><tt class="parameter">is_dst</tt></i> is set to 1. If DST is enabled in e.g. 2:00, all times 
       between 2:00 and 3:00 are invalid and <span class="function"><b>mktime()</b></span> returns an undefined 
       (usually negative) value. 
       Some systems (e.g. Solaris 8) enable DST at midnight so time 0:30 of the day when DST 
       is enabled is evaluated as 23:30 of the previous day.
      </p>
      <blockquote class="note"><p><b class="note">Note</b>: 
       <p class="para">
        As of PHP 5.1.0, this parameter became deprecated. As a result, the
        new timezone handling features should be used instead.
       </p>
      </p></blockquote>
     </dd>

    </dt>

   </dl>

  </p>
 </div>
                                                                                                            
   
  
 <div class="refsect1 returnvalues" id="refsect1-function.mktime-returnvalues">
  <h3 class="title">Return Values</h3> 
  <p class="para">
   <span class="function"><b>mktime()</b></span> returns the Unix timestamp of the arguments
   given.
   If the arguments are invalid, the function returns <b><tt>FALSE</tt></b> (before PHP 5.1
   it returned <i>-1</i>).
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.mktime-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
Every call to a date/time function will generate a <b><tt>E_NOTICE</tt></b>
if the time zone is not valid, and/or a <b><tt>E_STRICT</tt></b>
or <b><tt>E_WARNING</tt></b> message
if using the system settings or the <var class="varname"><var class="varname">TZ</var></var> environment
variable. See also <span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span></p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.mktime-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.3.0</td>
       <td align="left">
        <span class="function"><b>mktime()</b></span> now throws <b><tt>E_DEPRECATED</tt></b> notice 
        if the <i><tt class="parameter">is_dst</tt></i> parameter is used.
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">5.1.0</td>
       <td align="left">
        The <i><tt class="parameter">is_dst</tt></i> parameter became deprecated.
        Made the function return <b><tt>FALSE</tt></b> on error, instead of
        <i>-1</i>.
        Fixed the function to accept the year, month and day to be all passed
        as zero.
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">5.1.0</td>
       <td align="left">
        When called with no arguments, <span class="function"><b>mktime()</b></span> throws 
        <b><tt>E_STRICT</tt></b> notice. Use the 
        <span class="function"><a href="function.time.html" class="function">time()</a></span> function instead.
       </td>
      </tr>


      <tr valign="middle"><td align="left">5.1.0</td><td align="left"><p class="para">
Now issues the <b><tt>E_STRICT</tt></b> and <b><tt>E_NOTICE</tt></b>
time zone errors.</p></td></tr>


     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mktime-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-660">
    <p><b>Example #1 <span class="function"><b>mktime()</b></span> basic example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Set&nbsp;the&nbsp;default&nbsp;timezone&nbsp;to&nbsp;use.&nbsp;Available&nbsp;as&nbsp;of&nbsp;PHP&nbsp;5.1<br /></span><span style="color: #0000BB">date_default_timezone_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'UTC'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Prints:&nbsp;July&nbsp;1,&nbsp;2000&nbsp;is&nbsp;on&nbsp;a&nbsp;Saturday<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"July&nbsp;1,&nbsp;2000&nbsp;is&nbsp;on&nbsp;a&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"l"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2000</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Prints&nbsp;something&nbsp;like:&nbsp;2006-04-05T01:02:03+00:00<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'c'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2006</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-661">
    <p><b>Example #2 <span class="function"><b>mktime()</b></span> example</b></p>
    <div class="example-contents"><p>
     <span class="function"><b>mktime()</b></span> is useful for doing date arithmetic
     and validation, as it will automatically calculate the correct
     value for out-of-range input. For example, each of the following
     lines produces the string &quot;Jan-01-1998&quot;.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M-d-Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">32</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1997</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M-d-Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1997</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M-d-Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1998</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M-d-Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">98</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-662">
    <p><b>Example #3 Last day of a month</b></p>
    <div class="example-contents"><p>
     The last day of any given month can be expressed as the &quot;0&quot; day
     of the next month, not the -1 day. Both of the following examples
     will produce the string &quot;The last day in Feb 2000 is: 29&quot;.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$lastday&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2000</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">strftime</span><span style="color: #007700">(</span><span style="color: #DD0000">"Last&nbsp;day&nbsp;in&nbsp;Feb&nbsp;2000&nbsp;is:&nbsp;%d"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$lastday</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$lastday&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">31</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2000</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">strftime</span><span style="color: #007700">(</span><span style="color: #DD0000">"Last&nbsp;day&nbsp;in&nbsp;Feb&nbsp;2000&nbsp;is:&nbsp;%d"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$lastday</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mktime-notes">
  <h3 class="title">Notes</h3>
  <div class="caution"><b class="caution">Caution</b>
   <p class="para">
    Before PHP 5.1.0, negative timestamps were not supported under any known
    version of Windows and some other systems as well. Therefore the range of
    valid years was limited to 1970 through 2038.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mktime-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - Validate a Gregorian date</span></li>
    <li class="member"><span class="function"><a href="function.gmmktime.html" class="function" rel="rdfs-seeAlso">gmmktime()</a> - Get Unix timestamp for a GMT date</span></li>
    <li class="member"><span class="function"><a href="function.date.html" class="function" rel="rdfs-seeAlso">date()</a> - Format a local time/date</span></li> 
    <li class="member"><span class="function"><a href="function.time.html" class="function" rel="rdfs-seeAlso">time()</a> - Return current Unix timestamp</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="102768""></a>
  <div class="note">
   <strong class="user">carlosbuz2 at gmail dot com</strong>
   <a href="#102768" class="date">04-Mar-2011 10:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The first date in array is incorrect, to fix it:<br />
<br />
function dates_range($date1, $date2)<br />
{ <br />
&nbsp;&nbsp;&nbsp; if ($date1&lt;$date2)<br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dates_range[]=$date1; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $date1=strtotime($date1); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $date2=strtotime($date2); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ($date1!=$date2)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $date1=mktime(0, 0, 0, date("m", $date1), date("d", $date1)+1, date("Y", $date1)); <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $dates_range[]=date('Y-m-d', $date1); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; return $dates_range; <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100733""></a>
  <div class="note">
   <strong class="user">info at microweb dot lt</strong>
   <a href="#100733" class="date">03-Nov-2010 07:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function to generate array of dates between two dates (date range array)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">dates_range</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">, </span><span class="default">$date2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; if (</span><span class="default">$date1</span><span class="keyword">&lt;</span><span class="default">$date2</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$dates_range</span><span class="keyword">[]=</span><span class="default">$date1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$date1</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$date2</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; while (</span><span class="default">$date1</span><span class="keyword">!=</span><span class="default">$date2</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date1</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">date</span><span class="keyword">(</span><span class="string">"m"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">), </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">, </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dates_range</span><span class="keyword">[]=</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$dates_range</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">dates_range</span><span class="keyword">(</span><span class="string">'2009-12-25'</span><span class="keyword">, </span><span class="string">'2010-01-05'</span><span class="keyword">));<br />
echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
[EDIT BY danbrown AT php DOT net: Contains a bugfix submitted by (carlosbuz2 AT gmail DOT com) on 04-MAR-2011, with the following note: The first date in array is incorrect.]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100722""></a>
  <div class="note">
   <strong class="user">php at wirnhier dot de</strong>
   <a href="#100722" class="date">02-Nov-2010 09:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
warning: mktime expects parameter 1 to be long<br />
<br />
It could be a string that is given to mktime, so it has to be converted into an int.<br />
<br />
mktime((int)$h, (int)$m, (int)$s, (int)$m, (int)$d, (int)$y);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100315""></a>
  <div class="note">
   <strong class="user">xr714 at yahoo dot com</strong>
   <a href="#100315" class="date">07-Oct-2010 08:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One of the many problems with Daylight Saving Time / Summer Time is the ambiguity when a specified local time value can refer to two different actual times!&nbsp; This happens when the local time value is within the relapse range caused by the clocks being set back to proper time.&nbsp; (eg. if the DST/ST bias is +1 hour, and DST/ST terminates at 02:00 local time, a local time value of 01:30 occurs twice in the same day!)<br />
<br />
Because the mktime() function only returns one value, it silently chooses whether to return the time-stamp for the first iteration or the second iteration of a specified local time within this critical range.<br />
<br />
To get both possible time-stamps for a local time, compatible with any system locale, time zone, and applicable DST/ST rules, the following function can be used:<br />
<br />
<span class="default">&lt;?php </span><span class="comment">/*&gt;&lt;!--*/<br />
</span><span class="keyword">function </span><span class="default">LocalToUT</span><span class="keyword">(</span><span class="default">$LocalYear</span><span class="keyword">, </span><span class="default">$LocalMonth</span><span class="keyword">, </span><span class="default">$LocalMonthDay</span><span class="keyword">, </span><span class="default">$LocalHour24</span><span class="keyword">, </span><span class="default">$LocalMinute</span><span class="keyword">, </span><span class="default">$LocalSecond</span><span class="keyword">) {<br />
</span><span class="comment">/* Converts local date/time to Universal Time values.&nbsp; Returns both<br />
possible UT values when local time value is within relapse range<br />
(due to Daylight Saving Time / Summer Time termination).<br />
Notes:<br />
&nbsp;&nbsp;&nbsp; Conversion based on TZ and DST/ST rules used by mktime() function.<br />
&nbsp;&nbsp;&nbsp; UT time-stamps are number of UT seconds since midnight Jan 1, 1970 UTC.<br />
&nbsp;&nbsp;&nbsp; UT does not have leap seconds; a UT second is "stretched" by 2x duration<br />
to maintain synchronization with UTC when a UTC leap second elapses.<br />
Inputs:&nbsp; &nbsp; All inputs are numeric; $LocalHour24 is in 24-hour format.<br />
Returns: Array:<br />
&nbsp;&nbsp;&nbsp; 'initial' = UT time-stamp of first occurrence of specified local date/time<br />
&nbsp;&nbsp;&nbsp; 'relapse' = UT time-stamp of second occurrence, when local time relapses upon DST/ST termination<br />
*/<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$UTValue </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$LocalHour24</span><span class="keyword">, </span><span class="default">$LocalMinute</span><span class="keyword">, </span><span class="default">$LocalSecond</span><span class="keyword">, </span><span class="default">$LocalMonth</span><span class="keyword">, </span><span class="default">$LocalMonthDay</span><span class="keyword">, </span><span class="default">$LocalYear</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ReturnData </span><span class="keyword">= array(</span><span class="string">'initial' </span><span class="keyword">=&gt; </span><span class="default">$UTValue</span><span class="keyword">, </span><span class="string">'relapse' </span><span class="keyword">=&gt; </span><span class="default">$UTValue</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Test for DST/ST transition since prev day<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$Bias </span><span class="keyword">= </span><span class="default">$UTValue </span><span class="keyword">- </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$LocalHour24</span><span class="keyword">, </span><span class="default">$LocalMinute</span><span class="keyword">, </span><span class="default">$LocalSecond</span><span class="keyword">, </span><span class="default">$LocalMonth</span><span class="keyword">, </span><span class="default">$LocalMonthDay </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">, </span><span class="default">$LocalYear</span><span class="keyword">) - </span><span class="default">86400</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//(-) = DST/ST commence, (+) = DST/ST terminate<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$Bias </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) {&nbsp; &nbsp; </span><span class="comment">//No DST/ST transition detected since prev day<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //Test for DST/ST transition up to next day<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$Bias </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$LocalHour24</span><span class="keyword">, </span><span class="default">$LocalMinute</span><span class="keyword">, </span><span class="default">$LocalSecond</span><span class="keyword">, </span><span class="default">$LocalMonth</span><span class="keyword">, </span><span class="default">$LocalMonthDay </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">, </span><span class="default">$LocalYear</span><span class="keyword">) - </span><span class="default">$UTValue </span><span class="keyword">- </span><span class="default">86400</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//(-) = DST/ST commence, (+) = DST/ST terminate<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$Bias </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {&nbsp; &nbsp; </span><span class="comment">//DST/ST termination detected<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">, </span><span class="default">$UTValue</span><span class="keyword">) !== </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">, </span><span class="default">$UTValue </span><span class="keyword">+ </span><span class="default">$Bias</span><span class="keyword">)) {&nbsp; &nbsp; </span><span class="comment">//Local time occurred in relapse range; System assumed 1st iteration<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnData</span><span class="keyword">[</span><span class="string">'relapse'</span><span class="keyword">] = </span><span class="default">$UTValue </span><span class="keyword">+ </span><span class="default">$Bias</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">, </span><span class="default">$UTValue </span><span class="keyword">- </span><span class="default">$Bias</span><span class="keyword">) !== </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">, </span><span class="default">$UTValue</span><span class="keyword">)) {&nbsp; &nbsp; </span><span class="comment">//Local time occurred in relapse range; System assumed 2nd iteration<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ReturnData</span><span class="keyword">[</span><span class="string">'initial'</span><span class="keyword">] = </span><span class="default">$UTValue </span><span class="keyword">- </span><span class="default">$Bias</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Else local time is outside of relapse range<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}&nbsp; &nbsp; </span><span class="comment">//Else no DST/ST transition, or transition is commencement<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$ReturnData</span><span class="keyword">;<br />
}<br />
</span><span class="comment">/*--&gt;&lt;/?php */</span><span class="default">?&gt;<br />
</span><br />
Do not be confused by the start and end tags; The interleaved PHP-comment and HTML-comment delimiters prevent PHP code containing "&gt;" from appearing as literal text when viewing or editing an HTML file with embedded PHP code.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100116""></a>
  <div class="note">
   <strong class="user">enVide neFelibata</strong>
   <a href="#100116" class="date">26-Sep-2010 06:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've had this query for an event organizer.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; $query </span><span class="keyword">= </span><span class="string">"SELECT MAX(dt_atfrom) FROM tb_date LIMIT 1"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$raw_data </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$maxdate </span><span class="keyword">= </span><span class="default">mysql_result</span><span class="keyword">(</span><span class="default">$raw_data</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>It would fetch the 'bigger' date of all of those events.<br />
The problem started when having events in the future.<br />
<br />
I'll start to explain.<br />
Imagine you're in '2010' and the biggest event date is '2011-06-05'.<br />
$maxdate will return me the correct data '2011-06-05', yet since I was only needing the year i passed this date through the following function:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; maxyear </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$maxdate</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
mktime was returning me the actual year for every future event instead of the future year.<br />
<br />
I ended up doing the following:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; $maxyear </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$maxdate</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Probably there's a better solution...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99707""></a>
  <div class="note">
   <strong class="user">tom at chegg dot com</strong>
   <a href="#99707" class="date">31-Aug-2010 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was using the following to get a list of month names.<br />
<br />
for ($i=1; $i&lt;13; $i++) {<br />
&nbsp; echo date('F', mktime(0,0,0,$i) . ",";<br />
}<br />
<br />
Normally this outputs -<br />
January,February,March,April,May,June,July,August,<br />
September,October,November,December<br />
<br />
However if today's date is the 31st you get instead:<br />
January,March,March,May,May,July,July,August,October,<br />
October,December,December<br />
<br />
Why? Because Feb,Apr,June,Sept, and Nov don't have 31 days!<br />
<br />
The fix, add the 5th parameter, don't let the day of month default to today's date:<br />
<br />
&nbsp; echo date('F', mktime(0,0,0,$i,1) . ",";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96801""></a>
  <div class="note">
   <strong class="user">zfowler at unomaha dot edu</strong>
   <a href="#96801" class="date">16-Mar-2010 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Proper way to convert Excel dates into PHP-friendly timestamps using mktime():<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// The date 6/30/2009 is stored as 39994 in Excel<br />
</span><span class="default">$days </span><span class="keyword">= </span><span class="default">39994</span><span class="keyword">;<br />
<br />
</span><span class="comment">// But you must subtract 1 to get the correct timestamp<br />
</span><span class="default">$ts </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$days</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">1900</span><span class="keyword">);<br />
<br />
</span><span class="comment">// So, this would then match Excel's representation:<br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"m/d/Y"</span><span class="keyword">,</span><span class="default">$ts</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Excel uses "number of days since Jan. 1, 1900" to store its dates.&nbsp; It also treats 1900 as a leap year when it wasn't, thus there is an extra day which must be accounted for in PHP (and the rest of the world).&nbsp; Subtracting 1 from Excel's number will fix this problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95748""></a>
  <div class="note">
   <strong class="user">contact at phpmember dot com</strong>
   <a href="#95748" class="date">19-Jan-2010 04:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How many days have&nbsp; passed since the beginning of the year.... regardless of what year it is...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//Carlos Galindo<br />
//phpmember.com<br />
<br />
</span><span class="default">$days </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">time</span><span class="keyword">()-</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">)))/</span><span class="default">86400</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
echo </span><span class="string">"</span><span class="default">$days</span><span class="string"> days have passed"</span><span class="keyword">;<br />
<br />
</span><span class="comment">//Good Luck<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93914""></a>
  <div class="note">
   <strong class="user">davix</strong>
   <a href="#93914" class="date">06-Oct-2009 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I couldn't find any correct date differentiate function anywhere so I wrote this one which works correctly. It's fully resistant to all troubles with different day count of the month or leap year.<br />
Input must be two timestamps and output is associative array with year, month, day, hour, minute, second items.<br />
It can be used for exact age or similar issues.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">date_diff</span><span class="keyword">(</span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$d2</span><span class="keyword">){<br />
</span><span class="comment">/* compares two timestamps and returns array with differencies (year, month, day, hour, minute, second)<br />
*/<br />
&nbsp; //check higher timestamp and switch if neccessary<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1 </span><span class="keyword">&lt; </span><span class="default">$d2</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$d2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d2 </span><span class="keyword">= </span><span class="default">$d1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1 </span><span class="keyword">= </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$d1</span><span class="keyword">; </span><span class="comment">//temp can be used for day count if required<br />
&nbsp; </span><span class="keyword">}<br />
&nbsp; </span><span class="default">$d1 </span><span class="keyword">= </span><span class="default">date_parse</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">,</span><span class="default">$d1</span><span class="keyword">));<br />
&nbsp; </span><span class="default">$d2 </span><span class="keyword">= </span><span class="default">date_parse</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">,</span><span class="default">$d2</span><span class="keyword">));<br />
&nbsp; </span><span class="comment">//seconds<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">] &gt;= </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">]){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">]--;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">] = </span><span class="default">60</span><span class="keyword">-</span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">]+</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'second'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//minutes<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">] &gt;= </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">]){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">]--;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">] = </span><span class="default">60</span><span class="keyword">-</span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">]+</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'minute'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//hours<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">] &gt;= </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">]){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">]--;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">] = </span><span class="default">24</span><span class="keyword">-</span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">]+</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//days<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] &gt;= </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">]){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">]--;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] = </span><span class="default">date</span><span class="keyword">(</span><span class="string">"t"</span><span class="keyword">,</span><span class="default">$temp</span><span class="keyword">)-</span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">]+</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//months<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">] &gt;= </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">]){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]--;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">] = </span><span class="default">12</span><span class="keyword">-</span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">]+</span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'month'</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//years<br />
&nbsp; </span><span class="default">$diff</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">] = </span><span class="default">$d1</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">] - </span><span class="default">$d2</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">];<br />
&nbsp; return </span><span class="default">$diff</span><span class="keyword">;&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="default">$born_date </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">24</span><span class="keyword">,</span><span class="default">2008</span><span class="keyword">);<br />
</span><span class="default">$date_diff_array </span><span class="keyword">= </span><span class="default">date_diff</span><span class="keyword">(</span><span class="default">$born_date</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">());<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$date_diff_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93409""></a>
  <div class="note">
   <strong class="user">cebleo at n-trance dot net</strong>
   <a href="#93409" class="date">08-Sep-2009 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to ADD or SUBSTRACT times NOTE that if you dont specify the UTC zone your result is the difference +- your server UTC delay.<br />
<br />
if you are ina utc/GMT +1<br />
<br />
<span class="default">&lt;?php<br />
$hours_diff </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"20:00:00"</span><span class="keyword">)-</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"19:00:00"</span><span class="keyword">);<br />
echo&nbsp; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'h:i'</span><span class="keyword">, </span><span class="default">$hours_diff</span><span class="keyword">).</span><span class="string">" Hours"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
it shows: 02:00 Hours<br />
<br />
but if you use a default UTC time:<br />
<br />
<span class="default">&lt;?php<br />
date_default_timezone_set</span><span class="keyword">(</span><span class="string">'UTC'</span><span class="keyword">);<br />
</span><span class="default">$hours_diff </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"20:00:00"</span><span class="keyword">)-</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"19:00:00"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">'h:i'</span><span class="keyword">, </span><span class="default">$hours_diff</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
it shows: 01:00 Hours.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92652""></a>
  <div class="note">
   <strong class="user">p2409 at hotmail dot com</strong>
   <a href="#92652" class="date">02-Aug-2009 08:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to get the first and last dates of the last quarter - useful for things like tax return dates etc.&nbsp; by Justin<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">getLastQuarter</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Returns an array with a start and end date for the last quarter from todays date<br />
&nbsp;&nbsp;&nbsp; // eg. If today is 23 Feb 2009, returns $x['start'] = 1 Oct 2008, $x[end] = 31 Dec 2008<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">,</span><span class="default">mktime</span><span class="keyword">());<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"m"</span><span class="keyword">,</span><span class="default">mktime</span><span class="keyword">());<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Formula to get a quarter in the year from a month<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$startmth </span><span class="keyword">= </span><span class="default">$month </span><span class="keyword">- </span><span class="default">3 </span><span class="keyword">- ((</span><span class="default">$month</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">) % </span><span class="default">3 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Fix up Jan - Feb to get LAST year's quarter dates (Oct - Dec)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$startmth </span><span class="keyword">== -</span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$startmth</span><span class="keyword">+=</span><span class="default">12</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$year</span><span class="keyword">-=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$endmth </span><span class="keyword">= </span><span class="default">$startmth</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$last_quarter</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">] = </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$startmth</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$year</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$last_quarter</span><span class="keyword">[</span><span class="string">'end'</span><span class="keyword">] = </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$endmth</span><span class="keyword">,</span><span class="default">date</span><span class="keyword">(</span><span class="string">"t"</span><span class="keyword">,</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$endmth</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$year</span><span class="keyword">)),</span><span class="default">$year</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$last_quarter</span><span class="keyword">;&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="comment">// Example - print first and last dates of last quarter.<br />
</span><span class="keyword">echo </span><span class="string">"First day of last quarter was : " </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d-M-Y"</span><span class="keyword">,</span><span class="default">$lastquarter</span><span class="keyword">[</span><span class="string">'start'</span><span class="keyword">]) . </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">"Last day of last quarter was : " </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d-M-Y"</span><span class="keyword">,</span><span class="default">$lastquarter</span><span class="keyword">[</span><span class="string">'end'</span><span class="keyword">]) . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// For 2 August 2009, returns:<br />
//&nbsp; &nbsp; First day of last quarter was : 01-Apr-2009<br />
//&nbsp; &nbsp; Last day of last quarter was : 30-Jun-2009<br />
//<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89557""></a>
  <div class="note">
   <strong class="user">lucianoiw at hotmail dot com</strong>
   <a href="#89557" class="date">13-Mar-2009 05:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Convert timestamp to time();<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">wp_mktime</span><span class="keyword">(</span><span class="default">$_timestamp </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$_timestamp</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_split_datehour </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="default">$_timestamp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_split_data </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">, </span><span class="default">$_split_datehour</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_split_hour </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">":"</span><span class="keyword">, </span><span class="default">$_split_datehour</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">mktime </span><span class="keyword">(</span><span class="default">$_split_hour</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$_split_hour</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$_split_hour</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$_split_data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$_split_data</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$_split_data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
[NOTE BY danbrown AT php DOT net: See also (<a href="http://php.net/strtotime" rel="nofollow" target="_blank">http://php.net/strtotime</a>)]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88968""></a>
  <div class="note">
   <strong class="user">admin at stipe dot info</strong>
   <a href="#88968" class="date">16-Feb-2009 02:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With combination of mktime and getDate and date() you can add hours / seconds / days / months / years to ANY timestamp. Use strtotime() function to convert any type of dates to timestamp<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">addMonthToDate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">, </span><span class="default">$totalMonths</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// You can add as many months as you want. mktime will accumulate to the next year.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate </span><span class="keyword">= </span><span class="default">getdate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">); </span><span class="comment">// Covert to Array&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">] = </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">]+</span><span class="default">$totalMonths</span><span class="keyword">; </span><span class="comment">// Add to Month&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$timeStamp </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'hours'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'minutes'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'seconds'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mday'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]); </span><span class="comment">// Convert back to timestamp<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$timeStamp</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">addDayToDate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">, </span><span class="default">$totalDays</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// You can add as many days as you want. mktime will accumulate to the next month / year.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate </span><span class="keyword">= </span><span class="default">getdate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mday'</span><span class="keyword">] = </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mday'</span><span class="keyword">]+</span><span class="default">$totalDays</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$timeStamp </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'hours'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'minutes'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'seconds'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mday'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$timeStamp</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">addYearToDate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">, </span><span class="default">$totalYears</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate </span><span class="keyword">= </span><span class="default">getdate</span><span class="keyword">(</span><span class="default">$timeStamp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">] = </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]+</span><span class="default">$totalYears</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$timeStamp </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'hours'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'minutes'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'seconds'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'mday'</span><span class="keyword">], </span><span class="default">$thePHPDate</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$timeStamp</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88236""></a>
  <div class="note">
   <strong class="user">ronnie dot kurniawan at gmail dot com</strong>
   <a href="#88236" class="date">16-Jan-2009 09:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Add (and subtract) unixtime:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">utime_add</span><span class="keyword">(</span><span class="default">$unixtime</span><span class="keyword">, </span><span class="default">$hr</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$min</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$sec</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$mon</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$yr</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$dt </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">$unixtime</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$unixnewtime </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_hour'</span><span class="keyword">]+</span><span class="default">$hr</span><span class="keyword">, </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_min'</span><span class="keyword">]+</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_sec'</span><span class="keyword">]+</span><span class="default">$sec</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_mon'</span><span class="keyword">]+</span><span class="default">1</span><span class="keyword">+</span><span class="default">$mon</span><span class="keyword">, </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_mday'</span><span class="keyword">]+</span><span class="default">$day</span><span class="keyword">, </span><span class="default">$dt</span><span class="keyword">[</span><span class="string">'tm_year'</span><span class="keyword">]+</span><span class="default">1900</span><span class="keyword">+</span><span class="default">$yr</span><span class="keyword">);<br />
&nbsp; return </span><span class="default">$unixnewtime</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87707""></a>
  <div class="note">
   <strong class="user">electriic ink</strong>
   <a href="#87707" class="date">17-Dec-2008 11:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Days until Christmas:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; $time </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">2008</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) - </span><span class="default">time</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$days </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">86400</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$hours </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$time</span><span class="keyword">-(</span><span class="default">$days</span><span class="keyword">*</span><span class="default">86400</span><span class="keyword">))/</span><span class="default">3600</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$mins </span><span class="keyword">= </span><span class="default">floor </span><span class="keyword">((</span><span class="default">$time</span><span class="keyword">-(</span><span class="default">$days</span><span class="keyword">*</span><span class="default">86400</span><span class="keyword">)-(</span><span class="default">$hours</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">))/</span><span class="default">60</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$secs </span><span class="keyword">= </span><span class="default">floor </span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">-(</span><span class="default">$days</span><span class="keyword">*</span><span class="default">86400</span><span class="keyword">)-(</span><span class="default">$hours</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">)-(</span><span class="default">$mins</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$tsecs </span><span class="keyword">= </span><span class="default">$time</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$thours </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">3600</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; if (</span><span class="default">$tsecs </span><span class="keyword">&lt;= </span><span class="default">600</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;html&gt; &lt;head&gt; &lt;title&gt; ' </span><span class="keyword">. </span><span class="default">$tsecs </span><span class="keyword">. </span><span class="string">' seconds left until 12am Christmas Day &lt;/title&gt; &lt;meta http-equiv="refresh" content="1;url=""&gt;&lt;/head&gt; &lt;body&gt;&lt;span <br />
<br />
style="font-size:10pt"&gt;Christmas day in ' </span><span class="keyword">. </span><span class="default">$days </span><span class="keyword">. </span><span class="string">' days ' </span><span class="keyword">. </span><span class="default">$hours </span><span class="keyword">. </span><span class="string">' hours ' </span><span class="keyword">.&nbsp; </span><span class="default">$mins </span><span class="keyword">. </span><span class="string">' mins ' </span><span class="keyword">. </span><span class="default">$secs </span><span class="keyword">. </span><span class="string">' seconds!&lt;br&gt;&lt;br&gt;(There are ' </span><span class="keyword">. </span><span class="default">$tsecs </span><span class="keyword">. </span><span class="string">' seconds in <br />
<br />
total)&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; } else {<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;html&gt; &lt;head&gt; &lt;title&gt; ' </span><span class="keyword">. </span><span class="default">$thours </span><span class="keyword">. </span><span class="string">' hours left until 12am Christmas Day &lt;/title&gt; &lt;meta http-equiv="refresh" content="10;url=""&gt;&lt;/head&gt; &lt;body&gt;&lt;span <br />
<br />
style="font-size:10pt"&gt;Christmas day in ' </span><span class="keyword">. </span><span class="default">$days </span><span class="keyword">. </span><span class="string">' days ' </span><span class="keyword">. </span><span class="default">$hours </span><span class="keyword">. </span><span class="string">' hours ' </span><span class="keyword">.&nbsp; </span><span class="default">$mins </span><span class="keyword">. </span><span class="string">' mins ' </span><span class="keyword">. </span><span class="default">$secs </span><span class="keyword">. </span><span class="string">' seconds!&lt;br&gt;&lt;br&gt;(There are ' </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$thours</span><span class="keyword">) <br />
<br />
. </span><span class="string">' hours in total and ' </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$tsecs</span><span class="keyword">) . </span><span class="string">' seconds in total)&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87071""></a>
  <div class="note">
   <strong class="user">Alan</strong>
   <a href="#87071" class="date">18-Nov-2008 07:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do remember that, counter-intuitively enough, the arguments for month and day are inversed (or middle-endian). A common mistake for Europeans seems to be to feed the date arguments in the expected order (big endian or little endian).<br />
<br />
It's clear to see where this weird order comes from (even with the date being big endian the order for all arguments would still be mixed - it's obviously based on the American date format with the time "prefixed" to allow an easier shorthand) and why this wasn't changed (passing the values in the wrong order produces a valid, though unexpected, result in most cases), but it continues to be a source of confusion for me whenever I come back to PHP from other languages or libraries.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87010""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#87010" class="date">14-Nov-2008 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">//example of functions to know if a date/time value is in summer hour or in winter hour<br />
<br />
//====================<br />
</span><span class="keyword">function </span><span class="default">getChgWinDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">){<br />
&nbsp;</span><span class="default">$y</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
&nbsp;for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">31</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">20</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">--){<br />
&nbsp; </span><span class="default">$ts</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$dy</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">'D'</span><span class="keyword">,</span><span class="default">$ts</span><span class="keyword">);<br />
&nbsp; if(</span><span class="default">$dy</span><span class="keyword">==</span><span class="string">'Sun'</span><span class="keyword">) return(</span><span class="default">$y</span><span class="keyword">.</span><span class="string">'/10/'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">' 03:00:00'</span><span class="keyword">);<br />
&nbsp;}<br />
}<br />
</span><span class="comment">//====================<br />
</span><span class="keyword">function </span><span class="default">getChgSumDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">){<br />
&nbsp;</span><span class="default">$y</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
&nbsp;for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">31</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">20</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">--){<br />
&nbsp; </span><span class="default">$ts</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$dy</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">'D'</span><span class="keyword">,</span><span class="default">$ts</span><span class="keyword">);<br />
&nbsp; if(</span><span class="default">$dy</span><span class="keyword">==</span><span class="string">'Sun'</span><span class="keyword">) return(</span><span class="default">$y</span><span class="keyword">.</span><span class="string">'/03/'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">' 02:00:00'</span><span class="keyword">);<br />
&nbsp;}<br />
}<br />
</span><span class="comment">//====================<br />
</span><span class="keyword">function </span><span class="default">isSummerDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">){<br />
&nbsp;</span><span class="default">$b1</span><span class="keyword">=</span><span class="default">getChgWinDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$b2</span><span class="keyword">=</span><span class="default">getChgSumDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">);<br />
&nbsp;if(</span><span class="default">$dt</span><span class="keyword">&gt;=</span><span class="default">$b2</span><span class="keyword">&amp;&amp;</span><span class="default">$dt</span><span class="keyword">&lt;</span><span class="default">$b1</span><span class="keyword">) return(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;return(</span><span class="default">false</span><span class="keyword">);<br />
}<br />
</span><span class="comment">//====================<br />
</span><span class="keyword">function </span><span class="default">isWinterDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">){<br />
&nbsp;return(!</span><span class="default">isSummerDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">//====================<br />
</span><span class="default">$dt </span><span class="keyword">= </span><span class="string">'2008/10/26 03:15:16'</span><span class="keyword">;<br />
if( </span><span class="default">isSummerDate</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">) ){<br />
&nbsp;echo </span><span class="default">$dt </span><span class="keyword">. </span><span class="string">" is summer hour in france"</span><span class="keyword">;<br />
}else{<br />
&nbsp;echo </span><span class="default">$dt </span><span class="keyword">. </span><span class="string">" is winter hour in france"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86929""></a>
  <div class="note">
   <strong class="user">thebloodyharry at gmail dot com</strong>
   <a href="#86929" class="date">10-Nov-2008 06:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here simple sample for timestamps.(using malaysia GMT 8)<br />
<br />
$mkendtimep=mktime(date("H")+8, date("i"), date("s"), date("m"), date("d"), date("Y"));<br />
<br />
$todaydate=date("(d/m/y) H:i:s", $mkendtimep);<br />
if (date("l")=="Monday") { $mday=Monday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Tuesday") { $mday=Tuesday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Wednesday") { $mday=Wednesday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Thursday") { $mday=Thursday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Friday") { $mday=Friday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Saturday") { $mday=Saturday; } else<br />
&nbsp;&nbsp;&nbsp; if (date("l")=="Sunday"){&nbsp; $mday=Sunday; } <br />
<br />
$realtime="$mday$todaydate (GMT +8)";<br />
<br />
..hope it will help you out....</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86916""></a>
  <div class="note">
   <strong class="user">yan</strong>
   <a href="#86916" class="date">10-Nov-2008 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
caculate days between two date<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="comment">// end date is 2008 Oct. 11 00:00:00<br />
&nbsp; </span><span class="default">$_endDate </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">11</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">2008</span><span class="keyword">);<br />
&nbsp; </span><span class="comment">// begin date is 2007 May 31 13:26:26<br />
&nbsp; </span><span class="default">$_beginDate </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">13</span><span class="keyword">,</span><span class="default">26</span><span class="keyword">,</span><span class="default">26</span><span class="keyword">,</span><span class="default">05</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">2007</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="default">$timestamp_diff</span><span class="keyword">= </span><span class="default">$_endDate</span><span class="keyword">-</span><span class="default">$_beginDate </span><span class="keyword">+</span><span class="default">1 </span><span class="keyword">;<br />
&nbsp; </span><span class="comment">// how many days between those two date<br />
&nbsp; </span><span class="default">$days_diff </span><span class="keyword">= </span><span class="default">$timestamp_diff</span><span class="keyword">/</span><span class="default">86400</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86674""></a>
  <div class="note">
   <strong class="user">Maffu</strong>
   <a href="#86674" class="date">29-Oct-2008 03:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When calling mktime(), be sure that you use values without leading zeros.&nbsp; The date comes out wrong in the following example:<br />
<br />
$endts = mktime(12, 00, 00, 12, 08, 2008, 0);<br />
<br />
(note the 08 instead of just 8)<br />
<br />
C's scanf() has a format specification where leading 0's can indicate an octal value - perhaps this is related?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86369""></a>
  <div class="note">
   <strong class="user">mark at markfiend dot com</strong>
   <a href="#86369" class="date">15-Oct-2008 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
zola at zolaweb:<br />
<br />
Your expression date('U', strtotime($mydate)) evaluates to strtotime($mydate). Converting to a UNIX timestamp is what strtotime() does.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86086""></a>
  <div class="note">
   <strong class="user">ionut dot bodea at eydos dot ro</strong>
   <a href="#86086" class="date">02-Oct-2008 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is what I use to calculate age. It took me 30 minutes to write and it's quite accurate. What it has special is that it's calculating the number of days a year has (float number), by testing if a year is a leap one or not. This number is used to compute the age.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_age</span><span class="keyword">(</span><span class="default">$date_start</span><span class="keyword">, </span><span class="default">$date_end</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t_lived </span><span class="keyword">= </span><span class="default">get_timestamp</span><span class="keyword">(</span><span class="default">$date_end</span><span class="keyword">) - </span><span class="default">get_timestamp</span><span class="keyword">(</span><span class="default">$date_start</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$seconds_one_year </span><span class="keyword">= </span><span class="default">get_days_per_year</span><span class="keyword">(</span><span class="default">$date_start</span><span class="keyword">, </span><span class="default">$date_end</span><span class="keyword">) * </span><span class="default">24 </span><span class="keyword">* </span><span class="default">60 </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$age </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$age</span><span class="keyword">[</span><span class="string">'years_exact'</span><span class="keyword">] = </span><span class="default">$t_lived </span><span class="keyword">/ </span><span class="default">$seconds_one_year</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$age</span><span class="keyword">[</span><span class="string">'years'</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$t_lived </span><span class="keyword">/ </span><span class="default">$seconds_one_year</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$seconds_remaining </span><span class="keyword">= </span><span class="default">$t_lived </span><span class="keyword">% </span><span class="default">$seconds_one_year</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$age</span><span class="keyword">[</span><span class="string">'days'</span><span class="keyword">] = </span><span class="default">round</span><span class="keyword">(</span><span class="default">$seconds_remaining </span><span class="keyword">/ (</span><span class="default">24 </span><span class="keyword">* </span><span class="default">60 </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$age</span><span class="keyword">;<br />
}<br />
function </span><span class="default">get_timestamp</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; list(</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">);<br />
}<br />
function </span><span class="default">get_days_per_year</span><span class="keyword">(</span><span class="default">$date_start</span><span class="keyword">, </span><span class="default">$date_end</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; list(</span><span class="default">$y1</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$date_start</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; list(</span><span class="default">$y2</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$date_end</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$years_days </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$y1</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt;= </span><span class="default">$y2</span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$years_days</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">(</span><span class="string">'L'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">)) ? </span><span class="default">366 </span><span class="keyword">: </span><span class="default">365</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">round</span><span class="keyword">(</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$years_days</span><span class="keyword">) / </span><span class="default">count</span><span class="keyword">(</span><span class="default">$years_days</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$date_birth </span><span class="keyword">= </span><span class="string">'1979-10-12'</span><span class="keyword">;<br />
</span><span class="default">$date_now </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">);<br />
<br />
</span><span class="default">$age </span><span class="keyword">= </span><span class="default">get_age</span><span class="keyword">(</span><span class="default">$date_birth</span><span class="keyword">, </span><span class="default">$date_now</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$age</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
<br />
It will display something like this:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [years_exact] =&gt; 28.972974329491<br />
&nbsp;&nbsp;&nbsp; [years] =&gt; 28<br />
&nbsp;&nbsp;&nbsp; [days] =&gt; 355<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85478""></a>
  <div class="note">
   <strong class="user">ooogla at hotmail dot com</strong>
   <a href="#85478" class="date">01-Sep-2008 03:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to increment the day based on a variable when using a loop you can use this when you submit a form<br />
<br />
1. Establish a start date and end date in two different variables<br />
<br />
2. Get the number of days between a date<br />
<br />
$ndays = (strtotime($_POST['edate']) - strtotime($_POST['sdate'])) / (60 * 60 * 24);<br />
<br />
Then here is the string you slip in your loop<br />
<br />
$nextday&nbsp; = date('Y-m-d', mktime(0, 0, 0, date("m", strtotime($_POST['sdate']))&nbsp; , date("d", strtotime($_POST['sdate']))+ $count, date("Y", strtotime($_POST['sdate']))));<br />
<br />
$count is incremented by the loop.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83160""></a>
  <div class="note">
   <strong class="user">thomas_corthals at hotmail dot com</strong>
   <a href="#83160" class="date">13-May-2008 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems mktime() doesn't return negative timestamps on Linux systems with a version of glibc &lt;= 2.3.3.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80759""></a>
  <div class="note">
   <strong class="user">joseph dot andrew dot hughes at gmail dot com</strong>
   <a href="#80759" class="date">30-Jan-2008 12:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a small thing to think about if you are only trying to pull the month out using mktime and date.&nbsp; Make sure you place a 1 into day field.&nbsp; Otherwise you will get incorrect dates when a month is followed by a month with less days when the day of the current month is higher then the max day of the month you are trying to find.. (Such as today being Jan 30th and trying to find the month Feb.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77639""></a>
  <div class="note">
   <strong class="user">PHPcoder at freemail dot ig3 dot net</strong>
   <a href="#77639" class="date">06-Sep-2007 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The maximum possible date accepted by mktime() and gmmktime() is dependent on the current location time zone.<br />
<br />
For example, the 32-bit timestamp overflow occurs at 2038-01-19T03:14:08+0000Z.&nbsp; But if you're in a UTC -0500 time zone (such as EST in North America), the maximum accepted time before overflow (for older PHP versions on Windows) is 2038-01-18T22:14:07-0500Z, regardless of whether you're passing it to mktime() or gmmktime().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77490""></a>
  <div class="note">
   <strong class="user">Jonathan Woodard</strong>
   <a href="#77490" class="date">31-Aug-2007 07:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
NB: one 'gotcha' with the implementation of mktime()'s parameters:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">;&nbsp; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">12 </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Month '</span><span class="default">$i</span><span class="string">' is: " </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">( </span><span class="string">"F" </span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">( </span><span class="default">0 </span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">) ) . </span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Will output:<br />
Month '1' is: January<br />
Month '2' is: March<br />
Month '3' is: March<br />
Month '4' is: May<br />
Month '5' is: May<br />
Month '6' is: July<br />
Month '7' is: July<br />
Month '8' is: August<br />
Month '9' is: October<br />
Month '10' is: October<br />
Month '11' is: December<br />
Month '12' is: December<br />
on the 31st day of every month.<br />
<br />
Why? Because the 5th parameter "day" defaults to "right now," which will not work reliably for days after the 28th.<br />
<br />
To make sure this doesn't happen, specify the first day of the month:<br />
<span class="default">&lt;?php<br />
mktime</span><span class="keyword">( </span><span class="default">0 </span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">)<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76460""></a>
  <div class="note">
   <strong class="user">rlz</strong>
   <a href="#76460" class="date">16-Jul-2007 09:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Finding out the number of days in a given month and year, accounting for leap years when February has more than 28 days.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">days_in_month</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return( </span><span class="default">date</span><span class="keyword">( </span><span class="string">"t"</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">( </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">) ) );<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope it helps a soul out there.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76346""></a>
  <div class="note">
   <strong class="user">mike at mike-griffiths dot co dot uk</strong>
   <a href="#76346" class="date">11-Jul-2007 06:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It may be useful to note that no E_WARNINGS or E_NOTICES are give if you specify a date &lt;1901 or &gt;2038 on systems where time_t is a 32bit signed integer.<br />
<br />
If a date is specified outside of the allowed range you may get some unexpected results as no timestamp will be returned.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74241""></a>
  <div class="note">
   <strong class="user">rga at merchantpal dot com</strong>
   <a href="#74241" class="date">31-Mar-2007 08:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You cannot simply subtract or add month VARs using mktime to obtain previous or next months as suggested in previous user comments (at least not with a DD &gt; 28 anyway).<br />
<br />
If the date is 03-31-2007, the following yeilds March as a previous month. Not what you wanted.<br />
<br />
<span class="default">&lt;?php<br />
$dateMinusOneMonth </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">3</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">), </span><span class="default">31</span><span class="keyword">,&nbsp; </span><span class="default">2007 </span><span class="keyword">);<br />
</span><span class="default">$lastmonth </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"n | F"</span><span class="keyword">, </span><span class="default">$dateMinusOneMonth</span><span class="keyword">);<br />
echo </span><span class="default">$lastmonth</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//---&gt; 3 | March<br />
</span><span class="default">?&gt;<br />
</span><br />
mktime correctly gives you back the 3rd of March if you subtract 1 month from March 31 (there are only 28 days in Feb 07).<br />
<br />
If you are just looking to do month and year arithmetic using mktime, you can use general days like 1 or 28 to do stuff like this:<br />
<br />
<span class="default">&lt;?php<br />
$d_daysinmonth </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'t'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// how many days in month<br />
</span><span class="default">$d_year </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// year<br />
</span><span class="default">$d_isleapyear </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'L'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; </span><span class="comment">// is YYYY a leapyear?<br />
<br />
</span><span class="default">$d_firstdow </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'w'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// FIRST falls on what day of week (0-6)<br />
</span><span class="default">$d_firstname </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'l'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// FIRST falls on what day of week Full Name<br />
<br />
</span><span class="default">$d_month </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// month of year (1-12)<br />
</span><span class="default">$d_monthname </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'F'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Month Long name (July)<br />
</span><span class="default">$d_month_previous </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,(</span><span class="default">$myMonth</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">),</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// PREVIOUS month of year (1-12)<br />
</span><span class="default">$d_monthname_previous </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'F'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,(</span><span class="default">$myMonth</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">),</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// PREVIOUS Month Long name (July)<br />
</span><span class="default">$d_month_next </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,(</span><span class="default">$myMonth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">),</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// NEXT month of year (1-12)<br />
</span><span class="default">$d_monthname_next </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'F'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,(</span><span class="default">$myMonth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">),</span><span class="default">28</span><span class="keyword">,</span><span class="default">$myYear</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// NEXT Month Long name (July)<br />
</span><span class="default">$d_year_previous </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">28</span><span class="keyword">,(</span><span class="default">$myYear</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)));&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// PREVIOUS year<br />
</span><span class="default">$d_year_next </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$myMonth</span><span class="keyword">,</span><span class="default">28</span><span class="keyword">,(</span><span class="default">$myYear</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)));&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// NEXT year<br />
<br />
</span><span class="default">$d_weeksleft </span><span class="keyword">= (</span><span class="default">52 </span><span class="keyword">- </span><span class="default">$d_weekofyear</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// how many weeks left in year<br />
</span><span class="default">$d_daysinyear </span><span class="keyword">= </span><span class="default">$d_isleapyear </span><span class="keyword">? </span><span class="default">366 </span><span class="keyword">: </span><span class="default">365</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// set correct days in year for leap years<br />
</span><span class="default">$d_daysleft </span><span class="keyword">= (</span><span class="default">$d_daysinyear </span><span class="keyword">- </span><span class="default">$d_dayofyear</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// how many days left in year<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72218""></a>
  <div class="note">
   <strong class="user">Stephen</strong>
   <a href="#72218" class="date">08-Jan-2007 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are several warnings here about using mktime() to determine a date difference because of daylight savings time. However, nobody seems to have mentioned the other obvious problem, which is leap years.<br />
<br />
Leap years mean that any effort to use mktime() and time() to determine the age (positive or negative) of some timestamp in years will be flawed. There are some years that are 366 days long, therefore you cannot say that there is a set number of seconds per year.<br />
<br />
Timestamps are good for determining *real* time, which is not the same thing as *human calendar* time. The Gregorian calendar is only an approximation of real time, which is tweaked with daylight savings time and leap years to make it conform more to humans' expectations of how time should or ought to work. Timestamps are not tweaked and therefore are the only authoritative way of recording in computers a proper order of succession of events, but they cannot be integrated with a Gregorian system unless you take both leap years and DST into account. Otherwise, you may get the wrong number of years when you are approaching a value of exactly X years.<br />
<br />
As for PHP, you could still use timestamps as a way of determining age if you took into account not only DST but also whether or not each year is a leap year and adjusted your calculations accordingly. However, this could become messy and inefficient. <br />
<br />
There is an alternative approach to calculating days given the day, month and year of the dates to be compared. Compare the years first, and then compare the month and day - if the month and day have already passed (or, if you like, if they match the current month and day), then add 1 to the total for the years. <br />
<br />
This solution works because it stays within the Gregorian system and doesn't venture into the world of timestamps.<br />
<br />
There is also the issue of leap seconds, but this will only arise if you literally need to get the *exact* age in seconds. In that case, of course, you would also need to verify that your timestamps are exactly correct and are not delayed by script processing time, plus you would need to determine whether your system conforms to UTC, etc. I expect this will hardly be an issue for anybody using PHP, however if you are interested there is an article on this issue on Wikipedia:<br />
<br />
<a href="http://en.wikipedia.org/wiki/Leap_second" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Leap_second</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70988""></a>
  <div class="note">
   <strong class="user">jsebfranck</strong>
   <a href="#70988" class="date">07-Nov-2006 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are several notes for mktime which use the number 86400 to differentiate two days. However this technique may pose a problem in case there is a day where the hour change between the two dates to compare.<br />
<br />
Consequently, if you want the timestamp difference between the day where the hour change and the next day, it will not be equals to 86400 but either 82800 in case its the winter change of hour day or 90000 for the summer change of hour day.<br />
<br />
For example in 2006 :<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">29</span><span class="keyword">,</span><span class="default">2006</span><span class="keyword">) - </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">2006</span><span class="keyword">); </span><span class="comment">// -90 000<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65814""></a>
  <div class="note">
   <strong class="user">carlo dot tafuro at poste dot it</strong>
   <a href="#65814" class="date">08-May-2006 04:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Negative timestamps give problem also using linux as guest operating system inside WMvare with Windows host operating system.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51454""></a>
  <div class="note">
   <strong class="user">colin dot horne at gmail dot com</strong>
   <a href="#51454" class="date">30-Mar-2005 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the month is greater than 12, it goes into the next year. If it is less than 1, it goes into the previous year. Generally, it behaves as you'd expect it to :-)<br />
<br />
Examples:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// January 1, 2005<br />
</span><span class="keyword">print </span><span class="default">date </span><span class="keyword">(</span><span class="string">"F j, Y"</span><span class="keyword">, </span><span class="default">mktime </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">13</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">));<br />
<br />
</span><span class="comment">// December 1, 2003<br />
</span><span class="keyword">print </span><span class="default">date </span><span class="keyword">(</span><span class="string">"F j, Y"</span><span class="keyword">, </span><span class="default">mktime </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">));<br />
<br />
</span><span class="comment">// February 1, 2005<br />
</span><span class="keyword">print </span><span class="default">date </span><span class="keyword">(</span><span class="string">"F j, Y"</span><span class="keyword">, </span><span class="default">mktime </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">14</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">));<br />
<br />
</span><span class="comment">// November 1, 2003<br />
</span><span class="keyword">print </span><span class="default">date </span><span class="keyword">(</span><span class="string">"F j, Y"</span><span class="keyword">, </span><span class="default">mktime </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51279""></a>
  <div class="note">
   <strong class="user">Romain Sam</strong>
   <a href="#51279" class="date">25-Mar-2005 07:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Under Windows, mktime goes until 2038-01-19 (03:14:07 ...)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39528""></a>
  <div class="note">
   <strong class="user">praas at NOSPAM dot ision dot nl</strong>
   <a href="#39528" class="date">01-Feb-2004 12:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Consider skipping months with mktime().<br />
<br />
$nextmonth = date("M",mktime(0,0,0,date("n")+1,date("j"),date("Y")));<br />
<br />
On any day in Januari you expect to get Feb, right? <br />
But on January 30th you'll get Mar. It will try Feb 30th, which doesn't exist, and skips another month. Therefore in this case present a day value that will certainly be legal in any month, like day "1".<br />
<br />
This will give you next month on any day of the year:<br />
$nextmonth = date("M",mktime(0,0,0,date("n")+1,1,date("Y")));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38116""></a>
  <div class="note">
   <strong class="user">iain at seatofthepants dot net</strong>
   <a href="#38116" class="date">08-Dec-2003 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In the above example it should ne boted that if you try to calculate the command at midnight on the 28/04/2004 you will get an erroneous response. This has been driving me to distraction.<br />
<br />
$myTime = mktime( 0, 0, 0, 3, 28, 2004);<br />
<br />
Solution I found was to create the time at 3am well after the 2am daylight savings problem, viz:<br />
<br />
$myTime = mktime( 3, 0, 0, 3, 28, 2004);<br />
<br />
Not sure if this is documented anywhere.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37606""></a>
  <div class="note">
   <strong class="user">trahma</strong>
   <a href="#37606" class="date">20-Nov-2003 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think it is important to note that the timestamp returned is based upon the number of seconds from the epoch GMT, and then modified by the time zone settings on the server.<br />
<br />
Thus...<br />
<br />
mktime(0,0,0,1,1,1970) will not always return 0.&nbsp; For example with the US eastern time zone (GMT-5) will return 18000 (5 hours past the epoch) and the same function with the time zone set to the US pacific time zone (GMT-8) will return 28800 (8 hours past the epoch).<br />
<br />
In an instance where you want time zone independence, you should use the function gmmktime()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37510""></a>
  <div class="note">
   <strong class="user">laurie at oneuponedown dot com</strong>
   <a href="#37510" class="date">18-Nov-2003 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With regard to Example 1 and using mktime to correct out-of-range input.<br />
<br />
It should be noted that mktime will implement day light saving amends. Consider the following:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"d/m/Y H:i:s"</span><span class="keyword">,</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,(</span><span class="default">27 </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">),</span><span class="default">2004</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span>OUTPUT "28/03/2004 02:00:00"<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"d/m/Y H:i:s"</span><span class="keyword">,(</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">27</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">) + (((</span><span class="default">1 </span><span class="keyword">* </span><span class="default">24</span><span class="keyword">) * </span><span class="default">60</span><span class="keyword">) * </span><span class="default">60</span><span class="keyword">))));<br />
</span><span class="default">?&gt;<br />
</span>OUTPUT "28/03/2004 00:00:00"<br />
<br />
Dependent on your requirements this may or may be desirable</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.microtime.html">microtime</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strftime.html">strftime</a></div>
 <div class="up"><a href="ref.datetime.html">Date/Time Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
