<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Select a MySQL database</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mysql-result.html">mysql_result</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mysql-set-charset.html">mysql_set_charset</a></div>
 <div class="up"><a href="ref.mysql.html">MySQL Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mysql-select-db" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysql_select_db</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mysql_select_db</span> &mdash; <span class="dc-title">Select a MySQL database</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mysql-select-db-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>mysql_select_db</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$database_name</tt></span>
   [, <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$link_identifier</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   Sets the current active database on the server that&#039;s associated with the 
   specified link identifier. Every subsequent call to 
   <span class="function"><a href="function.mysql-query.html" class="function">mysql_query()</a></span> will be made on the active database.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysql-select-db-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">database_name</tt></i></span>
     <dd>

      <p class="para">
       The name of the database that is to be selected.
      </p>
     </dd>

    </dt>

    <dt>
<span class="term"><i><tt class="parameter">
link_identifier</tt></i></span><dd>
<p class="para">The MySQL connection. If the
link identifier is not specified, the last link opened by
<span class="function"><a href="function.mysql-connect.html" class="function">mysql_connect()</a></span> is assumed. If no such link is found, it
will try to create one as if <span class="function"><a href="function.mysql-connect.html" class="function">mysql_connect()</a></span> was called
with no arguments. If no connection is found or established, an
<b><tt>E_WARNING</tt></b> level error is generated.</p></dd>

</dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mysql-select-db-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mysql-select-db-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-1545">
    <p><b>Example #1 <span class="function"><b>mysql_select_db()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Not&nbsp;connected&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;make&nbsp;foo&nbsp;the&nbsp;current&nbsp;db<br /></span><span style="color: #0000BB">$db_selected&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_select_db</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$db_selected</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;(</span><span style="color: #DD0000">'Can\'t&nbsp;use&nbsp;foo&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mysql-select-db-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    For backward compatibility, the following
deprecated alias may be used: 
    <span class="function"><b>mysql_selectdb()</b></span>
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mysql-select-db-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mysql-connect.html" class="function" rel="rdfs-seeAlso">mysql_connect()</a> - Open a connection to a MySQL Server</span></li>
    <li class="member"><span class="function"><a href="function.mysql-pconnect.html" class="function" rel="rdfs-seeAlso">mysql_pconnect()</a> - Open a persistent connection to a MySQL server</span></li>
    <li class="member"><span class="function"><a href="function.mysql-query.html" class="function" rel="rdfs-seeAlso">mysql_query()</a> - Send a MySQL query</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="93487""></a>
  <div class="note">
   <strong class="user">riad93 at mail dot ru</strong>
   <a href="#93487" class="date">12-Sep-2009 04:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use DataBases without <span class="default">&lt;?php mysql_select_db</span><span class="keyword">() </span><span class="default">?&gt;<br />
</span><br />
And you will havenot james at gogo dot co dot nz's problems :)<br />
<br />
<span class="default">&lt;?php<br />
mysql_connect</span><span class="keyword">(</span><span class="string">'localhost'</span><span class="keyword">,</span><span class="string">'db_user'</span><span class="keyword">,</span><span class="string">'pssword'</span><span class="keyword">);<br />
</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">'SELECT * FROM database_name.table_name'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85054""></a>
  <div class="note">
   <strong class="user">anotheruser at example dot com</strong>
   <a href="#85054" class="date">12-Aug-2008 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Cross-database join queries, expanding on Dan Ross's post...<br />
<br />
Really, this is a mysql specific feature, but worth noting here.&nbsp; So long as the mysql user has been given the right permissions to all databases and tables where data is pulled from or pushed to, this will work.&nbsp; Though the mysql_select_db function selects one database, the mysql statement may reference another (the syntax for referencing a field in another db table being 'database.table.field').<br />
<br />
<span class="default">&lt;?php<br />
<br />
$sql_statement </span><span class="keyword">= </span><span class="string">"SELECT<br />
&nbsp;&nbsp;&nbsp; PostID,<br />
&nbsp;&nbsp;&nbsp; AuthorID,<br />
&nbsp;&nbsp;&nbsp; Users.tblUsers.Username<br />
&nbsp;&nbsp;&nbsp; FROM tblPosts<br />
&nbsp;&nbsp;&nbsp; LEFT JOIN Users.tblUsers ON AuthorID = Users.tblUsers.UserID<br />
&nbsp;&nbsp;&nbsp; GROUP BY PostID,AuthorID,Username<br />
&nbsp;&nbsp;&nbsp; "</span><span class="keyword">;<br />
<br />
</span><span class="default">$dblink </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"somehost"</span><span class="keyword">, </span><span class="string">"someuser"</span><span class="keyword">, </span><span class="string">"password"</span><span class="keyword">);<br />
</span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">"BlogPosts"</span><span class="keyword">,</span><span class="default">$dblink</span><span class="keyword">);<br />
</span><span class="default">$qry </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$sql_statement</span><span class="keyword">,</span><span class="default">$dblink</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77690""></a>
  <div class="note">
   <strong class="user">me at khurshid dot com</strong>
   <a href="#77690" class="date">08-Sep-2007 11:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Problem with connecting to multiple databases within the same server is that every time you do:<br />
mysql_connect(host, username, passwd);<br />
it will reuse 'Resource id' for every connection, which means you will end with only one connection reference to avoid that do:<br />
mysql_connect(host, username, passwd, true);<br />
keeps all connections separate.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55970""></a>
  <div class="note">
   <strong class="user">Maarten</strong>
   <a href="#55970" class="date">19-Aug-2005 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
About opening connections if the same parameters to mysql_connect() are used: this can be avoided by using the 'new_link' parameter to that function.<br />
<br />
This parameter has been available since PHP 4.2.0 and allows you to open a new link even if the call uses the same parameters.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52584""></a>
  <div class="note">
   <strong class="user">buzz at oska dot com</strong>
   <a href="#52584" class="date">06-May-2005 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Opening multiple connection handles with:<br />
<br />
<span class="default">&lt;?php <br />
$connection_handle </span><span class="keyword">=&nbsp; </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$hostname_and_port</span><span class="keyword">,</span><span class="default">$user</span><span class="keyword">,</span><span class="default">$password</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
causes the connection ID/handle to be REUSED if the exact same parameters are passed in to it.&nbsp;&nbsp; This can be annoying if you want to work with multiple databases on the same server, but don't want to (a) use the database.table syntax in all your queries or (b) call the mysql_select_db($database) before every SQL query just to be sure which database you are working with.&nbsp; &nbsp;&nbsp; <br />
My solution is to create a handle for each database with mysql_connect (using ever so slightly different connection properties), and assign each of them to their own database permanently.&nbsp; each time I do a mysql_query(...) call, I just include the connection handle that I want to do this call on eg (ive left out all error checking for simplicity sake):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// none of thesehandles are re-used as the connection parameters are different on them all, despite connecting to the same server (assuming 'myuser' and 'otheruser' have the same privileges/accesses in mysql)<br />
</span><span class="default">$handle_db1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">,</span><span class="string">"myuser"</span><span class="keyword">,</span><span class="string">"apasswd"</span><span class="keyword">);<br />
</span><span class="default">$handle_db2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"127.0.0.1"</span><span class="keyword">,</span><span class="string">"myuser"</span><span class="keyword">,</span><span class="string">"apasswd"</span><span class="keyword">);<br />
</span><span class="default">$handle_db3 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost:3306"</span><span class="keyword">,</span><span class="string">"myuser"</span><span class="keyword">,</span><span class="string">"apasswd"</span><span class="keyword">);<br />
</span><span class="default">$handle_db4 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">,</span><span class="string">"otheruser"</span><span class="keyword">,</span><span class="string">"apasswd"</span><span class="keyword">);<br />
<br />
</span><span class="comment">// give each handle it's own database to work with, permanently.<br />
</span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">"db1"</span><span class="keyword">,</span><span class="default">$handle_db1</span><span class="keyword">);<br />
</span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">"db2"</span><span class="keyword">,</span><span class="default">$handle_db2</span><span class="keyword">);<br />
</span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">"db3"</span><span class="keyword">,</span><span class="default">$handle_db3</span><span class="keyword">);<br />
</span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">"db4"</span><span class="keyword">,</span><span class="default">$handle_db4</span><span class="keyword">);<br />
<br />
</span><span class="comment">//do a query from db1:<br />
</span><span class="default">$query </span><span class="keyword">= </span><span class="string">"select * from test"</span><span class="keyword">; </span><span class="default">$which </span><span class="keyword">= </span><span class="default">$handle_db1</span><span class="keyword">;<br />
</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">,</span><span class="default">$which</span><span class="keyword">);<br />
<br />
</span><span class="comment">//do a query from db2 :<br />
</span><span class="default">$query </span><span class="keyword">= </span><span class="string">"select * from test"</span><span class="keyword">; </span><span class="default">$which </span><span class="keyword">= </span><span class="default">$handle_db2</span><span class="keyword">;<br />
</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">,</span><span class="default">$which</span><span class="keyword">);<br />
<br />
</span><span class="comment">//etc <br />
</span><span class="default">?&gt;<br />
</span><br />
Note that we didn't do a mysql_select_db between queries , and we didn't use the database name in the query either.<br />
<br />
Of course, it has the overhead of setting up an extra connection.... but you may find this is preferable in some cases...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39095""></a>
  <div class="note">
   <strong class="user">james at gogo dot co dot nz</strong>
   <a href="#39095" class="date">16-Jan-2004 04:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be carefull if you are using two databases on the same server at the same time.&nbsp; By default mysql_connect returns the same connection ID for multiple calls with the same server parameters, which means if you do <br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $db1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(...</span><span class="default">stuff</span><span class="keyword">...);<br />
&nbsp; </span><span class="default">$db2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(...</span><span class="default">stuff</span><span class="keyword">...);<br />
&nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db1'</span><span class="keyword">, </span><span class="default">$db1</span><span class="keyword">);<br />
&nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db2'</span><span class="keyword">, </span><span class="default">$db2</span><span class="keyword">); <br />
</span><span class="default">?&gt;<br />
</span><br />
then $db1 will actually have selected the database 'db2', because the second call to mysql_connect just returned the already opened connection ID !<br />
<br />
You have two options here, eiher you have to call mysql_select_db before each query you do, or if you're using php4.2+ there is a parameter to mysql_connect to force the creation of a new link.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38350""></a>
  <div class="note">
   <strong class="user">doug at xamo dot com</strong>
   <a href="#38350" class="date">17-Dec-2003 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you need to query data from multiple databases, note that mysql_select_db("db2")&nbsp; doesn't prevent you from fetching more rows with result sets returned from "db1".<br />
<br />
<span class="default">&lt;?php<br />
mysql_select_db</span><span class="keyword">(</span><span class="string">"db1"</span><span class="keyword">);<br />
<br />
</span><span class="default">$res_db1</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"select * from foobar"</span><span class="keyword">);<br />
<br />
</span><span class="default">myqsl_select_db</span><span class="keyword">(</span><span class="string">"db2);<br />
<br />
</span><span class="default">$row_db1</span><span class="string">=mysql_fetch_object(</span><span class="default">$res_db1</span><span class="string">);<br />
<br />
</span><span class="default">$res_db2</span><span class="string">=mysql_query("</span><span class="default">select </span><span class="keyword">* </span><span class="default">from test where id</span><span class="keyword">=</span><span class="string">'$row_db1-&gt;id'");<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mysql-result.html">mysql_result</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mysql-set-charset.html">mysql_set_charset</a></div>
 <div class="up"><a href="ref.mysql.html">MySQL Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
