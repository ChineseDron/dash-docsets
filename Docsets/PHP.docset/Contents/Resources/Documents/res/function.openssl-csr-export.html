<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Exports a CSR as a string</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.openssl-csr-export-to-file.html">openssl_csr_export_to_file</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.openssl-csr-get-public-key.html">openssl_csr_get_public_key</a></div>
 <div class="up"><a href="ref.openssl.html">OpenSSL Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.openssl-csr-export" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">openssl_csr_export</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">openssl_csr_export</span> &mdash; <span class="dc-title">Exports a CSR as a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.openssl-csr-export-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>openssl_csr_export</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$csr</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter reference">&$out</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$notext</tt><span class="initializer"> = true</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>openssl_csr_export()</b></span> takes the Certificate Signing
   Request represented by <i><tt class="parameter">csr</tt></i> and stores it as
   ascii-armoured text into <i><tt class="parameter">out</tt></i>, which is passed by
   reference.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.openssl-csr-export-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">csr</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">out</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">notext</tt></i></span>
     <dd>

      <p class="para">
 The optional parameter <i><tt class="parameter">notext</tt></i> affects
 the verbosity of the output; if it is <b><tt>FALSE</tt></b>, then additional human-readable
 information is included in the output. The default value of
 <i><tt class="parameter">notext</tt></i> is <b><tt>TRUE</tt></b>.
</p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.openssl-csr-export-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.openssl-csr-export-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.openssl-csr-export-to-file.html" class="function" rel="rdfs-seeAlso">openssl_csr_export_to_file()</a> - Exports a CSR to a file</span></li>
    <li class="member"><span class="function"><a href="function.openssl-csr-new.html" class="function" rel="rdfs-seeAlso">openssl_csr_new()</a> - Generates a CSR</span></li>
    <li class="member"><span class="function"><a href="function.openssl-csr-sign.html" class="function" rel="rdfs-seeAlso">openssl_csr_sign()</a> - Sign a CSR with another certificate (or itself) and generate a certificate</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="22696""></a>
  <div class="note">
   <strong class="user">carlos AT wfmh DOT org DOT pl</strong>
   <a href="#22696" class="date">26-Jun-2002 07:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here you come with the example of how to use this function. <br />
<br />
if( $csr = openssl_csr_new( array( <br />
&nbsp;&nbsp; &nbsp; "countryName"=&gt;"PL",<br />
&nbsp;&nbsp; &nbsp; "stateOrProvinceName" =&gt; "blah",<br />
&nbsp;&nbsp; &nbsp; "organizationName" =&gt; "company ltd",<br />
&nbsp;&nbsp; &nbsp; "commonName"=&gt;"foo.bar.com",<br />
&nbsp;&nbsp; &nbsp; "Email"=&gt;"blah@foo.bar.com"), $privkey )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; openssl_csr_export_to_file( $csr, "out.csr");<br />
&nbsp;&nbsp; }<br />
else<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; printf("failed\n");<br />
&nbsp;&nbsp; }<br />
<br />
Keep in mind that keys are case sensitive (i.e. give "email" instead of "Email" and you get warning). Also remember it's important to keep the order of the arguments in array. Move the "Email" above commonName and check what you get (in case you don't know how: "openssl req -noout -text -in out.csr"). <br />
<br />
It also happened to me me I got segfault when order was rubbish (afair Email after countryName, or plenty Email's here and there), so be awared.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.openssl-csr-export-to-file.html">openssl_csr_export_to_file</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.openssl-csr-get-public-key.html">openssl_csr_get_public_key</a></div>
 <div class="up"><a href="ref.openssl.html">OpenSSL Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
