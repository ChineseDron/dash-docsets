<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Add weblink for current page [deprecated]</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.pdf-add-thumbnail.html">PDF_add_thumbnail</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pdf-arc.html">PDF_arc</a></div>
 <div class="up"><a href="ref.pdf.html">PDF Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.pdf-add-weblink" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PDF_add_weblink</h1>
  <p class="verinfo">(PHP 4, PECL pdflib &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">PDF_add_weblink</span> &mdash; <span class="dc-title">Add weblink for current page [deprecated]</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.pdf-add-weblink-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>PDF_add_weblink</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$pdfdoc</tt></span>
   , <span class="methodparam"><span class="type">float</span> <tt class="parameter">$lowerleftx</tt></span>
   , <span class="methodparam"><span class="type">float</span> <tt class="parameter">$lowerlefty</tt></span>
   , <span class="methodparam"><span class="type">float</span> <tt class="parameter">$upperrightx</tt></span>
   , <span class="methodparam"><span class="type">float</span> <tt class="parameter">$upperrighty</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$url</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Adds a weblink annotation to a target <i><tt class="parameter">url</tt></i> on the Web.
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
  <p class="para">
   This function is deprecated since PDFlib version 6, use
   <span class="function"><a href="function.pdf-create-action.html" class="function">PDF_create_action()</a></span> with <i><tt class="parameter">type=URI</tt></i>
   and <span class="function"><a href="function.pdf-create-annotation.html" class="function">PDF_create_annotation()</a></span> with
   <i><tt class="parameter">type=Link</tt></i> instead.
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="51226""></a>
  <div class="note">
   <strong class="user">rz at daimi dot au dot dk</strong>
   <a href="#51226" class="date">23-Mar-2005 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Notice that the coordinates given are absolute - they aren't tranformed using the transformation matrix.<br />
The following example shows a simple function that shows an url and adds a weblink.<br />
As illustrated it only works when the page isn't transformed.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">linkxy</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">) {<br />
&nbsp; global </span><span class="default">$pdf</span><span class="keyword">;<br />
&nbsp; </span><span class="default">pdf_setfont</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">);<br />
&nbsp; </span><span class="default">pdf_show_xy</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp; </span><span class="default">pdf_add_weblink</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">-</span><span class="default">2</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y</span><span class="keyword">-</span><span class="default">2</span><span class="keyword">+</span><span class="default">pdf_get_value</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="string">"descender"</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">)*</span><span class="default">$size</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">+</span><span class="default">pdf_stringwidth</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">+</span><span class="default">pdf_get_value</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="string">"ascender"</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">)*</span><span class="default">$size</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$url</span><span class="keyword">);<br />
}<br />
</span><span class="default">$pdf </span><span class="keyword">= </span><span class="default">pdf_new</span><span class="keyword">();<br />
</span><span class="default">pdf_open_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">pdf_begin_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">595</span><span class="keyword">, </span><span class="default">421</span><span class="keyword">);<br />
</span><span class="default">$font </span><span class="keyword">= </span><span class="default">PDF_findfont</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"Helvetica"</span><span class="keyword">, </span><span class="string">"host"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
<br />
</span><span class="default">linkxy</span><span class="keyword">(</span><span class="default">50</span><span class="keyword">,</span><span class="default">300</span><span class="keyword">,</span><span class="string">"<a href="http://www.ruf.dk" rel="nofollow" target="_blank">http://www.ruf.dk</a>"</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">);<br />
</span><span class="comment">/* the following does not work, sorry */<br />
</span><span class="default">pdf_translate</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="default">250</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">);<br />
</span><span class="default">pdf_scale</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">,</span><span class="default">0.6</span><span class="keyword">,</span><span class="default">1.2</span><span class="keyword">);<br />
</span><span class="default">linkxy</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">,</span><span class="string">"<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>"</span><span class="keyword">,</span><span class="default">$font</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">);<br />
<br />
</span><span class="default">pdf_end_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">pdf_close</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">pdf_get_buffer</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: application/pdf'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-disposition: inline; filename=myTest.pdf'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-length: ' </span><span class="keyword">. </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">));<br />
echo </span><span class="default">$data</span><span class="keyword">; <br />
</span><span class="default">pdf_delete</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22082""></a>
  <div class="note">
   <strong class="user">js at justnet dot com dot au</strong>
   <a href="#22082" class="date">05-Jun-2002 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example given in the above comment is potentially confusing, since the 4th and 5th arguments appear to be the width and height of the link area, but are actually the coordinates of the diagonally opposite corner. This is much more evident when the starting point for the weblink is something other than 0,0 (which is of course very likely).<br />
<br />
A better example:<br />
<br />
$starting_xpos = 100;<br />
$starting_ypos = 150;<br />
pdf_add_weblink($pdf, $starting_xpos, $starting_ypos, $starting_xpos + $width, $starting_ypos + $height, "<a href="http://goweb.com.au/" rel="nofollow" target="_blank">http://goweb.com.au/</a>");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14513""></a>
  <div class="note">
   <strong class="user">bob at nijman dot de</strong>
   <a href="#14513" class="date">02-Aug-2001 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Try this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//create &amp; open PDF-Object<br />
</span><span class="default">$pdf </span><span class="keyword">= </span><span class="default">pdf_new</span><span class="keyword">();<br />
</span><span class="default">pdf_open_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">pdf_set_info</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"Author"</span><span class="keyword">,</span><span class="string">"Bob Nijman"</span><span class="keyword">);<br />
<br />
</span><span class="comment">//the interesting bit...<br />
</span><span class="default">$pdfimage </span><span class="keyword">= </span><span class="default">pdf_open_image_file</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="string">"jpeg"</span><span class="keyword">, </span><span class="string">"test.jpg"</span><span class="keyword">);<br />
</span><span class="default">$width </span><span class="keyword">= </span><span class="default">pdf_get_image_width</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">);<br />
</span><span class="default">$height </span><span class="keyword">= </span><span class="default">pdf_get_image_height</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">);<br />
</span><span class="default">pdf_begin_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">421</span><span class="keyword">, </span><span class="default">595</span><span class="keyword">);<br />
</span><span class="default">pdf_place_image</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">$pdfimage</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">pdf_add_weblink</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$width</span><span class="keyword">, </span><span class="default">$height</span><span class="keyword">, </span><span class="string">"<a href="http://www.hackeschermarkt.de" rel="nofollow" target="_blank">http://www.hackeschermarkt.de</a>"</span><span class="keyword">);<br />
<br />
</span><span class="comment">//close it up<br />
</span><span class="default">pdf_end_page</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">pdf_close</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">pdf_get_buffer</span><span class="keyword">(</span><span class="default">$pdf</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: application/pdf'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-disposition: inline; filename=myTest.pdf'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-length: ' </span><span class="keyword">. </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">));<br />
echo </span><span class="default">$data</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.pdf-add-thumbnail.html">PDF_add_thumbnail</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pdf-arc.html">PDF_arc</a></div>
 <div class="up"><a href="ref.pdf.html">PDF Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
