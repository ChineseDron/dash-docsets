<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Outputs information about PHP's configuration</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.phpcredits.html">phpcredits</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.phpversion.html">phpversion</a></div>
 <div class="up"><a href="ref.info.html">PHP Options/Info Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.phpinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">phpinfo</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">phpinfo</span> &mdash; <span class="dc-title">Outputs information about PHP&#039;s configuration</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.phpinfo-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>phpinfo</b></span>
    ([ <span class="methodparam"><span class="type">int</span> <tt class="parameter">$what</tt><span class="initializer"> = INFO_ALL</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Outputs a large amount of information about the current state of  PHP. 
   This includes information about PHP compilation options and extensions,
   the PHP version, server information and environment (if compiled as a
   module), the PHP environment, OS version information, paths, master and
   local values of configuration options, HTTP headers, and the PHP License.
  </p>
  <p class="para">
   Because every system is setup differently, <span class="function"><b>phpinfo()</b></span> is
   commonly used to check <a href="configuration.html" class="link">configuration settings</a> and for available
   <a href="language.variables.predefined.html" class="link">predefined variables</a>
   on a given system.
  </p>
  <p class="para">
   <span class="function"><b>phpinfo()</b></span> is also a valuable debugging tool as it
   contains all EGPCS (Environment, GET, POST, Cookie, Server) data.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.phpinfo-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">what</tt></i></span>
     <dd>

      <p class="para">
       The output may be customized by passing one or more of the
       following <em class="emphasis">constants</em> bitwise values summed
       together in the optional <i><tt class="parameter">what</tt></i> parameter.
       One can also combine the respective constants or bitwise values
       together with the <a href="language.operators.bitwise.html" class="link">or</a> operator.
      </p>
      <p class="para">
       <table class="doctable table">
        <caption><b><span class="function"><b>phpinfo()</b></span> options</b></caption>
        
         <thead valign="middle">
          <tr valign="middle">
           <th>Name (constant)</th>
           <th>Value</th>
           <th>Description</th>
          </tr>

         </thead>

         <tbody valign="middle" class="tbody">
          <tr valign="middle">
           <td align="left">INFO_GENERAL</td>
           <td align="left">1</td>
           <td align="left">
            The configuration line, <var class="filename">php.ini</var> location, build date, Web
            Server, System and more.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_CREDITS</td>
           <td align="left">2</td>
           <td align="left">
            PHP Credits.  See also <span class="function"><a href="function.phpcredits.html" class="function">phpcredits()</a></span>.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_CONFIGURATION</td>
           <td align="left">4</td>
           <td align="left">
            Current Local and Master values for PHP directives.  See
            also <span class="function"><a href="function.ini-get.html" class="function">ini_get()</a></span>.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_MODULES</td>
           <td align="left">8</td>
           <td align="left">
            Loaded modules and their respective settings.  See also
            <span class="function"><a href="function.get-loaded-extensions.html" class="function">get_loaded_extensions()</a></span>.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_ENVIRONMENT</td>
           <td align="left">16</td>
           <td align="left">
            Environment Variable information that&#039;s also available in
            <var class="varname"><var class="varname"><a href="reserved.variables.environment.html" class="classname">$_ENV</a></var></var>.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_VARIABLES</td>
           <td align="left">32</td>
           <td align="left">
            Shows all <a href="language.variables.predefined.html" class="link">
            predefined variables</a> from EGPCS (Environment, GET,
            POST, Cookie, Server).
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_LICENSE</td>
           <td align="left">64</td>
           <td align="left">
            PHP License information.  See also the <a href="http://www.php.net/license/" class="link external" title="Link : http://www.php.net/license/">&raquo;&nbsp;license FAQ</a>.
           </td>
          </tr>

          <tr valign="middle">
           <td align="left">INFO_ALL</td>
           <td align="left">-1</td>
           <td align="left">
            Shows all of the above.
           </td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.phpinfo-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.phpinfo-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.2.2</td>
       <td align="left">
        The &quot;Loaded Configuration File&quot; information was added, when before
        only &quot;Configuration File (php.ini) Path&quot; existed.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.phpinfo-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-482">
    <p><b>Example #1 <span class="function"><b>phpinfo()</b></span> Example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Show&nbsp;all&nbsp;information,&nbsp;defaults&nbsp;to&nbsp;INFO_ALL<br /></span><span style="color: #0000BB">phpinfo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Show&nbsp;just&nbsp;the&nbsp;module&nbsp;information.<br />//&nbsp;phpinfo(8)&nbsp;yields&nbsp;identical&nbsp;results.<br /></span><span style="color: #0000BB">phpinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">INFO_MODULES</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.phpinfo-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    Parts of the information displayed are disabled when the
    <a href="ini.core.html#ini.expose-php" class="link">expose_php</a> configuration setting
    is set to <i>off</i>. This includes the PHP and Zend logos,
    and the credits.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    <span class="function"><b>phpinfo()</b></span> outputs plain text instead of HTML when
    using the CLI mode.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.phpinfo-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.phpversion.html" class="function" rel="rdfs-seeAlso">phpversion()</a> - Gets the current PHP version</span></li>
    <li class="member"><span class="function"><a href="function.phpcredits.html" class="function" rel="rdfs-seeAlso">phpcredits()</a> - Prints out the credits for PHP</span></li>
    <li class="member"><span class="function"><a href="function.php-logo-guid.html" class="function" rel="rdfs-seeAlso">php_logo_guid()</a> - Gets the logo guid</span></li>
    <li class="member"><span class="function"><a href="function.ini-get.html" class="function" rel="rdfs-seeAlso">ini_get()</a> - Gets the value of a configuration option</span></li>
    <li class="member"><span class="function"><a href="function.ini-set.html" class="function" rel="rdfs-seeAlso">ini_set()</a> - Sets the value of a configuration option</span></li>
    <li class="member"><span class="function"><a href="function.get-loaded-extensions.html" class="function" rel="rdfs-seeAlso">get_loaded_extensions()</a> - Returns an array with the names of all modules compiled and loaded</span></li>
    <li class="member"><a href="language.variables.predefined.html" class="link">Predefined Variables</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106862""></a>
  <div class="note">
   <strong class="user">Ken</strong>
   <a href="#106862" class="date">13-Dec-2011 06:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi.<br />
<br />
Here my version of saving php_info into an array:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">phpinfo_array</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info_arr </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$info_lines </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="string">"&lt;tr&gt;&lt;td&gt;&lt;h2&gt;"</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cat </span><span class="keyword">= </span><span class="string">"General"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$info_lines </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// new cat?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;h2&gt;(.*)&lt;/h2&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$title</span><span class="keyword">) ? </span><span class="default">$cat </span><span class="keyword">= </span><span class="default">$title</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_arr</span><span class="keyword">[</span><span class="default">$cat</span><span class="keyword">][</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_arr</span><span class="keyword">[</span><span class="default">$cat</span><span class="keyword">][</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = array(</span><span class="string">"local" </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="string">"master" </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$info_arr</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// example:<br />
</span><span class="keyword">echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">phpinfo_array</span><span class="keyword">(), </span><span class="default">1</span><span class="keyword">).</span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106171""></a>
  <div class="note">
   <strong class="user">pokusman at gmail dot com</strong>
   <a href="#106171" class="date">16-Oct-2011 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Editable css for phpinfo() all what you need is change css properies...<br />
<br />
&lt;style type="text/css"&gt;<br />
<br />
#phpinfo body, td, th, h1, h2 {font-family: sans-serif;}<br />
#phpinfo pre {margin: 0px; font-family: monospace;}<br />
#phpinfo a:link {color: #000099; text-decoration: none; background-color: #ffffff;}<br />
#phpinfo a:hover {text-decoration: underline;}<br />
#phpinfo table {border-collapse: collapse; width:100%}<br />
#phpinfo .center {text-align: center;}<br />
#phpinfo .center table { margin-left: auto; margin-right: auto; text-align: left;}<br />
#phpinfo .center th { text-align: center !important; }<br />
#phpinfo td, th { border: 1px solid #000000; font-size: 100%; vertical-align: baseline;}<br />
#phpinfo h1 {font-size: 150%;}<br />
#phpinfo h2 {font-size: 125%;}<br />
#phpinfo .p {text-align: left;}<br />
#phpinfo .e {background-color: #ccccff; font-weight: bold; color: #000000;}<br />
#phpinfo .h {background-color: #9999cc; font-weight: bold; color: #000000;}<br />
#phpinfo .v {background-color: #cccccc; color: #000000;}<br />
#phpinfo .vr {background-color: #cccccc; text-align: right; color: #000000;}<br />
#phpinfo img {float: right; border: 0px;}<br />
#phpinfo hr {width: 800px; background-color: #cccccc; border: 0px; height: 1px; color: #000000;} <br />
&lt;/style&gt;<br />
<br />
&lt;div id="phpinfo"&gt;<br />
<span class="default">&lt;?php<br />
<br />
ob_start </span><span class="keyword">() ;<br />
</span><span class="default">phpinfo </span><span class="keyword">() ;<br />
</span><span class="default">$pinfo </span><span class="keyword">= </span><span class="default">ob_get_contents </span><span class="keyword">() ;<br />
</span><span class="default">ob_end_clean </span><span class="keyword">() ;<br />
<br />
</span><span class="comment">// the name attribute "module_Zend Optimizer" of an anker-tag is not xhtml valide, so replace it with "module_Zend_Optimizer"<br />
</span><span class="keyword">echo ( </span><span class="default">str_replace </span><span class="keyword">( </span><span class="string">"module_Zend Optimizer"</span><span class="keyword">, </span><span class="string">"module_Zend_Optimizer"</span><span class="keyword">, </span><span class="default">preg_replace </span><span class="keyword">( </span><span class="string">'%^.*&lt;body&gt;(.*)&lt;/body&gt;.*$%ms'</span><span class="keyword">, </span><span class="string">'$1'</span><span class="keyword">, </span><span class="default">$pinfo </span><span class="keyword">) ) ) ;<br />
<br />
</span><span class="default">?&gt;<br />
</span>&lt;/div&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100809""></a>
  <div class="note">
   <strong class="user">arimbourg at ariworld dot eu</strong>
   <a href="#100809" class="date">08-Nov-2010 07:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is necessary to obtain a W3C validation (XHTML1.0 Transitionnal)...<br />
phpinfo's output is declared with that DTD :<br />
- "System ID" has the wrong url to validate : "DTD/xhtml1-transitional.dtd" rather than "<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>"<br />
- Some module names contains space and the function's output use the name in anchors as ID and NAME. these attributes can't be validated like that (unique name only).<br />
<br />
<span class="default">&lt;?php<br />
<br />
ob_start </span><span class="keyword">();<br />
<br />
</span><span class="default">ob_start </span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Capturing<br />
</span><span class="default">phpinfo </span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// phpinfo ()<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">trim </span><span class="keyword">(</span><span class="default">ob_get_clean </span><span class="keyword">());&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// output<br />
<br />
// Replace white space in ID and NAME attributes... if exists<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">preg_replace </span><span class="keyword">(</span><span class="string">'/(id|name)(=["\'][^ "\']+) ([^ "\']*["\'])/i'</span><span class="keyword">, </span><span class="string">'$1$2_$3'</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">);<br />
<br />
</span><span class="default">$imp </span><span class="keyword">= new </span><span class="default">DOMImplementation </span><span class="keyword">();<br />
</span><span class="default">$dtd </span><span class="keyword">= </span><span class="default">$imp</span><span class="keyword">-&gt;</span><span class="default">createDocumentType </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'html'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'-//W3C//DTD XHTML 1.0 Transitional//EN'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>'<br />
</span><span class="keyword">);<br />
</span><span class="default">$doc </span><span class="keyword">= </span><span class="default">$imp</span><span class="keyword">-&gt;</span><span class="default">createDocument </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'<a href="http://www.w3.org/1999/xhtml" rel="nofollow" target="_blank">http://www.w3.org/1999/xhtml</a>'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'html'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dtd<br />
</span><span class="keyword">);<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">encoding </span><span class="keyword">= </span><span class="string">'utf-8'</span><span class="keyword">;<br />
<br />
</span><span class="default">$info_doc </span><span class="keyword">= new </span><span class="default">DOMDocument </span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'utf-8'</span><span class="keyword">);<br />
</span><span class="comment">/* Parse phpinfo's output<br />
&nbsp;* operator @ used to avoid messages about undefined entities<br />
&nbsp;* or use loadHTML instead<br />
&nbsp;*/<br />
</span><span class="keyword">@</span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">loadXML </span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br />
<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">( </span><span class="comment">// Adding HEAD element to HTML<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'head'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">true&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// With all the subtree<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">( </span><span class="comment">// Adding BODY element to HTML<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$info_doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">true&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// With all the subtree<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="comment">// Now you get a clean output and you are able to validate...<br />
/*<br />
echo ($doc-&gt;saveXML ());<br />
//&nbsp; &nbsp; &nbsp; OR<br />
echo ($doc-&gt;saveHTML ());<br />
&nbsp;*/<br />
<br />
// By that way it's easy to add some style declaration :<br />
</span><span class="default">$style </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'style'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$style</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'/* SOME NEW CSS RULES TO ADD TO THE FUNCTION OUTPUT */'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
<br />
</span><span class="comment">// to add some more informations to display :<br />
</span><span class="default">$body </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$element </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'p'</span><span class="keyword">);<br />
</span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'SOME NEW CONTENT TO DISPLAY'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
);<br />
</span><span class="default">$body</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">);<br />
<br />
</span><span class="comment">// to add a new header :<br />
</span><span class="default">$head </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName </span><span class="keyword">(</span><span class="string">'head'</span><span class="keyword">)-&gt;</span><span class="default">item </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$meta </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'meta'</span><span class="keyword">);<br />
</span><span class="default">$meta</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'name'</span><span class="keyword">, </span><span class="string">'author'</span><span class="keyword">);<br />
</span><span class="default">$meta</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'content'</span><span class="keyword">, </span><span class="string">'arimbourg at ariworld dot eu'</span><span class="keyword">);<br />
</span><span class="default">$head</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$meta</span><span class="keyword">);<br />
<br />
</span><span class="comment">// As you wish, take the rest of the output and add it for debugging<br />
</span><span class="default">$out </span><span class="keyword">= </span><span class="default">ob_get_clean </span><span class="keyword">();<br />
<br />
</span><span class="default">$pre </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement </span><span class="keyword">(</span><span class="string">'div'</span><span class="keyword">); </span><span class="comment">// or pre<br />
</span><span class="default">$pre</span><span class="keyword">-&gt;</span><span class="default">setAttribute </span><span class="keyword">(</span><span class="string">'style'</span><span class="keyword">, </span><span class="string">'white-space: pre;'</span><span class="keyword">); </span><span class="comment">// for a div element, useless with pre<br />
</span><span class="default">$pre</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createTextNode </span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">));<br />
</span><span class="default">$body</span><span class="keyword">-&gt;</span><span class="default">appendChild </span><span class="keyword">(</span><span class="default">$pre</span><span class="keyword">);<br />
<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">formatOutput </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// For a nice indentation<br />
</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveXML </span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
All that could be done with only RegExp but I prefer the use of DOM for manipulating documents</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97882""></a>
  <div class="note">
   <strong class="user">support at page2pagepro dot com</strong>
   <a href="#97882" class="date">13-May-2010 10:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have been working extensively with portable Web Servers (i.e.: Uniform Server), and was trying to incorporate XSL, Tomcat and ASP. I decided first to 'modify' the way my php_info() appears, allowing a listing of currently loaded extensions. Hope someone finds this useful.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Get PHP INFO<br />
</span><span class="default">ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">preg_replace </span><span class="keyword">(</span><span class="string">'/&lt;\/div&gt;&lt;\/body&gt;&lt;\/html&gt;/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$phpinfo</span><span class="keyword">);<br />
<br />
</span><span class="comment">//HR<br />
</span><span class="default">$hr </span><span class="keyword">= </span><span class="string">'&lt;div style="width:100%;background:#000; height:10px;margin-bottom:1em;"&gt;&lt;/div&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
<br />
</span><span class="comment">//GET EXT INFO<br />
</span><span class="default">ob_start</span><span class="keyword">();<br />
echo </span><span class="string">'&lt;table border="0" cellpadding="3" width="600"&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;tr class="h"&gt;&lt;td&gt;&lt;a href="<a href="http://www.php.net/" rel="nofollow" target="_blank">http://www.php.net/</a>"&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;img border="0" src="<a href="http://static.php.net/www.php.net/images/php.gif" rel="nofollow" target="_blank">http://static.php.net/www.php.net/images/php.gif</a>" alt="PHP Logo" /&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;/a&gt;&lt;h1 class="p"&gt;PHP Extensions&lt;/h1&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;/table&gt;&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;h2&gt;Overview&lt;/h2&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;table border="0" cellpadding="3" width="600"&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;tr&gt;&lt;td class="e"&gt;Extensions&lt;/td&gt;&lt;td class="v"&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
</span><span class="default">$exts </span><span class="keyword">= array();<br />
foreach (</span><span class="default">get_loaded_extensions</span><span class="keyword">() as </span><span class="default">$ext</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$exts</span><span class="keyword">[] = </span><span class="default">$ext</span><span class="keyword">;<br />
}<br />
echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$exts</span><span class="keyword">).</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;h2&gt;Details&lt;/h2&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;table border="0" cellpadding="3" width="600"&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
foreach (</span><span class="default">$exts </span><span class="keyword">as </span><span class="default">$ext</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'&lt;tr&gt;&lt;td class="e"&gt;'</span><span class="keyword">.</span><span class="default">$ext</span><span class="keyword">.</span><span class="string">'&lt;/td&gt;&lt;td class="v"&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$funcs </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">get_extension_funcs</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">) as </span><span class="default">$func</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$funcs</span><span class="keyword">[] = </span><span class="default">$func</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$funcs</span><span class="keyword">).</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
}<br />
echo </span><span class="string">'&lt;/table&gt;&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
</span><span class="default">$extinfo </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
</span><span class="comment">//OUTPUT<br />
</span><span class="keyword">echo </span><span class="default">$phpinfo</span><span class="keyword">.</span><span class="default">$hr</span><span class="keyword">.</span><span class="default">$extinfo</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87463""></a>
  <div class="note">
   <strong class="user">webmaster at askapache dot com</strong>
   <a href="#87463" class="date">05-Dec-2008 08:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted a simple *function* to convert the output of phpinfo into an array.&nbsp; Here's what I came up with thanks to alot of the previous authors tips, and the source file: php-5.2.6/ext/standard/info.c<br />
<br />
Call this function like phpinfo_array() prints the array, phpinfo_array(1) returns the array for your own processing.<br />
<br />
== Sample Output ==<br />
[PHP Configuration] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [PHP Version] =&gt; 5.2.6<br />
&nbsp; [PHP Egg] =&gt; PHPE9568F34-D428-11d2-A769-00AA001ACF42<br />
&nbsp; [System] =&gt; Linux askapache 2.6.22.19-grsec3<br />
&nbsp; [Build Date] =&gt; Nov 11 2008 13:09:07<br />
&nbsp; [Configure Command] =&gt;&nbsp; ./configure --prefix=/home/grsec/bin/php <br />
&nbsp; [Server API] =&gt; FastCGI<br />
<br />
&nbsp; [IPv6 Support] =&gt; enabled<br />
&nbsp;[Zend Egg] =&gt; PHPE9568F35-D428-11d2-A769-00AA001ACF42<br />
&nbsp; [PHP Credits Egg] =&gt; PHPB8B5F2A0-3C92-11d3-A3A9-4C7B08C10000<br />
&nbsp;)<br />
<br />
[mbstring] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [mbstring.http_input] =&gt; pass<br />
&nbsp; [mbstring.internal_encoding] =&gt; Array<br />
&nbsp;&nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; ISO-8859-1<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; no value<br />
&nbsp;&nbsp;&nbsp; )<br />
<br />
&nbsp; [mbstring.language] =&gt; neutral<br />
&nbsp;&nbsp; )<br />
<br />
[mcrypt] =&gt; Array<br />
&nbsp;(<br />
&nbsp; [Version] =&gt; 3.5.7<br />
&nbsp; [Api No] =&gt; 20031217<br />
&nbsp;)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">phpinfo_array</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){<br />
&nbsp;</span><span class="comment">/* Andale!&nbsp; Andale!&nbsp; Yee-Hah! */<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">(); <br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp;</span><span class="default">$pi </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(<br />
&nbsp;array(</span><span class="string">'#^.*&lt;body&gt;(.*)&lt;/body&gt;.*$#ms'</span><span class="keyword">, </span><span class="string">'#&lt;h2&gt;PHP License&lt;/h2&gt;.*$#ms'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">'#&lt;h1&gt;Configuration&lt;/h1&gt;#'</span><span class="keyword">,&nbsp; </span><span class="string">"#\r?\n#"</span><span class="keyword">, </span><span class="string">"#&lt;/(h1|h2|h3|tr)&gt;#"</span><span class="keyword">, </span><span class="string">'# +&lt;#'</span><span class="keyword">,<br />
&nbsp;</span><span class="string">"#[ \t]+#"</span><span class="keyword">, </span><span class="string">'#&amp;nbsp;#'</span><span class="keyword">, </span><span class="string">'#&nbsp; +#'</span><span class="keyword">, </span><span class="string">'# class=".*?"#'</span><span class="keyword">, </span><span class="string">'%&amp;#039;%'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;tr&gt;(?:.*?)" src="(?:.*?)=(.*?)" alt="PHP Logo" /&gt;&lt;/a&gt;'<br />
&nbsp; </span><span class="keyword">.</span><span class="string">'&lt;h1&gt;PHP Version (.*?)&lt;/h1&gt;(?:\n+?)&lt;/td&gt;&lt;/tr&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;h1&gt;&lt;a href="(?:.*?)\?=(.*?)"&gt;PHP Credits&lt;/a&gt;&lt;/h1&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'#&lt;tr&gt;(?:.*?)" src="(?:.*?)=(.*?)"(?:.*?)Zend Engine (.*?),(?:.*?)&lt;/tr&gt;#'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">"# +#"</span><span class="keyword">, </span><span class="string">'#&lt;tr&gt;#'</span><span class="keyword">, </span><span class="string">'#&lt;/tr&gt;#'</span><span class="keyword">),<br />
&nbsp;array(</span><span class="string">'$1'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">'&lt;/$1&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">'&lt;'</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;h2&gt;PHP Configuration&lt;/h2&gt;'</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">.</span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Version&lt;/td&gt;&lt;td&gt;$2&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">.<br />
&nbsp; </span><span class="string">"\n"</span><span class="keyword">.</span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;PHP Credits Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;Zend Engine&lt;/td&gt;&lt;td&gt;$2&lt;/td&gt;&lt;/tr&gt;' </span><span class="keyword">. </span><span class="string">"\n" </span><span class="keyword">.<br />
&nbsp; </span><span class="string">'&lt;tr&gt;&lt;td&gt;Zend Egg&lt;/td&gt;&lt;td&gt;$1&lt;/td&gt;&lt;/tr&gt;'</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="string">'%S%'</span><span class="keyword">, </span><span class="string">'%E%'</span><span class="keyword">),<br />
&nbsp;</span><span class="default">ob_get_clean</span><span class="keyword">());<br />
<br />
&nbsp;</span><span class="default">$sections </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'&lt;h2&gt;'</span><span class="keyword">, </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$pi</span><span class="keyword">, </span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">));<br />
&nbsp;unset(</span><span class="default">$sections</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
<br />
&nbsp;</span><span class="default">$pi </span><span class="keyword">= array();<br />
&nbsp;foreach(</span><span class="default">$sections </span><span class="keyword">as </span><span class="default">$section</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$section</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$section</span><span class="keyword">, </span><span class="string">'&lt;/h2&gt;'</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br />
&nbsp;&nbsp; </span><span class="string">'#%S%(?:&lt;td&gt;(.*?)&lt;/td&gt;)?(?:&lt;td&gt;(.*?)&lt;/td&gt;)?(?:&lt;td&gt;(.*?)&lt;/td&gt;)?%E%#'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$section</span><span class="keyword">, </span><span class="default">$askapache</span><span class="keyword">, </span><span class="default">PREG_SET_ORDER</span><span class="keyword">);<br />
&nbsp;&nbsp; foreach(</span><span class="default">$askapache </span><span class="keyword">as </span><span class="default">$m</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$pi</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">][</span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]]=(!isset(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])||</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]==</span><span class="default">$m</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])?</span><span class="default">$m</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]:</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;}<br />
<br />
&nbsp;return (</span><span class="default">$return </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) ? </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$pi</span><span class="keyword">) : </span><span class="default">$pi</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87287""></a>
  <div class="note">
   <strong class="user">Phelon Dudras</strong>
   <a href="#87287" class="date">28-Nov-2008 01:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple method to style your own phpinfo() output.<br />
<br />
&lt;style type="text/css"&gt;<br />
#phpinfo {}<br />
#phpinfo pre {}<br />
#phpinfo a:link {}<br />
#phpinfo a:hover {}<br />
#phpinfo table {}<br />
#phpinfo .center {}<br />
#phpinfo .center table {}<br />
#phpinfo .center th {}<br />
#phpinfo td, th {}<br />
#phpinfo h1 {}<br />
#phpinfo h2 {}<br />
#phpinfo .p {}<br />
#phpinfo .e {}<br />
#phpinfo .h {}<br />
#phpinfo .v {}<br />
#phpinfo .vr {}<br />
#phpinfo img {}<br />
#phpinfo hr {}<br />
&lt;/style&gt;<br />
<br />
&lt;div id="phpinfo"&gt;<br />
<span class="default">&lt;?php<br />
<br />
ob_start </span><span class="keyword">() ;<br />
</span><span class="default">phpinfo </span><span class="keyword">() ;<br />
</span><span class="default">$pinfo </span><span class="keyword">= </span><span class="default">ob_get_contents </span><span class="keyword">() ;<br />
</span><span class="default">ob_end_clean </span><span class="keyword">() ;<br />
<br />
</span><span class="comment">// the name attribute "module_Zend Optimizer" of an anker-tag is not xhtml valide, so replace it with "module_Zend_Optimizer"<br />
</span><span class="keyword">echo ( </span><span class="default">str_replace </span><span class="keyword">( </span><span class="string">"module_Zend Optimizer"</span><span class="keyword">, </span><span class="string">"module_Zend_Optimizer"</span><span class="keyword">, </span><span class="default">preg_replace </span><span class="keyword">( </span><span class="string">'%^.*&lt;body&gt;(.*)&lt;/body&gt;.*$%ms'</span><span class="keyword">, </span><span class="string">'$1'</span><span class="keyword">, </span><span class="default">$pinfo </span><span class="keyword">) ) ) ;<br />
<br />
</span><span class="default">?&gt;<br />
</span>&lt;/div&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87214""></a>
  <div class="note">
   <strong class="user">bcofer at gmail dot com</strong>
   <a href="#87214" class="date">24-Nov-2008 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My hosting company doesn't let me edit my php.ini file, but I wanted most of the same values, so I adapted one of the above posts to let me convert the information from phpinfo into a page where so can just copy and paste the info into a new php.ini file.<br />
<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_CONFIGURATION</span><span class="keyword">);<br />
</span><span class="default">$phpinfo </span><span class="keyword">= array(</span><span class="string">'phpinfo' </span><span class="keyword">=&gt; array());<br />
if(</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'#(?:&lt;h2&gt;(?:&lt;a name=".*?"&gt;)?(.*?)(?:&lt;/a&gt;)?&lt;/h2&gt;)|(?:&lt;tr(?: class=".*?")?&gt;&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;)?)?&lt;/tr&gt;)#s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">, </span><span class="default">PREG_SET_ORDER</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$match</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][</span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]] = isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) ? array(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">], </span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) : </span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][] = </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$phpinfo </span><span class="keyword">as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$section</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$section </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$key</span><span class="string"> = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]</span><span class="string">&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$key</span><span class="string"> = </span><span class="default">$val</span><span class="string">&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$val</span><span class="string">&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84259""></a>
  <div class="note">
   <strong class="user">jon at sitewizard dot ca</strong>
   <a href="#84259" class="date">05-Jul-2008 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To extract all of the data from phpinfo into a nested array:<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= array(</span><span class="string">'phpinfo' </span><span class="keyword">=&gt; array());<br />
if(</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'#(?:&lt;h2&gt;(?:&lt;a name=".*?"&gt;)?(.*?)(?:&lt;/a&gt;)?&lt;/h2&gt;)|(?:&lt;tr(?: class=".*?")?&gt;&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;(?:&lt;t[hd](?: class=".*?")?&gt;(.*?)\s*&lt;/t[hd]&gt;)?)?&lt;/tr&gt;)#s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">, </span><span class="default">PREG_SET_ORDER</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$match</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][</span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]] = isset(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) ? array(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">], </span><span class="default">$match</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]) : </span><span class="default">$match</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="default">end</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$phpinfo</span><span class="keyword">))][] = </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span><br />
Some examples of using individual values from the array:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"System: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'phpinfo'</span><span class="keyword">][</span><span class="string">'System'</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Safe Mode: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'PHP Core'</span><span class="keyword">][</span><span class="string">'safe_mode'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"License: </span><span class="keyword">{</span><span class="default">$phpinfo</span><span class="keyword">[</span><span class="string">'PHP License'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
To display everything:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$phpinfo </span><span class="keyword">as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$section</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;h3&gt;</span><span class="default">$name</span><span class="string">&lt;/h3&gt;\n&lt;table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$section </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$key</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$key</span><span class="string">&lt;/td&gt;&lt;td&gt;</span><span class="default">$val</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;tr&gt;&lt;td&gt;</span><span class="default">$val</span><span class="string">&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Note: In order to properly retrieve all of the data, the regular expression matches table headers as well as table data, resulting in 'Local Value' and 'Global Value' showing up as 'Directive' entries.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84000""></a>
  <div class="note">
   <strong class="user">yurkins</strong>
   <a href="#84000" class="date">23-Jun-2008 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
big thanx 2 Mardy dot Hutchinson at gmail dot com<br />
very good!<br />
<br />
some fixes to correct result displaying:<br />
1. we need to trim $matches [1], 'cause there can be empty lines;<br />
2. not bad to remove &lt;body&gt; tag 'cause styles for it not apply correctly...<br />
3. ...and change styles a little (remove "body" selector)<br />
<br />
we need to change two lines:<br />
<br />
<span class="default">&lt;?php<br />
preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?(&lt;body&gt;.*&lt;/body&gt;)%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>to<br />
<span class="default">&lt;?php<br />
preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?&lt;body&gt;(.*?)&lt;/body&gt;%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
and<br />
<br />
<span class="default">&lt;?php<br />
preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] )<br />
</span><span class="default">?&gt;<br />
</span>to<br />
<span class="default">&lt;?php<br />
preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">trim</span><span class="keyword">(</span><span class="default">preg_replace</span><span class="keyword">( </span><span class="string">"/\nbody/"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) )<br />
</span><span class="default">?&gt;<br />
</span><br />
That's all! Now we have a really flexible addition to phpinfo();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77705""></a>
  <div class="note">
   <strong class="user">Mardy dot Hutchinson at gmail dot com</strong>
   <a href="#77705" class="date">09-Sep-2007 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Embedding phpinfo within your page, that already has style information:<br />
<br />
The phpinfo output is wrapped within a &lt;div class='phpinfodisplay'&gt;, and we privatize all the style selectors that phpinfo() creates.<br />
<br />
Yes, we cheat on preparing the selector list.<br />
<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
<br />
</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">'%&lt;style type="text/css"&gt;(.*?)&lt;/style&gt;.*?(&lt;body&gt;.*&lt;/body&gt;)%s'</span><span class="keyword">, </span><span class="default">ob_get_clean</span><span class="keyword">(), </span><span class="default">$matches</span><span class="keyword">);<br />
<br />
</span><span class="comment"># $matches [1]; # Style information<br />
# $matches [2]; # Body information<br />
<br />
</span><span class="keyword">echo </span><span class="string">"&lt;div class='phpinfodisplay'&gt;&lt;style type='text/css'&gt;\n"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">join</span><span class="keyword">( </span><span class="string">"\n"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_map</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">create_function</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'$i'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'return ".phpinfodisplay " . preg_replace( "/,/", ",.phpinfodisplay ", $i );'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_split</span><span class="keyword">( </span><span class="string">'/\n/'</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"&lt;/style&gt;\n"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"\n&lt;/div&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Perhaps one day the phpinfo() function will be modified to output such a safe string on its own.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77692""></a>
  <div class="note">
   <strong class="user">Andrew dot Boag at catalyst dot net dot nz</strong>
   <a href="#77692" class="date">09-Sep-2007 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One note on the above functions for cleaning up the phpinfo() HTML and throwing it into an array data structure. In order to catch all of the info tidbits the preg_match_all has to be tweaked to deal with 2 and 3 column tables.<br />
<br />
I have changed the preg_match_all() here so that the last &lt;td&gt;&lt;/td&gt; is optional<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">parsePHPConfig</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$mtc </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/&lt;tr&gt;&lt;td class="e"&gt;(.*?)&lt;\/td&gt;&lt;td class="v"&gt;(.*?)&lt;\/td&gt;(:?&lt;td class="v"&gt;(.*?)&lt;\/td&gt;)?&lt;\/tr&gt;/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$mtc</span><span class="keyword">,</span><span class="default">PREG_SET_ORDER</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$mtc </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'&lt;i&gt;no value&lt;/i&gt;'</span><span class="keyword">) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77081""></a>
  <div class="note">
   <strong class="user">jo at durchholz dot org</strong>
   <a href="#77081" class="date">14-Aug-2007 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a variant of "print it without headers, but include the style information":<br />
<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">ob_get_clean </span><span class="keyword">();<br />
<br />
</span><span class="default">$matches </span><span class="keyword">= array ();<br />
</span><span class="default">$i </span><span class="keyword">= </span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">'%(&lt;style type="text/css"&gt;.*&lt;/style&gt;).*&lt;body&gt;(.*)&lt;/body&gt;%s'</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />
<br />
print </span><span class="default">$matches </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]; </span><span class="comment"># Style information<br />
</span><span class="keyword">print </span><span class="default">$matches </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]; </span><span class="comment"># Body</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72195""></a>
  <div class="note">
   <strong class="user">dev at cheechtech dot com</strong>
   <a href="#72195" class="date">07-Jan-2007 01:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
same as above for configuration variables<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">parsePHPConfig</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_CONFIGURATION</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$mtc </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/&lt;tr&gt;&lt;td class="e"&gt;(.*?)&lt;\/td&gt;&lt;td class="v"&gt;(.*?)&lt;\/td&gt;&lt;td class="v"&gt;(.*?)&lt;\/td&gt;&lt;\/tr&gt;/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$mtc</span><span class="keyword">,</span><span class="default">PREG_SET_ORDER</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$mtc </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'&lt;i&gt;no value&lt;/i&gt;'</span><span class="keyword">) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70306""></a>
  <div class="note">
   <strong class="user">jb2386 at hotmail dot com</strong>
   <a href="#70306" class="date">10-Oct-2006 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a slight modification to the previous code by "code at adspeed dot com" that extracts the PHP modules as an array. I used it on PHP 4.1.2 and it failed as the &lt;h2&gt; tags also had an align="center". So this update changes the regex for those tags:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/* parse php modules from phpinfo */<br />
<br />
</span><span class="keyword">function </span><span class="default">parsePHPModules</span><span class="keyword">() {<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_MODULES</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;th[^&gt;]*&gt;([^&lt;]+)&lt;\/th&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;td[^&gt;]*&gt;([^&lt;]+)&lt;\/td&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vTmp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;h2[^&gt;]*&gt;[^&lt;]+&lt;\/h2&gt;)/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= array();<br />
&nbsp;for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$vTmp</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/&lt;h2[^&gt;]*&gt;([^&lt;]+)&lt;\/h2&gt;/'</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$vMat</span><span class="keyword">)) {<br />
&nbsp;&nbsp; </span><span class="default">$vName </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$vTmp2 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; foreach (</span><span class="default">$vTmp2 </span><span class="keyword">AS </span><span class="default">$vOne</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$vPat </span><span class="keyword">= </span><span class="string">'&lt;info&gt;([^&lt;]+)&lt;\/info&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$vPat3 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$vPat2 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat3</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 3cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = array(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]),</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]));<br />
&nbsp;&nbsp; } elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat2</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 2cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp;}<br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69556""></a>
  <div class="note">
   <strong class="user">php at SPAMMENOT dot tof2k dot com</strong>
   <a href="#69556" class="date">10-Sep-2006 03:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To obtain a phpinfo without headers (and css) :<br />
<br />
<span class="default">&lt;?php<br />
ob_start</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">phpinfo</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="default">ob_end_clean</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
</span><span class="default">$info </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'%^.*&lt;body&gt;(.*)&lt;/body&gt;.*$%ms'</span><span class="keyword">, </span><span class="string">'$1'</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
You can then style your tables &amp; headings :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59573""></a>
  <div class="note">
   <strong class="user">code  at  adspeed dot com</strong>
   <a href="#59573" class="date">09-Dec-2005 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function parses the phpinfo output to get details about a PHP module. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/** parse php modules from phpinfo */<br />
</span><span class="keyword">function </span><span class="default">parsePHPModules</span><span class="keyword">() {<br />
&nbsp;</span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;</span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_MODULES</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
&nbsp;</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">'&lt;h2&gt;&lt;th&gt;&lt;td&gt;'</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;th[^&gt;]*&gt;([^&lt;]+)&lt;\/th&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/&lt;td[^&gt;]*&gt;([^&lt;]+)&lt;\/td&gt;/'</span><span class="keyword">,</span><span class="string">"&lt;info&gt;\\1&lt;/info&gt;"</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vTmp </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;h2&gt;[^&lt;]+&lt;\/h2&gt;)/'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= array();<br />
&nbsp;for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$vTmp</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/&lt;h2&gt;([^&lt;]+)&lt;\/h2&gt;/'</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$vMat</span><span class="keyword">)) {<br />
&nbsp;&nbsp; </span><span class="default">$vName </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; </span><span class="default">$vTmp2 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$vTmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; foreach (</span><span class="default">$vTmp2 </span><span class="keyword">AS </span><span class="default">$vOne</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat </span><span class="keyword">= </span><span class="string">'&lt;info&gt;([^&lt;]+)&lt;\/info&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat3 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vPat2 </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$vPat</span><span class="string">\s*</span><span class="default">$vPat</span><span class="string">/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat3</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 3cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = array(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]),</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])); <br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$vPat2</span><span class="keyword">,</span><span class="default">$vOne</span><span class="keyword">,</span><span class="default">$vMat</span><span class="keyword">)) { </span><span class="comment">// 2cols<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$vName</span><span class="keyword">][</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$vMat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); <br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp; } <br />
&nbsp; } <br />
&nbsp;} <br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Sample Output:<br />
[gd] =&gt; Array<br />
(<br />
&nbsp; [GD Support] =&gt; enabled<br />
&nbsp; [GD Version] =&gt; bundled (2.0.28 compatible)<br />
&nbsp; [FreeType Support] =&gt; enabled<br />
&nbsp; [FreeType Linkage] =&gt; with freetype<br />
&nbsp; [FreeType Version] =&gt; 2.1.9<br />
&nbsp; [T1Lib Support] =&gt; enabled<br />
&nbsp; [GIF Read Support] =&gt; enabled<br />
&nbsp; [GIF Create Support] =&gt; enabled<br />
&nbsp; [JPG Support] =&gt; enabled<br />
&nbsp; [PNG Support] =&gt; enabled<br />
&nbsp; [WBMP Support] =&gt; enabled<br />
&nbsp; [XBM Support] =&gt; enabled<br />
)<br />
<br />
[date] =&gt; Array (<br />
&nbsp; [date/time support] =&gt; enabled<br />
&nbsp; [Timezone Database Version] =&gt; 2005.14<br />
&nbsp; [Timezone Database] =&gt; internal<br />
&nbsp; [Default timezone] =&gt; America/Los_Angeles<br />
&nbsp; [Directive] =&gt; Array (<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; Local Value<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; Master Value<br />
&nbsp; )<br />
&nbsp; [date.timezone] =&gt; Array (<br />
&nbsp;&nbsp; &nbsp; [0] =&gt; no value<br />
&nbsp;&nbsp; &nbsp; [1] =&gt; no value<br />
&nbsp; )<br />
&nbsp;)<br />
<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/** get a module setting */<br />
</span><span class="keyword">function </span><span class="default">getModuleSetting</span><span class="keyword">(</span><span class="default">$pModuleName</span><span class="keyword">,</span><span class="default">$pSetting</span><span class="keyword">) {<br />
&nbsp;</span><span class="default">$vModules </span><span class="keyword">= </span><span class="default">parsePHPModules</span><span class="keyword">();<br />
&nbsp;return </span><span class="default">$vModules</span><span class="keyword">[</span><span class="default">$pModuleName</span><span class="keyword">][</span><span class="default">$pSetting</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example: getModuleSetting('gd','GD Version'); returns "bundled (2.0.28 compatible)"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57532""></a>
  <div class="note">
   <strong class="user">Helpful Harry</strong>
   <a href="#57532" class="date">06-Oct-2005 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
check out this cool and fantastic colourful phpinfo()!<br />
<br />
<span class="default">&lt;?php<br />
<br />
ob_start</span><span class="keyword">();<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />
</span><span class="default">ob_end_clean</span><span class="keyword">();<br />
<br />
</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/#[0-9a-fA-F]{6}/'</span><span class="keyword">, </span><span class="default">$phpinfo</span><span class="keyword">, </span><span class="default">$rawmatches</span><span class="keyword">);<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$rawmatches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; </span><span class="default">$matches</span><span class="keyword">[] = </span><span class="default">$rawmatches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br />
</span><span class="default">$matches </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">);<br />
<br />
</span><span class="default">$hexvalue </span><span class="keyword">= </span><span class="string">'0123456789abcdef'</span><span class="keyword">;<br />
<br />
</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
foreach (</span><span class="default">$matches </span><span class="keyword">as </span><span class="default">$match</span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="string">'#'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$searches</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">$match</span><span class="keyword">;<br />
&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">6</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hexvalue</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$replacements</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">++] = </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp; unset(</span><span class="default">$r</span><span class="keyword">);<br />
}<br />
<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$searches</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; </span><span class="default">$phpinfo </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$searches</span><span class="keyword">, </span><span class="default">$replacements</span><span class="keyword">, </span><span class="default">$phpinfo</span><span class="keyword">);<br />
echo </span><span class="default">$phpinfo</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.phpcredits.html">phpcredits</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.phpversion.html">phpversion</a></div>
 <div class="up"><a href="ref.info.html">PHP Options/Info Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
