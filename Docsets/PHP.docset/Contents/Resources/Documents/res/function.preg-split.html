<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Split string by a regular expression</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.preg-replace.html">preg_replace</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="book.regex.html">POSIX Regex</a></div>
 <div class="up"><a href="ref.pcre.html">PCRE Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.preg-split" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">preg_split</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">preg_split</span> &mdash; <span class="dc-title">Split string by a regular expression</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.preg-split-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><b>preg_split</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$pattern</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$subject</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$limit</tt><span class="initializer"> = -1</span></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$flags</tt><span class="initializer"> = 0</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Split the given string by a regular expression.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.preg-split-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">pattern</tt></i></span>
     <dd>

      <p class="para">
       The pattern to search for, as a string.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">subject</tt></i></span>
     <dd>

      <p class="para">
       The input string.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">limit</tt></i></span>
     <dd>

      <p class="para">
       If specified, then only substrings up to <i><tt class="parameter">limit</tt></i>
       are returned with the rest of the string being placed in the last
       substring.  A <i><tt class="parameter">limit</tt></i> of -1, 0 or <b><tt>NULL</tt></b> means &quot;no limit&quot;
       and, as is standard across PHP, you can use <b><tt>NULL</tt></b> to skip to the 
       <i><tt class="parameter">flags</tt></i> parameter.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">flags</tt></i></span>
     <dd>

      <p class="para">
       <i><tt class="parameter">flags</tt></i> can be any combination of the following
       flags (combined with the <i>|</i> bitwise operator):
       <dl>

        <dt>

         <span class="term"><b><tt>PREG_SPLIT_NO_EMPTY</tt></b></span>
         <dd>

          <span class="simpara">
          If this flag is set, only non-empty pieces will be returned by
          <span class="function"><b>preg_split()</b></span>.
          </span>
         </dd>

        </dt>

        <dt>

         <span class="term"><b><tt>PREG_SPLIT_DELIM_CAPTURE</tt></b></span>
         <dd>

          <span class="simpara">
          If this flag is set, parenthesized expression in the delimiter pattern
          will be captured and returned as well.
          </span>
         </dd>

        </dt>

        <dt>

         <span class="term"><b><tt>PREG_SPLIT_OFFSET_CAPTURE</tt></b></span>
         <dd>

          <p class="para">
           If this flag is set, for every occurring match the appendant string
           offset will also be returned. Note that this changes the return
           value in an array where every element is an array consisting of the
           matched string at offset <i>0</i> and its string offset
           into <i><tt class="parameter">subject</tt></i> at offset <i>1</i>.
          </p>
         </dd>

        </dt>

       </dl>

      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.preg-split-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array containing substrings of <i><tt class="parameter">subject</tt></i>
   split along boundaries matched by <i><tt class="parameter">pattern</tt></i>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.preg-split-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.3.0</td>
       <td align="left">
        The <b><tt>PREG_SPLIT_OFFSET_CAPTURE</tt></b> was added
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">4.0.5</td>
       <td align="left">
        The <b><tt>PREG_SPLIT_DELIM_CAPTURE</tt></b> was added
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.preg-split-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4350">
    <p><b>Example #1 <span class="function"><b>preg_split()</b></span> example : Get the parts of a search string</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;split&nbsp;the&nbsp;phrase&nbsp;by&nbsp;any&nbsp;number&nbsp;of&nbsp;commas&nbsp;or&nbsp;space&nbsp;characters,<br />//&nbsp;which&nbsp;include&nbsp;"&nbsp;",&nbsp;\r,&nbsp;\t,&nbsp;\n&nbsp;and&nbsp;\f<br /></span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">"/[\s,]+/"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"hypertext&nbsp;language,&nbsp;programming"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4351">
    <p><b>Example #2 Splitting a string into component characters</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'string'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$chars&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'//'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$chars</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4352">
    <p><b>Example #3 Splitting a string into matches and their offsets</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hypertext&nbsp;language&nbsp;programming'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$chars&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/&nbsp;/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PREG_SPLIT_OFFSET_CAPTURE</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$chars</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; Array
        (
            [0] =&gt; hypertext
            [1] =&gt; 0
        )

    [1] =&gt; Array
        (
            [0] =&gt; language
            [1] =&gt; 10
        )

    [2] =&gt; Array
        (
            [0] =&gt; programming
            [1] =&gt; 19
        )

)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.preg-split-notes">
  <h3 class="title">Notes</h3>
  <div class="tip"><b class="tip">Tip</b>
   <p class="para">
    If you don&#039;t need the power of regular expressions, you can choose
    faster (albeit simpler) alternatives like <span class="function"><a href="function.explode.html" class="function">explode()</a></span>
    or <span class="function"><a href="function.str-split.html" class="function">str_split()</a></span>.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.preg-split-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="pcre.pattern.html" class="link">PCRE Patterns</a></li>
    <li class="member"><span class="function"><a href="function.implode.html" class="function" rel="rdfs-seeAlso">implode()</a> - Join array elements with a string</span></li>
    <li class="member"><span class="function"><a href="function.preg-match.html" class="function" rel="rdfs-seeAlso">preg_match()</a> - Perform a regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.preg-match-all.html" class="function" rel="rdfs-seeAlso">preg_match_all()</a> - Perform a global regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.preg-replace.html" class="function" rel="rdfs-seeAlso">preg_replace()</a> - Perform a regular expression search and replace</span></li>
    <li class="member"><span class="function"><a href="function.preg-last-error.html" class="function" rel="rdfs-seeAlso">preg_last_error()</a> - Returns the error code of the last PCRE regex execution</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105505""></a>
  <div class="note">
   <strong class="user">w o z 2 2   a t  y a h o o  d o t  c o m</strong>
   <a href="#105505" class="date">23-Aug-2011 03:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PREG_SPLIT_OFFSET_CAPTURE should be maintained for UTF-8 characters, because it produces wrong results as if it is using strlen() internally, instead of using mb_strlen(), which is the right one...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104618""></a>
  <div class="note">
   <strong class="user">david dot binovec at gmail dot com</strong>
   <a href="#104618" class="date">26-Jun-2011 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Limit = 1 may be confusing. The important thing is that in case of limit equals to 1 will produce only ONE substring. Ergo the only one substring will be the first one as well as the last one. Tnat the rest of the string (after the first delimiter) will be placed to the last substring. But last is the first and only one.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$output </span><span class="keyword">= </span><span class="default">$preg_split</span><span class="keyword">(</span><span class="string">'(/ /)'</span><span class="keyword">, </span><span class="string">'1 2 3 4 5 6 7 8'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">); <br />
<br />
echo </span><span class="default">$output</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] </span><span class="comment">//will return whole string!;<br />
<br />
</span><span class="default">$output </span><span class="keyword">= </span><span class="default">$preg_split</span><span class="keyword">(</span><span class="string">'(/ /)'</span><span class="keyword">, </span><span class="string">'1 2 3 4 5 6 7 8'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); <br />
<br />
echo </span><span class="default">$output</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] </span><span class="comment">//will return 1;<br />
</span><span class="keyword">echo </span><span class="default">$output</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] </span><span class="comment">//will return '2 3 4 5 6 7 8';<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104602""></a>
  <div class="note">
   <strong class="user">eric at clarinova dot com</strong>
   <a href="#104602" class="date">24-Jun-2011 03:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another way to split a CamelCase string, which is a simpler expression than the one using lookaheads and lookbehinds: <br />
<br />
preg_split('/([[:upper:]][[:lower:]]+)/', $last, null, PREG_SPLIT_DELIM_CAPTURE|PREG_SPLIT_NO_EMPTY)<br />
<br />
It makes the entire CamelCased word the delimiter, then returns the delimiters (PREG_SPLIT_DELIM_CAPTURE) and omits the empty values between the delimiters (PREG_SPLIT_NO_EMPTY)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101109""></a>
  <div class="note">
   <strong class="user">PhoneixSegovia at gmail dot com</strong>
   <a href="#101109" class="date">26-Nov-2010 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You must be caution when using lookbehind to a variable match.<br />
For example:<br />
'/(?&lt;!\\\)\r?\n)/'<br />
&nbsp;to match a new line when not \ is before it don't go as spected as it match \r as the lookbehind (becouse isn't a \) and is optional before \n.<br />
<br />
You must use this for example:<br />
'/((?&lt;!\\\|\r)\n)|((?&lt;!\\\)\r\n)/'<br />
That match a alone \n (not preceded by \r or \) or a \r\n not preceded by a \.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100729""></a>
  <div class="note">
   <strong class="user">Daniel Schroeder</strong>
   <a href="#100729" class="date">03-Nov-2010 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to split by a char, but want to ignore that char in case it is escaped, use a lookbehind assertion.<br />
<br />
In this example a string will be split by ":" but "\:" will be ignored:<br />
<br />
<span class="default">&lt;?php<br />
$string</span><span class="keyword">=</span><span class="string">'a:b:c\:d'</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">=</span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'#(?&lt;!\\\)\:#'</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Results into:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; c\:d<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96567""></a>
  <div class="note">
   <strong class="user">sergei dot garrison at gmail dot com</strong>
   <a href="#96567" class="date">05-Mar-2010 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to split a list of "tags" while allowing for user error, you'll find this more useful than the manual's first example.<br />
<br />
<span class="default">&lt;?php<br />
$string </span><span class="keyword">= </span><span class="string">'one, two,three,&nbsp; &nbsp;&nbsp; four&nbsp; , five,six seven'</span><span class="keyword">;<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/[\s]*[,][\s]*/"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="comment">// Array ( [0] =&gt; one [1] =&gt; two [2] =&gt; three [3] =&gt; four [4] =&gt; five [5] =&gt; six seven )<br />
</span><span class="default">?&gt;<br />
</span><br />
This splits the string *only* by commas, regardless of how many spaces there are on either side of any comma.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95924""></a>
  <div class="note">
   <strong class="user">nesbert at gmail dot com</strong>
   <a href="#95924" class="date">28-Jan-2010 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hope this helps someone...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Split a string into groups of words with a line no longer than $max<br />
&nbsp;* characters.<br />
&nbsp;*<br />
&nbsp;* @param string $string<br />
&nbsp;* @param integer $max<br />
&nbsp;* @return array<br />
&nbsp;**/<br />
</span><span class="keyword">function </span><span class="default">split_words</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$words </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/\s/'</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$lines </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$words </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$word</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$line </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$word</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">&lt;= </span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">.= </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else if (</span><span class="default">$length </span><span class="keyword">&gt; </span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!empty(</span><span class="default">$line</span><span class="keyword">)) </span><span class="default">$lines</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lines</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">) . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$lines</span><span class="keyword">[] = (</span><span class="default">$line </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">)) ? </span><span class="default">$line </span><span class="keyword">: </span><span class="default">$word</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$lines</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94238""></a>
  <div class="note">
   <strong class="user">jan dot sochor at icebolt dot info</strong>
   <a href="#94238" class="date">24-Oct-2009 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes PREG_SPLIT_DELIM_CAPTURE does strange results.<br />
<br />
<span class="default">&lt;?php<br />
$content </span><span class="keyword">= </span><span class="string">'&lt;strong&gt;Lorem ipsum dolor&lt;/strong&gt; sit &lt;img src="test.png" /&gt;amet &lt;span class="test" style="color:red"&gt;consec&lt;i&gt;tet&lt;/i&gt;uer&lt;/span&gt;.'</span><span class="keyword">;<br />
</span><span class="default">$chars </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/&lt;[^&gt;]*[^\/]&gt;/i'</span><span class="keyword">, </span><span class="default">$content</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY </span><span class="keyword">| </span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Produces:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Lorem ipsum dolor<br />
&nbsp;&nbsp;&nbsp; [1] =&gt;&nbsp; sit &lt;img src="test.png" /&gt;amet <br />
&nbsp;&nbsp;&nbsp; [2] =&gt; consec<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; tet<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; uer<br />
)<br />
<br />
So that the delimiter patterns are missing. If you wanna get these patters remember to use parentheses.<br />
<br />
<span class="default">&lt;?php<br />
$chars </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;[^&gt;]*[^\/]&gt;)/i'</span><span class="keyword">, </span><span class="default">$content</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY </span><span class="keyword">| </span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">); </span><span class="comment">//parentheses added<br />
</span><span class="default">?&gt;<br />
</span>Produces:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; &lt;strong&gt;<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Lorem ipsum dolor<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; &lt;/strong&gt;<br />
&nbsp;&nbsp;&nbsp; [3] =&gt;&nbsp; sit &lt;img src="test.png" /&gt;amet <br />
&nbsp;&nbsp;&nbsp; [4] =&gt; &lt;span class="test" style="color:red"&gt;<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; consec<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; &lt;i&gt;<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; tet<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; &lt;/i&gt;<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; uer<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; &lt;/span&gt;<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; .<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93907""></a>
  <div class="note">
   <strong class="user">php at dmi dot me dot uk</strong>
   <a href="#93907" class="date">06-Oct-2009 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To split a camel-cased string using preg_split() with lookaheads and lookbehinds:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">splitCamelCase</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) {<br />
&nbsp; return </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(?&lt;=\\w)(?=[A-Z])/'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93718""></a>
  <div class="note">
   <strong class="user">Peter -the pete- de Pijd</strong>
   <a href="#93718" class="date">24-Sep-2009 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use something like explode(PHP_EOL, $string) but for all combinations of \r and \n, try this one:<br />
<br />
<span class="default">&lt;?php<br />
$text </span><span class="keyword">= </span><span class="string">"A\nB\rC\r\nD\r\rE\n\nF"</span><span class="keyword">;<br />
</span><span class="default">$texts </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/((\r(?!\n))|((?&lt;!\r)\n)|(\r\n))/"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
result:<br />
array("A", "B", "C", "D", "", "E", "", "F");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92632""></a>
  <div class="note">
   <strong class="user">buzoganylaszlo at yahoo dot com</strong>
   <a href="#92632" class="date">01-Aug-2009 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Extending m.timmermans's solution, you can use the following code as a search expression parser:<br />
<br />
<span class="default">&lt;?php<br />
$search_expression </span><span class="keyword">= </span><span class="string">"apple bear \"Tom Cruise\" or 'Mickey Mouse' another word"</span><span class="keyword">;<br />
</span><span class="default">$words </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/[\s,]*\\\"([^\\\"]+)\\\"[\s,]*|" </span><span class="keyword">. </span><span class="string">"[\s,]*'([^']+)'[\s,]*|" </span><span class="keyword">. </span><span class="string">"[\s,]+/"</span><span class="keyword">, </span><span class="default">$search_expression</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY </span><span class="keyword">| </span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The result will be:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; apple<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; bear<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Tom Cruise<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; or<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; Mickey Mouse<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; another<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; word<br />
)<br />
<br />
1. Accepted delimiters: white spaces (space, tab, new line etc.) and commas.<br />
<br />
2. You can use either simple (') or double (") quotes for expressions which contains more than one word.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91176""></a>
  <div class="note">
   <strong class="user">wf</strong>
   <a href="#91176" class="date">28-May-2009 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Spacing out your CamelCase using preg_replace:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">spacify</span><span class="keyword">(</span><span class="default">$camel</span><span class="keyword">, </span><span class="default">$glue </span><span class="keyword">= </span><span class="string">' '</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">preg_replace</span><span class="keyword">( </span><span class="string">'/([a-z0-9])([A-Z])/'</span><span class="keyword">, </span><span class="string">"$1</span><span class="default">$glue</span><span class="string">$2"</span><span class="keyword">, </span><span class="default">$camel </span><span class="keyword">);<br />
}<br />
<br />
echo </span><span class="default">spacify</span><span class="keyword">(</span><span class="string">'CamelCaseWords'</span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 'Camel Case Words'<br />
</span><span class="keyword">echo </span><span class="default">spacify</span><span class="keyword">(</span><span class="string">'camelCaseWords'</span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 'camel Case Words'<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91142""></a>
  <div class="note">
   <strong class="user">chris AT cmbuckley DOT co DOT uk</strong>
   <a href="#91142" class="date">27-May-2009 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a helpful function to space out your CamelCase using preg_split:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">spacify</span><span class="keyword">(</span><span class="default">$camel</span><span class="keyword">, </span><span class="default">$glue </span><span class="keyword">= </span><span class="string">' '</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$camel</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] . </span><span class="default">substr</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'implode'</span><span class="keyword">, </span><span class="default">array_chunk</span><span class="keyword">(</span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/([A-Z])/'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ucfirst</span><span class="keyword">(</span><span class="default">$camel</span><span class="keyword">), -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY </span><span class="keyword">| </span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">))), </span><span class="default">1</span><span class="keyword">);<br />
}<br />
<br />
echo </span><span class="default">spacify</span><span class="keyword">(</span><span class="string">'CamelCaseWords'</span><span class="keyword">); </span><span class="comment">// 'Camel Case Words'<br />
</span><span class="keyword">echo </span><span class="default">spacify</span><span class="keyword">(</span><span class="string">'camelCaseWords'</span><span class="keyword">); </span><span class="comment">// 'camel Case Words'<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91067""></a>
  <div class="note">
   <strong class="user">kenorb at gmail dot com</strong>
   <a href="#91067" class="date">23-May-2009 07:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need convert function arguments without default default values and references, you can try this code:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $func_args </span><span class="keyword">= </span><span class="string">'$node, $op, $a3 = NULL, $form = array(), $a4 = NULL'<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$call_arg </span><span class="keyword">= </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'@(?&lt;func_arg&gt;\$[^,= ]+)@i'</span><span class="keyword">, </span><span class="default">$func_args</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$call_arg </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'func_arg'</span><span class="keyword">]);<br />
</span><span class="default">?&gt;<br />
</span>Result: string = "$node,$op,$a3,$form,$a4"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89907""></a>
  <div class="note">
   <strong class="user">bit_kahuna at yahoo dot com</strong>
   <a href="#89907" class="date">27-Mar-2009 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
how to display a shortened text string with an elipsis, but on word boundaries only.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">truncate</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">70</span><span class="keyword">, </span><span class="default">$rep </span><span class="keyword">= </span><span class="string">'...'</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$words </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/[\s]+/"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newstring </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numwords </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$words </span><span class="keyword">as </span><span class="default">$word</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">) + </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">)) &lt; </span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring </span><span class="keyword">.= </span><span class="string">' '</span><span class="keyword">.</span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ++</span><span class="default">$numwords</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$numwords </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring </span><span class="keyword">.= </span><span class="default">$rep</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$newstring</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
hope this helps someone!&nbsp; thanks for all the help from everyone else!!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89649""></a>
  <div class="note">
   <strong class="user">csaba at alum dot mit dot edu</strong>
   <a href="#89649" class="date">17-Mar-2009 01:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the task is too complicated for preg_split, preg_match_all might come in handy, since preg_split is essentially a special case.<br />
<br />
I wanted to split a string on a certain character (asterisk), but only if it wasn't escaped (by a preceding backslash).&nbsp; Thus, I should ensure an even number of backslashes before any asterisk meant as a splitter.&nbsp; Look-behind in a regular expression wouldn't work since the length of the preceding backslash sequence can't be fixed.&nbsp; So I turned to preg_match_all:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// split a string at unescaped asterisks<br />
// where backslash is the escape character<br />
</span><span class="default">$splitter </span><span class="keyword">= </span><span class="string">"/\\*((?:[^\\\\*]|\\\\.)*)/"</span><span class="keyword">;<br />
</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$splitter</span><span class="keyword">, </span><span class="string">"*</span><span class="default">$string</span><span class="string">"</span><span class="keyword">, </span><span class="default">$aPieces</span><span class="keyword">, </span><span class="default">PREG_PATTERN_ORDER</span><span class="keyword">);<br />
</span><span class="default">$aPieces </span><span class="keyword">= </span><span class="default">$aPieces</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
</span><span class="comment">// $aPieces now contains the exploded string<br />
// and unescaping can be safely done on each piece<br />
</span><span class="keyword">foreach (</span><span class="default">$aPieces </span><span class="keyword">as </span><span class="default">$idx</span><span class="keyword">=&gt;</span><span class="default">$piece</span><span class="keyword">)<br />
&nbsp; </span><span class="default">$aPieces</span><span class="keyword">[</span><span class="default">$idx</span><span class="keyword">] = </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/\\\\(.)/s"</span><span class="keyword">, </span><span class="string">"$1"</span><span class="keyword">, </span><span class="default">$piece</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84512""></a>
  <div class="note">
   <strong class="user">anajilly</strong>
   <a href="#84512" class="date">17-Jul-2008 01:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$s </span><span class="keyword">= </span><span class="string">'&lt;p&gt;bleh blah&lt;/p&gt;&lt;p style="one"&gt;one two three&lt;/p&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">$htmlbits </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'/(&lt;p( style="[-:a-z0-9 ]+")?&gt;|&lt;\/p&gt;)/i'</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_DELIM_CAPTURE</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$htmlbits</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt;<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; &lt;p&gt;<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; bleh blah<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; &lt;/p&gt;<br />
&nbsp;&nbsp;&nbsp; [4] =&gt;<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; &lt;p style="one"&gt;<br />
&nbsp;&nbsp;&nbsp; [6] =&gt;&nbsp; style="one"<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; one two three<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; &lt;/p&gt;<br />
&nbsp;&nbsp;&nbsp; [9] =&gt;<br />
)<br />
<br />
two interesting bits:<br />
<br />
1. When using PREG_SPLIT_DELIM_CAPTURE, if you use more than one pair of parentheses, the result array can have members representing all pairs.&nbsp; See array indexes 5 and 6 to see two adjacent delimiter results in which the second is a subset match of the first.<br />
<br />
2. If a parenthesised sub-expression is made optional by a following question mark (ex: '/abc (optional subregex)?/') some split delimiters may be captured in the result while others are not.&nbsp; See array indexes 1 and 2 to see an instance where the overall match succeeded and returned a delimiter while the optional sub-expression '( style="[-:a-z0-9 ]+")?' did not match, and did not return a delimiter.&nbsp; This means it's possible to have a result with an unpredictable number of delimiters in the result array.<br />
<br />
This second aspect is true irrespective of the number of pairs of parentheses in the regex.&nbsp; This means: in a regular expression with a single optional parenthesised sub-expression, the overall expression can match without generating a corresponding delimiter in the result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83512""></a>
  <div class="note">
   <strong class="user">m dot timmermans at home dot NOSPAM dot nl</strong>
   <a href="#83512" class="date">29-May-2008 03:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For people who want to use the double quote to group words/fields, kind of like CSV does, you can use the following expression:<br />
<span class="default">&lt;?php<br />
$keywords </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">( </span><span class="string">"/[\s,]*\\\"([^\\\"]+)\\\"[\s,]*|[\s,]+/"</span><span class="keyword">, </span><span class="string">"textline with, commas and \"quoted text\" inserted"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">PREG_SPLIT_DELIM_CAPTURE </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Which will result in:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; textline<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; with<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; commas<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; and<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; quoted text<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; inserted<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77580""></a>
  <div class="note">
   <strong class="user">crispytwo at yahoo dot com</strong>
   <a href="#77580" class="date">04-Sep-2007 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was having trouble getting the PREG_SPLIT_DELIM_CAPTURE flag to work because I missed reading the "parenthesized expression" in the documentation :-(&nbsp; <br />
<br />
So the pattern should look like:<br />
/(A)/<br />
not just <br />
/A/<br />
and it works as described/expected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51209""></a>
  <div class="note">
   <strong class="user">Steve</strong>
   <a href="#51209" class="date">23-Mar-2005 08:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
preg_split() behaves differently from perl's split() if the string ends with a delimiter. This perl snippet will print 5:<br />
<br />
my @a = split(/ /, "a b c d e ");<br />
print scalar @a;<br />
<br />
The corresponding php code prints 6:<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">print </span><span class="default">count</span><span class="keyword">(</span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"/ /"</span><span class="keyword">, </span><span class="string">"a b c d e "</span><span class="keyword">)); </span><span class="default">?&gt;<br />
</span><br />
This is not necessarily a bug (nowhere does the documentation say that preg_split() behaves the same as perl's split()) but it might surprise perl programmers.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45982""></a>
  <div class="note">
   <strong class="user">jetsoft at iinet.net.au</strong>
   <a href="#45982" class="date">25-Sep-2004 08:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To clarify the "limit" parameter and the PREG_SPLIT_DELIM_CAPTURE option,<br />
<br />
<span class="default">&lt;?php<br />
$preg_split</span><span class="keyword">(</span><span class="string">'(/ /)'</span><span class="keyword">, </span><span class="string">'1 2 3 4 5 6 7 8'</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">,</span><span class="default">PREG_SPLIT_DELIM_CAPTURE </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
returns:<br />
<br />
('1', ' ', '2', ' ' , '3', ' ', '4 5 6 7 8')<br />
<br />
So you actually get 7 array items not 4</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21861""></a>
  <div class="note">
   <strong class="user">dave at codewhore dot org</strong>
   <a href="#21861" class="date">29-May-2002 12:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The above description for PREG_SPLIT_OFFSET_CAPTURE may be a bit confusing.<br />
<br />
When the flag is or'd into the 'flags' parameter of preg_split, each match is returned in the form of a two-element array. For each of the two-element arrays, the first element is the matched string, while the second is the match's zero-based offset in the input string.<br />
<br />
For example, if you called preg_split like this:<br />
<br />
preg_split('/foo/', 'matchfoomatch', -1, PREG_SPLIT_OFFSET_CAPTURE);<br />
<br />
it would return an array of the form:<br />
<br />
Array(<br />
&nbsp; [0] =&gt; Array([0] =&gt; "match", [1] =&gt; 0),<br />
&nbsp; [1] =&gt; Array([1] =&gt; "match", [1] =&gt; 8)<br />
)<br />
<br />
Note that or'ing in PREG_DELIM_CAPTURE along with PREG_SPLIT_OFFSET_CAPTURE works as well.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.preg-replace.html">preg_replace</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="book.regex.html">POSIX Regex</a></div>
 <div class="up"><a href="ref.pcre.html">PCRE Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
