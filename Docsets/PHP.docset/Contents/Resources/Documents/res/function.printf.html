<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Output a formatted string</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.print.html">print</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.quoted-printable-decode.html">quoted_printable_decode</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.printf" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">printf</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">printf</span> &mdash; <span class="dc-title">Output a formatted string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.printf-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>printf</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$format</tt></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$args</tt></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$...</tt></span>
  ]] )</div>

  <p class="simpara">
   Produces output according to <i><tt class="parameter">format</tt></i>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.printf-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">format</tt></i></span>
     <dd>

      <p class="para">
       See <span class="function"><a href="function.sprintf.html" class="function">sprintf()</a></span> for a description of
       <i><tt class="parameter">format</tt></i>.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">args</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">...</tt></i></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.printf-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the length of the outputted string.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.printf-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.print.html" class="function" rel="rdfs-seeAlso">print()</a> - Output a string</span></li>
    <li class="member"><span class="function"><a href="function.sprintf.html" class="function" rel="rdfs-seeAlso">sprintf()</a> - Return a formatted string</span></li>
    <li class="member"><span class="function"><a href="function.vprintf.html" class="function" rel="rdfs-seeAlso">vprintf()</a> - Output a formatted string</span></li>
    <li class="member"><span class="function"><a href="function.sscanf.html" class="function" rel="rdfs-seeAlso">sscanf()</a> - Parses input from a string according to a format</span></li>
    <li class="member"><span class="function"><a href="function.fscanf.html" class="function" rel="rdfs-seeAlso">fscanf()</a> - Parses input from a file according to a format</span></li>
    <li class="member"><span class="function"><a href="function.flush.html" class="function" rel="rdfs-seeAlso">flush()</a> - Flush the output buffer</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="74215""></a>
  <div class="note">
   <strong class="user">kalai_msc29 at rediffmail dot com</strong>
   <a href="#74215" class="date">29-Mar-2007 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//If you want to make many Hidden fields you can use the function <br />
//You can pass the values as array value,This will help you, when you are going to post many hiddend fields:-<br />
function MakeHidden($ArrValues)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; global $dearvar;<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $dearvar; <br />
&nbsp;&nbsp; &nbsp; &nbsp; if(is_array($ArrValues)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($ArrValues as $key=&gt;$values)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo $MakeHTML = "&lt;input type='hidden' name='$values' value='$values'&gt;";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo $MakeHTML = "&lt;input type='hidden' name='$ArrValues' value='$ArrValues'&gt;";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; return $MakeHTML;<br />
}<br />
<br />
//example:-<br />
<br />
MakeHidden(array("value1","value2","value3"));<br />
<br />
//OutPut :-<br />
<br />
&lt;input type="hidden" value="value1" name="value1"/&gt;<br />
&lt;input type="hidden" value="value2" name="value2"/&gt;<br />
&lt;input type="hidden" value="value3" name="value3"/&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63143""></a>
  <div class="note">
   <strong class="user">php at iain dot nl</strong>
   <a href="#63143" class="date">14-Mar-2006 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for arrays, there is vprintf();<br />
<br />
alternatively, if you have it all in one array (including the format), this will do the trick:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$goodevil </span><span class="keyword">= array (</span><span class="string">'There is a difference between %s and %s'</span><span class="keyword">, </span><span class="string">'good'</span><span class="keyword">, </span><span class="string">'evil'</span><span class="keyword">);<br />
echo </span><span class="default">vprintf</span><span class="keyword">(</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$goodevil</span><span class="keyword">),</span><span class="default">$goodevil</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
and without mangling your array, you might use call_user_func_array:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$goodevil </span><span class="keyword">= array (</span><span class="string">'There is a difference between %s and %s'</span><span class="keyword">, </span><span class="string">'good'</span><span class="keyword">, </span><span class="string">'evil'</span><span class="keyword">);<br />
echo </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'sprintf'</span><span class="keyword">,</span><span class="default">$goodevil</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51763""></a>
  <div class="note">
   <strong class="user">php at mole dot gnubb dot net</strong>
   <a href="#51763" class="date">10-Apr-2005 06:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's Note: Or just use vprintf...]<br />
<br />
If you want to do something like <span class="default">&lt;?php printf</span><span class="keyword">(</span><span class="string">'There is a difference between %s and %s'</span><span class="keyword">, array(</span><span class="string">'good'</span><span class="keyword">, </span><span class="string">'evil'</span><span class="keyword">)); </span><span class="default">?&gt;</span> (this doesn't work)&nbsp; instead of <span class="default">&lt;?php printf</span><span class="keyword">(</span><span class="string">'There is a difference between %s and %s'</span><span class="keyword">, </span><span class="string">'good'</span><span class="keyword">, </span><span class="string">'evil'</span><span class="keyword">); </span><span class="default">?&gt;</span> you can use this function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">printf_array</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'printf'</span><span class="keyword">, </span><span class="default">array_merge</span><span class="keyword">((array)</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Use it the following way:<br />
<span class="default">&lt;?php<br />
$goodevil </span><span class="keyword">= array(</span><span class="string">'good'</span><span class="keyword">, </span><span class="string">'evil'</span><span class="keyword">);<br />
</span><span class="default">printf_array</span><span class="keyword">(</span><span class="string">'There is a difference between %s and %s'</span><span class="keyword">, </span><span class="default">$goodevil</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>and it will print:<br />
There is a difference between good and evil</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49505""></a>
  <div class="note">
   <strong class="user">codeslinger at compsalot dot com</strong>
   <a href="#49505" class="date">30-Jan-2005 08:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Several people have commented about problems with aligning numbers.&nbsp; I just wanted to add a bit of clarification.<br />
<br />
According to the spec all True Type Fonts (especially porpotional spaced fonts) use a fixed width for numeric digits.&nbsp; All digits have the same width which is equal to the width of "0".<br />
<br />
Where things go haywire when trying to align numbers is that the space character does not have the same width as a digit when using a porportional spaced font.<br />
<br />
Therefore if you want to line up a column of numbers, you can not use leading spaces to position them unless you use the same quantity of space characters for each row. e.g. your numbers have leading zeros etc.<br />
<br />
The simplest solution is to switch to a monospaced font.&nbsp; Alternativly you can use positioning tags.<br />
<br />
Summary: Your numbers will always line up properly regardless of the font used, if you get the starting position to be consistant.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40441""></a>
  <div class="note">
   <strong class="user">lordfarquaad at notredomaine dot net</strong>
   <a href="#40441" class="date">03-Mar-2004 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to chris dot breen at accurate dot com :<br />
<br />
This will work, but i didn't try:<br />
<span class="default">&lt;?php <br />
$format </span><span class="keyword">= </span><span class="string">'The %2$s contains %1$d monkeys. <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; That is a nice %2$s full of %1$d monkeys.'</span><span class="keyword">; <br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">, </span><span class="default">$location</span><span class="keyword">); <br />
</span><span class="default">?&gt;<br />
</span><br />
Your problem came from the fact that in the string "\$s", the $ is simply escaped by the \, but but you must not do that with single quoted strings. Try to echo your strings to test it, or just go to <a href="http://www.php.net/manual/en/language.types.string.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.types.string.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32343""></a>
  <div class="note">
   <strong class="user">php at soulcoffee dot com</strong>
   <a href="#32343" class="date">24-May-2003 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are experiencing weird difficulties with floating point numbers, namely ones that appear to be overflow errors, then it could be a compilation error. Try the following at a prompt:<br />
<br />
python -c 'int(10.1); int(10000.3); int(1.2)'<br />
<br />
If that overflows, then you'll need to do the following:<br />
<br />
1) Fix your CFLAGS (probably change -march=pentium4 to -march=pentium3)<br />
2) Recompile glibc<br />
3) Recompile mod_php<br />
4) Restart Apache<br />
5) Check your script, it should be fine now<br />
<br />
NOTE: This is _not_ a bug in PHP. It just appears that way because there is a problem in the underlying libraries.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28111""></a>
  <div class="note">
   <strong class="user">brian at exclamationlabs dot com</strong>
   <a href="#28111" class="date">02-Jan-2003 12:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are printing data in a &lt;pre&gt;, courier font, or otherwise non-variable length font (like a terminal), you might have use for printf's justify feature.<br />
<span class="default">&lt;?php<br />
$heading1 </span><span class="keyword">= </span><span class="string">"Label 1"</span><span class="keyword">;<br />
</span><span class="default">$heading2 </span><span class="keyword">= </span><span class="string">"Label 2"</span><span class="keyword">;<br />
<br />
</span><span class="default">$value1 </span><span class="keyword">= </span><span class="string">"31298"</span><span class="keyword">;<br />
</span><span class="default">$value2 </span><span class="keyword">= </span><span class="string">"98"</span><span class="keyword">;<br />
<br />
print </span><span class="string">"&lt;pre&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">printf </span><span class="keyword">(</span><span class="string">"%'.-15.15s%'.6.6s\n"</span><span class="keyword">, </span><span class="default">$heading1</span><span class="keyword">, </span><span class="default">$value1</span><span class="keyword">);<br />
</span><span class="default">printf </span><span class="keyword">(</span><span class="string">"%'.-15.15s%'.6.6s\n"</span><span class="keyword">, </span><span class="default">$heading2</span><span class="keyword">, </span><span class="default">$value2</span><span class="keyword">);<br />
print </span><span class="string">"&lt;/pre&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Very handy for simple formatting..</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27841""></a>
  <div class="note">
   <strong class="user">eugenew at starhub dot net dot sg</strong>
   <a href="#27841" class="date">20-Dec-2002 09:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If anyone is looking for writing a quine using printf(),<br />
this is my example:<br />
<br />
<span class="default">&lt;?php $f</span><span class="keyword">=</span><span class="string">'&lt;?php $f=%c%s%c; printf($f,39,$f,39); ?&gt;'</span><span class="keyword">; </span><span class="default">printf</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">,</span><span class="default">39</span><span class="keyword">,</span><span class="default">$f</span><span class="keyword">,</span><span class="default">39</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span><br />
This also helps those who are new to printf() see one way of using the 'mixed args' part, rather than just a single argument as in most examples I've seen.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27561""></a>
  <div class="note">
   <strong class="user">dalu at uni SPAMHAM dot de</strong>
   <a href="#27561" class="date">10-Dec-2002 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
copypasted from msdn<br />
<br />
A format specification, which consists of optional and required fields, has the following form:<br />
<br />
%[flags] [width] [.precision] [{h | l | I64 | L}]type<br />
<br />
Each field of the format specification is a single character or a number signifying a particular format option. The simplest format specification contains only the percent sign and a type character (for example, %s). If a percent sign is followed by a character that has no meaning as a format field, the character is copied to stdout. For example, to print a percent-sign character, use %%.<br />
<br />
The optional fields, which appear before the type character, control other aspects of the formatting, as follows: <br />
<br />
type <br />
Required character that determines whether the associated argument is interpreted as a character, a string, or a number (see the printf Type Field Characters table. <br />
flags <br />
Optional character or characters that control justification of output and printing of signs, blanks, decimal points, and octal and hexadecimal prefixes (see the Flag Characters table). More than one flag can appear in a format specification. <br />
width <br />
Optional number that specifies the minimum number of characters output (see printf Width Specification). <br />
precision <br />
Optional number that specifies the maximum number of characters printed for all or part of the output field, or the minimum number of digits printed for integer values (see the How Precision Values Affect Type table). <br />
h | l | I64 | L <br />
Optional prefixes to type-that specify the size of argument (see the Size Prefixes for printf and wprintf Format-Type Specifiers table).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22759""></a>
  <div class="note">
   <strong class="user">sam[NOSPAM] at [NOSPAM]kingdomfaith dot com</strong>
   <a href="#22759" class="date">28-Jun-2002 12:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I don't know if this is useful to anyone, but here goes! Example for using the printf function to output an object.<br />
<br />
class person<br />
{<br />
&nbsp;&nbsp;&nbsp; var $name = "";<br />
&nbsp;&nbsp;&nbsp; function name($newname = NULL)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(! is_null($newname))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;name=$newname;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $this-&gt;name;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; var $surname = "";<br />
&nbsp;&nbsp;&nbsp; function surname($newsurname = NULL)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(! is_null($newsurname))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;surname=$newsurname;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $this-&gt;surname;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; var $age = "";<br />
&nbsp;&nbsp;&nbsp; function age($newage = NULL)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(! is_null($newage))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;age=$newage;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $this-&gt;age;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$bob = new person;<br />
$bob-&gt;name('Bob');<br />
$bob-&gt;surname('Builder');<br />
$bob-&gt;age('50');<br />
<br />
printf("Hi %s, your surname is %s and you are %s years old", $bob-&gt;name, $bob-&gt;surname, $bob-&gt;age);<br />
<br />
Outputs:<br />
<br />
Hi Bob, your surname is Builder and you are 50 years old</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19389""></a>
  <div class="note">
   <strong class="user">maybird99 at yahoo dot com</strong>
   <a href="#19389" class="date">26-Feb-2002 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
instead of writing a function to round off a float (let's call it 'x') accurately, it's much easier to add a small number to x and then truncate it...<br />
For example: if you want to round off to the nearest integer, just add 0.5 to x and then truncate it. if x=12.6, then it would calculate 13.1, and truncate it to 13. If x=14.4, it would calculate 14.9 and truncate it to 14.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18919""></a>
  <div class="note">
   <strong class="user">ezislis at mail dot ru</strong>
   <a href="#18919" class="date">09-Feb-2002 07:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
be careful with integers, they cant hold large values.<br />
<br />
printf("%d",10023123553.45634663);<br />
will print out: 1433188961 <br />
and<br />
printf("%.0f",10023123553.45634663);<br />
will print out: 10023123553</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="16004""></a>
  <div class="note">
   <strong class="user">deekayen at hotmail dot com</strong>
   <a href="#16004" class="date">11-Oct-2001 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use this function to format the decimal places in a number:<br />
<br />
$num = 2.12;<br />
printf("%.1f",$num);<br />
<br />
prints:<br />
<br />
2.1<br />
<br />
see also: number_format()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15562""></a>
  <div class="note">
   <strong class="user">shepard at ameth dot org</strong>
   <a href="#15562" class="date">17-Sep-2001 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be sure that the output channel is available to write on before executing printf()!&nbsp; Some functions in classes available from various sources (in my case, DB_Sql::query() in PHPLIB) assume that printing will work, even after the default output stream has been closed.&nbsp; <br />
<br />
For me the issue was most notable in PHP4 session management when I was creating my own sess_write() handler.&nbsp; Since I was unable to find any function that checks for the output stream that printf() uses, I just had to drop the crazy use of the printf(). (does some function already exist to check for the presence of an output stream?)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="7951""></a>
  <div class="note">
   <strong class="user">arunass at anm dot org</strong>
   <a href="#7951" class="date">21-Aug-2000 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are times when you don't want a number like .0002 to be truncated to .00 - where you'd like to actually have at least some number of significant digits, not just the decimal places.<br />
Here's a sample of how you might do that, although scientific notation might be better.&nbsp; Why doesn't PHP support some of the other C style floating point formats? <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//&nbsp; string FloatFormat(float $Value, int $Precision)<br />
//&nbsp; - AGS 21/08/2000<br />
//<br />
//There is no range checking performed here so the <br />
//&nbsp; function will vaporize on out of range values.<br />
<br />
</span><span class="keyword">function </span><span class="default">FloatFormat</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">, </span><span class="default">$Precision</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">log10</span><span class="keyword">(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= - (</span><span class="default">intval</span><span class="keyword">(</span><span class="default">min</span><span class="keyword">(</span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">)) - </span><span class="default">$Precision</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$format </span><span class="keyword">= </span><span class="string">"%." </span><span class="keyword">. </span><span class="default">$decimals </span><span class="keyword">. </span><span class="string">"f"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$Value</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="6262""></a>
  <div class="note">
   <strong class="user">jeremiah at alcyon dot net</strong>
   <a href="#6262" class="date">06-Jul-2000 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Someone mentioned that the dropping of digits is pernicious; here's a small function you can throw in an include file or something to ensure some accurate precision.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//---------------------<br />
// float precision (float, integer)<br />
//<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - jlph 6.30.2000<br />
//<br />
// A function to limit the # of decimal places<br />
// displayed in a float. Takes a float and an integer.<br />
// The float will be taken to the decimal place<br />
// specified by the integer and rounded up accordingly.<br />
// Returns a float with the corners smoothed off.<br />
//---------------------<br />
<br />
</span><span class="keyword">function </span><span class="default">precision </span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$place</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">* </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$place </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= (float) </span><span class="default">$value</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (float) </span><span class="default">$modSquad </span><span class="keyword">= (</span><span class="default">$value </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$modSquad </span><span class="keyword">&gt; </span><span class="default">.5</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$value </span><span class="keyword">/ (</span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$place</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="3952""></a>
  <div class="note">
   <strong class="user">jarred at coltonsolutions dot com</strong>
   <a href="#3952" class="date">23-Feb-2000 05:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As far as I know, you should be able to simply include &amp;nbsp; in the format string, so something like this:<br />
<br />
printf("Value of I: &amp;nbsp;&amp;nbsp;%d\n", $i);<br />
<br />
printf is the C/C++ style of doing formatted output, and as such the only special characters in the format string are '\' and '%', and characters immediately following these special cases may be affected.&nbsp; (So "%c" mean a character, while "%%c" means print a percent sign followed by the letter c.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="2589""></a>
  <div class="note">
   <strong class="user">dhosek at excite dot com</strong>
   <a href="#2589" class="date">05-Dec-1999 02:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful:<br />
printf ("(9.95 * 100) = %d \n", (9.95 * 100));<br />
<br />
'994'<br />
<br />
First %d converts a float to an int by truncation.<br />
<br />
Second floats are notorious for tiny little rounding errors.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.print.html">print</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.quoted-printable-decode.html">quoted_printable_decode</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
