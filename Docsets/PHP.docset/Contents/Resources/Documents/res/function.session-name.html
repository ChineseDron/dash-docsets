<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Get and/or set the current session name</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.session-module-name.html">session_module_name</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.session-regenerate-id.html">session_regenerate_id</a></div>
 <div class="up"><a href="ref.session.html">Session Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.session-name" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">session_name</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">session_name</span> &mdash; <span class="dc-title">Get and/or set the current session name</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.session-name-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>session_name</b></span>
    ([ <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>session_name()</b></span> returns the name of the current
   session. If <i><tt class="parameter">name</tt></i> is given,
   <span class="function"><b>session_name()</b></span> will update the session name and return
   the <i>old</i> session name.
  </p>
  <p class="para">
   The session name is reset to the default value stored in
   <i>session.name</i> at request startup time. Thus, you need to
   call <span class="function"><b>session_name()</b></span> for every request (and before
   <span class="function"><a href="function.session-start.html" class="function">session_start()</a></span> or <span class="function"><a href="function.session-register.html" class="function">session_register()</a></span>
   are called).
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.session-name-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">name</tt></i></span>
     <dd>

      <p class="para">
       The session name references the name of the session, which is 
       used in cookies and URLs (e.g. <i>PHPSESSID</i>). It
       should contain only alphanumeric characters; it should be short and
       descriptive (i.e. for users with enabled cookie warnings).
       If <i><tt class="parameter">name</tt></i> is specified, the name of the current
       session is changed to its value.
      </p>
      <p class="para">
       <div class="warning"><b class="warning">Warning</b>
        <p class="para">
         The session name can&#039;t consist of digits only, at least one letter
         must be present. Otherwise a new session id is generated every time.
        </p>
       </div>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.session-name-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the name of the current session.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.session-name-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4319">
    <p><b>Example #1 <span class="function"><b>session_name()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;set&nbsp;the&nbsp;session&nbsp;name&nbsp;to&nbsp;WebsiteID&nbsp;*/<br /><br /></span><span style="color: #0000BB">$previous_name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">session_name</span><span style="color: #007700">(</span><span style="color: #DD0000">"WebsiteID"</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;previous&nbsp;session&nbsp;name&nbsp;was&nbsp;</span><span style="color: #0000BB">$previous_name</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.session-name-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member">
     The <a href="session.configuration.html#ini.session.name" class="link">session.name</a> configuration
     directive
    </li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="103472""></a>
  <div class="note">
   <strong class="user">Joseph Dalrymple</strong>
   <a href="#103472" class="date">14-Apr-2011 11:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those wondering, this function is expensive!<br />
<br />
On a script that was executing in a consistent 0.0025 seconds, just the use of session_name("foo") shot my execution time up to ~0.09s. By simply sacrificing session_name("foo"), I sped my script up by roughly 0.09 seconds.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89090""></a>
  <div class="note">
   <strong class="user">relsqui at chiliahedron dot com</strong>
   <a href="#89090" class="date">20-Feb-2009 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember, kids--you MUST use session_name() first if you want to use session_set_cookie_params() to, say, change the session timeout. Otherwise it won't work, won't give any error, and nothing in the documentation (that I've seen, anyway) will explain why.<br />
<br />
Thanks to brandan of bildungsroman.com who left a note under session_set_cookie_params() explaining this or I'd probably still be throwing my hands up about it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86000""></a>
  <div class="note">
   <strong class="user">php at wiz dot cx</strong>
   <a href="#86000" class="date">27-Sep-2008 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you try to name a php session "example.com" it gets converted to "example_com" and everything breaks.<br />
<br />
don't use a period in your session name.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85341""></a>
  <div class="note">
   <strong class="user">xemc at yahoo dot com</strong>
   <a href="#85341" class="date">26-Aug-2008 01:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a sample program I made to explore the operation of the session stuff.&nbsp; One thing I wanted to do was switch sessions in the middle of a script - where session_name doesn't automatically create or resume the corresponding session id...&nbsp; (anyone have a better idea?)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( </span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'sname'</span><span class="keyword">] ) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">session_name</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'sname'</span><span class="keyword">]);<br />
}<br />
</span><span class="default">session_start</span><span class="keyword">();<br />
<br />
</span><span class="default">$messages </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
function </span><span class="default">show</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">) {&nbsp; global </span><span class="default">$messages</span><span class="keyword">;&nbsp; </span><span class="default">$messages </span><span class="keyword">.= </span><span class="default">$str</span><span class="keyword">; }<br />
function </span><span class="default">show_sess_vars</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; foreach ( </span><span class="default">$_SESSION </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session var '</span><span class="default">$key</span><span class="string">': \t'</span><span class="default">$val</span><span class="string">'\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session name: \t" </span><span class="keyword">. </span><span class="default">session_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
</span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session ID: \t" </span><span class="keyword">. </span><span class="default">session_id</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
foreach ( </span><span class="default">$_REQUEST </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$key </span><span class="keyword">== </span><span class="string">'regenerate' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_regenerate_id</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"session_regenerate_id();\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session name: \t" </span><span class="keyword">. </span><span class="default">session_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session ID: \t" </span><span class="keyword">. </span><span class="default">session_id</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if ( </span><span class="default">$key </span><span class="keyword">== </span><span class="string">'clear' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_SESSION </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"\$_SESSION = array();\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if ( </span><span class="default">$key </span><span class="keyword">== </span><span class="string">'switch' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Will attempt to switch session name.. vars:\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show_sess_vars</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_write_close</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">= </span><span class="default">session_name</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"session_name(</span><span class="default">$val</span><span class="string">) - res: </span><span class="default">$res</span><span class="string">\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_start</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session name: \t" </span><span class="keyword">. </span><span class="default">session_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session ID: \t" </span><span class="keyword">. </span><span class="default">session_id</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if ( </span><span class="default">$key </span><span class="keyword">== </span><span class="string">'switch2' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Will attempt to switch session name.. vars:\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show_sess_vars</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_write_close</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"session_write_close();\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sess_id </span><span class="keyword">= </span><span class="default">$_COOKIE</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$sess_id </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"session '</span><span class="default">$val</span><span class="string">' exists, resuming..\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//unset($_SESSION);&nbsp; // to make sure - this should be reloaded below<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_name</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_id</span><span class="keyword">( </span><span class="default">$sess_id </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_start</span><span class="keyword">();&nbsp;&nbsp; </span><span class="comment">// fills $_SESSION from the named session<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"creating new session '</span><span class="default">$val</span><span class="string">'...\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_name</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_start</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_regenerate_id</span><span class="keyword">();&nbsp; </span><span class="comment">// create new (copy of old), leave old alone<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_SESSION </span><span class="keyword">= array();&nbsp; </span><span class="comment">// wipe data clean for a fresh session<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"regenerated ID and wiped SESSION superglobal\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session name: \t" </span><span class="keyword">. </span><span class="default">session_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session ID: \t" </span><span class="keyword">. </span><span class="default">session_id</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$_COOKIE</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Cookie: \t'</span><span class="default">$key</span><span class="string">': \t'</span><span class="default">$val</span><span class="string">'\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Setting session var: \t'</span><span class="default">$key</span><span class="string">': \t'</span><span class="default">$val</span><span class="string">'\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">show</span><span class="keyword">(</span><span class="string">"----\nSession vars:\n"</span><span class="keyword">);<br />
</span><span class="default">show_sess_vars</span><span class="keyword">();<br />
if ( </span><span class="default">false </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">session_write_close</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">session_name</span><span class="keyword">(</span><span class="string">"edit_assembly"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">session_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session name: \t" </span><span class="keyword">. </span><span class="default">session_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">show</span><span class="keyword">(</span><span class="string">"Session ID: \t" </span><span class="keyword">. </span><span class="default">session_id</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">show_sess_vars</span><span class="keyword">();<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;<br />
&lt;html&gt;<br />
&lt;head&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;title&gt; PHP session testing &lt;/title&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;style type='text/css'&gt;<br />
&nbsp;&nbsp;&nbsp; body { background-color: gray; }<br />
&nbsp;&nbsp;&nbsp; #content { background-color: white;&nbsp; width: 70%;&nbsp; margin: 1em auto 1em auto;&nbsp; padding: 2em;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; font-family: Verdana, monospace;&nbsp; font-size: 10pt; }<br />
&nbsp;&nbsp;&nbsp; &lt;/style&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
<br />
&lt;div id='content'&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;h1&gt; PHP session test: &lt;/h1&gt;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; &lt;pre&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$messages</span><span class="keyword">; </span><span class="default">?&gt;</span>&lt;/pre&gt;<br />
<br />
&lt;/div&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84077""></a>
  <div class="note">
   <strong class="user">webmaster at nncoders dot de</strong>
   <a href="#84077" class="date">26-Jun-2008 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can always just use "or".<br />
<br />
@foo or bar();<br />
<br />
When foo fails, (and the at still means don't print an error to the browser), the function bar will be executed.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">errorhandler </span><span class="keyword">() { </span><span class="comment">/* do something wild */ </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; @</span><span class="default">session_name</span><span class="keyword">(</span><span class="string">'mysession'</span><span class="keyword">) or </span><span class="default">errorhandler</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
Another live example would be<br />
@mysql_query('show databases') or die(mysql_error());<br />
<br />
When the execution fails, parameter die is called (with last mysql_error as given string parameter)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48415""></a>
  <div class="note">
   <strong class="user">slave at codegrunt dot com</strong>
   <a href="#48415" class="date">22-Dec-2004 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One gotcha I have noticed with session_name is that it will trigger a WARNING level error if the cookie or GET/POST variable value has something other than alphanumeric characters in it.&nbsp; If your site displays warnings and uses PHP sessions this may be a way to enumerate at least some of your scripts:&nbsp; <br />
<br />
<a href="http://example.com/foo.php?session_name_here=(bad" rel="nofollow" target="_blank">http://example.com/foo.php?session_name_here=(bad</a>)<br />
<br />
Warning: session_start(): The session id contains invalid characters, valid characters are only a-z, A-Z and 0-9 in /some/path/foo.php on line 666<br />
<br />
I did not see anything in the docs suggesting that one had to sanitize the PHP session ID values before opening the session but that appears to be the case.<br />
<br />
Unfortunately session_name() always returns true so you have to actually get to the point of assigning variables values before you know whether you have been passed bad session data (as far as I can see).&nbsp; After the error has been generated in other words.<br />
<br />
Cheers</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42747""></a>
  <div class="note">
   <strong class="user">Hongliang Qiang</strong>
   <a href="#42747" class="date">27-May-2004 01:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This may sound no-brainer: the session_name() function will have no essential effect if you set session.auto_start to "true" in php.ini . And the obvious explanation is the session already started thus cannot be altered before the session_name() function--wherever it is in the script--is executed, same reason session_name needs to be called before session_start() as documented.<br />
<br />
I know it is really not a big deal. But I had a quite hard time before figuring this out, and hope it might be helpful to someone like me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.session-module-name.html">session_module_name</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.session-regenerate-id.html">session_regenerate_id</a></div>
 <div class="up"><a href="ref.session.html">Session Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
