<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Sets the include_path configuration option</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.restore-include-path.html">restore_include_path</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.set-magic-quotes-runtime.html">set_magic_quotes_runtime</a></div>
 <div class="up"><a href="ref.info.html">PHP Options/Info Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.set-include-path" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">set_include_path</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5)</p><p class="refpurpose"><span class="refname">set_include_path</span> &mdash; <span class="dc-title">Sets the include_path configuration option</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.set-include-path-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>set_include_path</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$new_include_path</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Sets the <a href="ini.core.html#ini.include-path" class="link">include_path</a>
   configuration option for the duration of the script.  
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.set-include-path-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">new_include_path</tt></i></span>
     <dd>

      <p class="para">
       The new value for the <a href="ini.core.html#ini.include-path" class="link">include_path</a>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.set-include-path-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the old <a href="ini.core.html#ini.include-path" class="link">include_path</a> on
   success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.set-include-path-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-487">
    <p><b>Example #1 <span class="function"><b>set_include_path()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Works&nbsp;as&nbsp;of&nbsp;PHP&nbsp;4.3.0<br /></span><span style="color: #0000BB">set_include_path</span><span style="color: #007700">(</span><span style="color: #DD0000">'/usr/lib/pear'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Works&nbsp;in&nbsp;all&nbsp;PHP&nbsp;versions<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'include_path'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/usr/lib/pear'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-488">
    <p><b>Example #2 Adding to the include path</b></p>
    <div class="example-contents"><p>
     Making use of the <b><tt>PATH_SEPARATOR</tt></b> constant, it is
     possible to extend the include path regardless of the operating system.
    </p></div>
    <div class="example-contents"><p>
     In this example we add <var class="filename">/usr/lib/pear</var> to the end of
     the existing <i>include_path</i>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/usr/lib/pear'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">set_include_path</span><span style="color: #007700">(</span><span style="color: #0000BB">get_include_path</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$path</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.set-include-path-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ini-set.html" class="function" rel="rdfs-seeAlso">ini_set()</a> - Sets the value of a configuration option</span></li>
    <li class="member"><span class="function"><a href="function.get-include-path.html" class="function" rel="rdfs-seeAlso">get_include_path()</a> - Gets the current include_path configuration option</span></li>
    <li class="member"><span class="function"><a href="function.restore-include-path.html" class="function" rel="rdfs-seeAlso">restore_include_path()</a> - Restores the value of the include_path configuration option</span></li>
    <li class="member"><span class="function"><b>include()</b></span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="103224""></a>
  <div class="note">
   <strong class="user">francois r vespa</strong>
   <a href="#103224" class="date">01-Apr-2011 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
include_path is not taking in consideration by very commonly used functions such as file_exists(), the following hack can come handy to override that<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">suchFile</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)&nbsp; &nbsp; </span><span class="comment">// like file_exists() but takes in consideration include_path<br />
<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$paths</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">,</span><span class="default">get_include_path</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$paths </span><span class="keyword">as </span><span class="default">$p</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'%/$%'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$p</span><span class="keyword">).</span><span class="string">"/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100970""></a>
  <div class="note">
   <strong class="user">joel at pittet dot ca</strong>
   <a href="#100970" class="date">17-Nov-2010 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Seems set_include_path wasn't working for me.<br />
<br />
The problem was i didn't have .:&nbsp; in my include_path<br />
Which seemed to stop the set_include_path().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97896""></a>
  <div class="note">
   <strong class="user">mateusz at bkfmyjnie dot pl</strong>
   <a href="#97896" class="date">14-May-2010 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems you can't really set empty inlude_path. First, set_include_path('') does exactly nothing (successfully), and second, '.' is always implicitly appended to the include path by PHP itself, as noted in comments below.<br />
<br />
However, you can:<br />
set_include_path(PATH_SEPARATOR); // note no quotes around the PATH_SEPARATOR; it's a string on its own<br />
<br />
or, more explicit:<br />
set_include_path('.');<br />
<br />
Both seems to have the same result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92504""></a>
  <div class="note">
   <strong class="user">parks at vecinc dot com</strong>
   <a href="#92504" class="date">27-Jul-2009 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you find that this function is failing for you, and you're not sure why, you may have set your php include path in your sites's conf file in Apache&nbsp; (this may be true of .htaccess as well)<br />
<br />
So to get it to work, comment out any "php_value include_path" type lines in your Apache conf file, and you should be able to set it now in your php code.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88056""></a>
  <div class="note">
   <strong class="user">ChanibaL.net</strong>
   <a href="#88056" class="date">07-Jan-2009 05:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The files are included in order of the inclusion path, in this example, the directory structure is as follows:<br />
.<br />
|-- index.php<br />
|-- t1<br />
|&nbsp;&nbsp; |-- a<br />
|&nbsp;&nbsp; `-- b<br />
`-- t2<br />
&nbsp;&nbsp;&nbsp; |-- b<br />
&nbsp;&nbsp;&nbsp; `-- c<br />
<br />
<span class="default">&lt;?php<br />
<br />
set_include_path</span><span class="keyword">(</span><span class="string">'t1'</span><span class="keyword">.</span><span class="default">PATH_SEPARATOR</span><span class="keyword">.</span><span class="string">'t2'</span><span class="keyword">);<br />
<br />
include </span><span class="string">'a'</span><span class="keyword">;&nbsp; </span><span class="comment">// includes from T1<br />
</span><span class="keyword">include </span><span class="string">'b'</span><span class="keyword">;&nbsp; </span><span class="comment">// includes from T1<br />
</span><span class="keyword">include </span><span class="string">'c'</span><span class="keyword">;&nbsp; </span><span class="comment">// includes from T2<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that the include path affects only include/require functions. <br />
<br />
<span class="default">&lt;?php<br />
<br />
var_dump</span><span class="keyword">(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">));&nbsp; </span><span class="comment">// false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">));&nbsp; </span><span class="comment">// file not found<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83188""></a>
  <div class="note">
   <strong class="user">ricardo dot ferro at gmail dot com</strong>
   <a href="#83188" class="date">14-May-2008 11:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Two functions to help:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">add_include_path </span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">func_get_args</span><span class="keyword">() AS </span><span class="default">$path</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) OR (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) &amp;&amp; </span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) !== </span><span class="string">'dir'</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Include path '</span><span class="keyword">{</span><span class="default">$path</span><span class="keyword">}</span><span class="string">' not exists"</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$paths </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">get_include_path</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$paths</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">set_include_path</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function </span><span class="default">remove_include_path </span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">func_get_args</span><span class="keyword">() AS </span><span class="default">$path</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$paths </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">get_include_path</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$k </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$paths</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$paths</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Include path '</span><span class="keyword">{</span><span class="default">$path</span><span class="keyword">}</span><span class="string">' can not be removed because it is the only"</span><span class="keyword">, </span><span class="default">E_USER_NOTICE</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">set_include_path</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73692""></a>
  <div class="note">
   <strong class="user">chris-r3i</strong>
   <a href="#73692" class="date">06-Mar-2007 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Can be useful to check the value of the constant PATH_SEPARATOR.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( ! </span><span class="default">defined</span><span class="keyword">( </span><span class="string">"PATH_SEPARATOR" </span><span class="keyword">) ) {<br />
&nbsp; if ( </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$_ENV</span><span class="keyword">[ </span><span class="string">"OS" </span><span class="keyword">], </span><span class="string">"Win" </span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">( </span><span class="string">"PATH_SEPARATOR"</span><span class="keyword">, </span><span class="string">";" </span><span class="keyword">);<br />
&nbsp; else </span><span class="default">define</span><span class="keyword">( </span><span class="string">"PATH_SEPARATOR"</span><span class="keyword">, </span><span class="string">":" </span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
For older versions of php, PATH_SEPARATOR is not defined.<br />
If it is so, we must check what kind of OS is on the web-server and define PATH_SEPARATOR properly</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70080""></a>
  <div class="note">
   <strong class="user">koenig at electronova dot net</strong>
   <a href="#70080" class="date">02-Oct-2006 09:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can also add several paths in one set_include_path separating them by ':'.<br />
ex : set_include_path('/home/mysite/includes1:/home/mysite/includes2')</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49454""></a>
  <div class="note">
   <strong class="user">junya at xs4all dot nl</strong>
   <a href="#49454" class="date">28-Jan-2005 05:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you use .htaccess to set the include path, don't forget Apache directive 'AllowOverride Options' or 'AllowOverride All' is also needed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49361""></a>
  <div class="note">
   <strong class="user">df a t dougfelton d o t c o m</strong>
   <a href="#49361" class="date">25-Jan-2005 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In order to use .htaccess files to set the include path, PHP must be installed as an Apache module. If PHP is compiled as a CGI binary, you can set the include path in a custom php.ini file (if, for example, you're being hosted somewhere and don't have access to the main php.ini file.&nbsp; Note that custom php.ini files don't affect subdirectories in the way that .htaccess files do, so you'll need to put your custom php.ini file in any subdirectories as well.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47990""></a>
  <div class="note">
   <strong class="user">r dot s dot goldsmith at far-blue dot co dot uk</strong>
   <a href="#47990" class="date">08-Dec-2004 03:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to set the paths php uses to find included files on a directory by directory level, you can do so in Apache's .htaccess file. Add the line:<br />
<br />
php_value include_path&nbsp; "&lt;first path to look&gt;:&lt;second path&gt;:&lt;etc&gt;:."<br />
<br />
to the .htaccess file. This will replace any paths set in your environment or the php.ini file so remember to include the path to php's own libraries as, usually, the first option!<br />
<br />
V.useful tip given to me by the 'php guy' at Edinburgh Uni's Computing Support.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.restore-include-path.html">restore_include_path</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.set-magic-quotes-runtime.html">set_magic_quotes_runtime</a></div>
 <div class="up"><a href="ref.info.html">PHP Options/Info Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
