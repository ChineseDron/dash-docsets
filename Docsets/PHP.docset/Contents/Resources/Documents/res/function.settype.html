<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Set the type of a variable</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.serialize.html">serialize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strval.html">strval</a></div>
 <div class="up"><a href="ref.var.html">Variable handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.settype" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">settype</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">settype</span> &mdash; <span class="dc-title">Set the type of a variable</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.settype-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><b>settype</b></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter reference">&$var</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$type</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Set the type of variable <i><tt class="parameter">var</tt></i> to
   <i><tt class="parameter">type</tt></i>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.settype-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">var</tt></i></span>
     <dd>

      <p class="para">
       The variable being converted.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">type</tt></i></span>
     <dd>

      <p class="para">
       Possibles values of <i><tt class="parameter">type</tt></i> are:
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          &quot;boolean&quot; (or, since PHP 4.2.0, &quot;bool&quot;)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;integer&quot; (or, since PHP 4.2.0, &quot;int&quot;)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;float&quot; (only possible since PHP 4.2.0, for older versions use the
          deprecated variant &quot;double&quot;)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;string&quot;
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;array&quot;
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;object&quot;
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          &quot;null&quot; (since PHP 4.2.0)
         </span>
        </li>
       </ul>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.settype-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.settype-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4794">
    <p><b>Example #1 <span class="function"><b>settype()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"5bar"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;string<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;boolean<br /><br /></span><span style="color: #0000BB">settype</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"integer"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$foo&nbsp;is&nbsp;now&nbsp;5&nbsp;&nbsp;&nbsp;(integer)<br /></span><span style="color: #0000BB">settype</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"string"</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$bar&nbsp;is&nbsp;now&nbsp;"1"&nbsp;(string)<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.settype-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    Maximum value for &quot;int&quot; is <b><tt>PHP_INT_MAX</tt></b>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.settype-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.gettype.html" class="function" rel="rdfs-seeAlso">gettype()</a> - Get the type of a variable</span></li>
    <li class="member"><a href="language.types.type-juggling.html#language.types.typecasting" class="link">type-casting</a></li>
    <li class="member"><a href="language.types.type-juggling.html" class="link">type-juggling</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104693""></a>
  <div class="note">
   <strong class="user">brent_hathaway at yahoo dot com</strong>
   <a href="#104693" class="date">30-Jun-2011 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use intval instead of settype for integers. Much more reliable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99654""></a>
  <div class="note">
   <strong class="user">contact[at]covac-software[dot]com</strong>
   <a href="#99654" class="date">28-Aug-2010 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With reply to Chris Sullins and Michael Benedict, I don't find this behavior strange:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">echo </span><span class="default">var_dump</span><span class="keyword">( (int)</span><span class="string">'' </span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(0)<br />
<br />
&nbsp; </span><span class="keyword">echo </span><span class="default">var_dump</span><span class="keyword">( (float)array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">) );&nbsp; &nbsp; </span><span class="comment">// float(1)<br />
</span><span class="default">?&gt;<br />
</span><br />
This is due to the fact that an uninitialized variable is null, which converts to a 0. As does boolean false or an empty string or array.<br />
When a value is not empty, such as my above array, it is converted to a 1 (integer/float) or true (boolean).<br />
When changing between arrays and objects, it of course made sense to keep the fields intact (array key/values and object properties/values).<br />
<br />
Cheers,<br />
Chris.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97421""></a>
  <div class="note">
   <strong class="user">Chris Sullins</strong>
   <a href="#97421" class="date">18-Apr-2010 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
settype() has some really strange, potentially buggy behavior.<br />
<br />
As noted by Michael Benedict, using settype() on a variable will initialize that variable.&nbsp; What is stranger is that using settype() on an uninitialized variable that you are treating as an array or object will also initialize the variable.&nbsp; So:<br />
<br />
<span class="default">&lt;?php<br />
settype</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">,</span><span class="string">"integer"</span><span class="keyword">); </span><span class="comment">// stdClass Object ( [test] =&gt; 0 )<br />
</span><span class="default">?&gt;<br />
</span><br />
This works for a chain of any length: $foo-&gt;bar['baz']-&gt;etc<br />
<br />
Next we look at what happens if $foo is already set.<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">settype</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">,</span><span class="string">"integer"</span><span class="keyword">); </span><span class="comment">// stdClass Object ( [test] =&gt; 0 )<br />
</span><span class="default">?&gt;<br />
</span><br />
In and of itself, this wouldn't be problematic.&nbsp; It might even make sense.&nbsp; But in all other cases where $foo is defined, even if (boolean) $foo === false, it will throw an error unless $foo-&gt;bar is valid (i.e. $foo is an object already).<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
</span><span class="default">settype</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">,</span><span class="string">"integer"</span><span class="keyword">); </span><span class="comment">// Notice: Trying to get property of non-object<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88678""></a>
  <div class="note">
   <strong class="user">michaltrutman at centrum dot cz</strong>
   <a href="#88678" class="date">03-Feb-2009 08:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can change variable type also in another way instead of using function settype().<br />
<br />
<span class="default">&lt;?PHP<br />
$a </span><span class="keyword">= </span><span class="string">'125'</span><span class="keyword">; </span><span class="comment">//$a is string<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$a </span><span class="keyword">*= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//this convert $a to integer<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$a </span><span class="keyword">*= </span><span class="default">1.0</span><span class="keyword">; </span><span class="comment">//$a is converted to float<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$a </span><span class="keyword">.= </span><span class="string">''</span><span class="keyword">; </span><span class="comment">//now $a is string again<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">; </span><span class="comment">//and finally $a is null<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
With this you can easily change variable type to string, float or integer (but you can't change float to integer).<br />
<br />
Positive side effect of this is that it is about 50% faster than using settype() function. This is because simple expression is executed more quickly than function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87059""></a>
  <div class="note">
   <strong class="user">NWdev</strong>
   <a href="#87059" class="date">17-Nov-2008 09:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In trying to convert an array of strings to an array of ints, <br />
I attempted to use settype with array_walk.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//$numArray is generated by another process<br />
</span><span class="default">$numArray </span><span class="keyword">= array(</span><span class="string">'13'</span><span class="keyword">,</span><span class="string">'14'</span><span class="keyword">,</span><span class="string">'33'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$numArray</span><span class="keyword">);<br />
<br />
</span><span class="comment">//my conversion function<br />
</span><span class="keyword">function </span><span class="default">str_to_int</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">){<br />
&nbsp; </span><span class="comment">//remember: settype($x, 'int') returns boolean (1=success, 0=failure)<br />
&nbsp; //--&gt; so return $x to return new value<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="string">'int'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;br /&gt;gettype = "</span><span class="keyword">.</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$val</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$numArray</span><span class="keyword">,</span><span class="string">'str_to_int'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$numArray</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The var_dumps both return the following:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">array(</span><span class="default">3</span><span class="keyword">) { [</span><span class="default">0</span><span class="keyword">]=&gt; </span><span class="default">string</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">) </span><span class="string">"13" </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=&gt; </span><span class="default">string</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">) </span><span class="string">"14" </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]=&gt; </span><span class="default">string</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">) </span><span class="string">"33" </span><span class="keyword">} <br />
</span><span class="default">?&gt;<br />
</span><br />
The gettype echo will show the value as an integer.<br />
<br />
So it seems that settype($val,'int') makes the conversion, <br />
but the function return value remains a string. <br />
Since settype returns a boolean, using <br />
<span class="default">&lt;?php $val </span><span class="keyword">= </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="string">'int'</span><span class="keyword">); </span><span class="default">?&gt;</span> <br />
is not a option.<br />
<br />
I resolved my array value conversion using this instead:<br />
<span class="default">&lt;?php<br />
$numArray </span><span class="keyword">= <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$value'</span><span class="keyword">, </span><span class="string">'return (int)$value;'</span><span class="keyword">),</span><span class="default">$numArray</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Thanks to the posting here:<br />
<a href="http://usrportage.de/archives/" rel="nofollow" target="_blank">http://usrportage.de/archives/</a><br />
808-Convert-an-array-of-strings-into-an-array-of-integers.html<br />
<br />
Perhaps this will save someone else spinning wheels a bit. <br />
<br />
Also thanks to robin at barafranca dot com for <br />
pointing out the boolean return value of settype.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83991""></a>
  <div class="note">
   <strong class="user">mtinsley at dallasairmotive dot com</strong>
   <a href="#83991" class="date">22-Jun-2008 01:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yes, just look for the ampersand (&amp;) in the function signature. Here you see:<br />
<br />
bool settype&nbsp; ( mixed &amp;$var&nbsp; , string $type&nbsp; )<br />
<br />
There is an &amp; before the first parameter ($var). This means the variable is passed in by reference. So the function is working with the original variable and not a copied local version. You will see this in other php functions such as asort();<br />
<br />
References Explained: <a href="http://us3.php.net/manual/en/language.references.php" rel="nofollow" target="_blank">http://us3.php.net/manual/en/language.references.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81595""></a>
  <div class="note">
   <strong class="user">robin at barafranca dot com</strong>
   <a href="#81595" class="date">05-Mar-2008 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a quick note, as this caught me out very briefly:<br />
<br />
settype() returns bool, not the typecasted variable - so:<br />
<br />
$blah = settype($blah, "int"); // is wrong, changes $blah to 0 or 1<br />
settype($blah, "int"); // is correct<br />
<br />
Hope this helps someone else who makes a mistake.. ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76487""></a>
  <div class="note">
   <strong class="user">andrey at php dot net</strong>
   <a href="#76487" class="date">17-Jul-2007 10:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Possible value is "unicode" starting PHP6.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73651""></a>
  <div class="note">
   <strong class="user">sneskid at hotmail dot com</strong>
   <a href="#73651" class="date">05-Mar-2007 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to the guy who was having troubles with leading zeros and wrote the convertToInt function.<br />
<br />
I benchmarked it and it is faster to just use base_convert than ltrim &amp; friends.<br />
<br />
base_convert also has a lower "first time call" cost than ltrim (this could be related to server settings).<br />
It's about 2/3 that of ltrim.<br />
<br />
If you only use this type of conversion once per script then it's far more beneficial to use base_convert.<br />
<br />
The average values listed are ignoring the first time call costs.<br />
<span class="default">&lt;?php<br />
<br />
$t </span><span class="keyword">= </span><span class="string">'0100'</span><span class="keyword">;<br />
<br />
</span><span class="comment">// avg: 0.0000025 (0.0000036 wrapped as a function)<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />
<br />
</span><span class="comment">// avg: 0.0000028 (0.0000039 wrapped as a function)<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">+</span><span class="default">ltrim</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">,</span><span class="string">'0'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64195""></a>
  <div class="note">
   <strong class="user">ludvig dot ericson gmail.dot com</strong>
   <a href="#64195" class="date">09-Apr-2006 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To matt:<br />
This function accepts a paremeter, which does not imply you using hardcoded stuff, instead you can let the user choose! \o/<br />
<br />
As a part of a framework or something.<br />
<br />
Plus, you can probably call this with call_user_func</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59444""></a>
  <div class="note">
   <strong class="user">matt at mattsoft dot net</strong>
   <a href="#59444" class="date">06-Dec-2005 09:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
using (int) insted of the settype function works out much better for me. I have always used it. I personally don't see where settype would ever come in handy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58274""></a>
  <div class="note">
   <strong class="user">Michael Benedict</strong>
   <a href="#58274" class="date">29-Oct-2005 10:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
note that settype() will initialize an undefined variable.&nbsp; Therefore, if you want to preserve type and value, you should wrap the settype() call in a call to isset().<br />
<br />
<span class="default">&lt;?php<br />
settype</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">, </span><span class="string">"integer"</span><span class="keyword">);<br />
echo(</span><span class="string">"|</span><span class="default">$foo</span><span class="string">|"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
prints "|0|", NOT "||".<br />
<br />
To get the latter, use:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(isset(</span><span class="default">$foo</span><span class="keyword">)) </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">, </span><span class="string">"integer"</span><span class="keyword">);<br />
echo(</span><span class="string">"|</span><span class="default">$foo</span><span class="string">|"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58140""></a>
  <div class="note">
   
   <a href="#58140" class="date">25-Oct-2005 06:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
James Reiher (IL) writes:<br />
23-Feb-2005 06:50<br />
<br />
$agentnum = "007";<br />
$agentnum = settype($agentnum, "int");<br />
echo $agentnum; // will show up as 1 instead of 7!<br />
<br />
James, the return value of settype function is boolean, 1 if succsess. <br />
Correct code: $success=settype($agentnum, "int");<br />
The $agentnum is now 7 (not 007 or not 1)!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57158""></a>
  <div class="note">
   
   <a href="#57158" class="date">25-Sep-2005 01:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to the comment by Neoja regarding validating every variable in the URL using settype -- that is wrong.<br />
<br />
All value passed in the URL are strings, even if they are numbers. (Remember, they are passed in the header, which is a specially formatted string).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55016""></a>
  <div class="note">
   <strong class="user">nospamplease at veganismus dot ch</strong>
   <a href="#55016" class="date">22-Jul-2005 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
you must note that this function will not set the type permanently! the next time you set the value of that variable php will change its type as well.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52883""></a>
  <div class="note">
   
   <a href="#52883" class="date">16-May-2005 12:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to pull a zerofilled integer out of a MySQL table and increment it by a certain amount.&nbsp; Unfortunately, PHP treated this integer as if it were a string when I tried to add an amount to it.&nbsp; For instance:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="string">'0100'</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">$a </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
print </span><span class="default">$b</span><span class="keyword">;<br />
</span><span class="comment">// This would print 64 instead of 101.<br />
</span><span class="default">?&gt;<br />
</span><br />
To fix this I created a simple function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">convertToInt</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">ltrim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$z </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$z</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// Now I can add any integer to my converted integer<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'0100'</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">+ </span><span class="default">convertToInt</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
print </span><span class="default">$b</span><span class="keyword">;<br />
</span><span class="comment">// This prints 102<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50898""></a>
  <div class="note">
   <strong class="user">reinier_deblois at hotmail dot com</strong>
   <a href="#50898" class="date">13-Mar-2005 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Instead of settype you could use:<br />
<span class="default">&lt;?php<br />
<br />
$int</span><span class="keyword">=</span><span class="default">593</span><span class="keyword">;&nbsp; </span><span class="comment">// $int is a integer<br />
<br />
</span><span class="default">$int</span><span class="keyword">.=</span><span class="string">""</span><span class="keyword">;&nbsp;&nbsp; </span><span class="comment">// $int is now a string</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50255""></a>
  <div class="note">
   <strong class="user">James Reiher (IL)</strong>
   <a href="#50255" class="date">22-Feb-2005 09:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a problem with PHP destroying the value of my integer with leading zeros as follows:<br />
<br />
$agentnum = "007";<br />
$agentnum = settype($agentnum, "int");<br />
echo $agentnum; // will show up as 1 instead of 7!<br />
<br />
Oddly enough, this works fine, (at least for PHP 4.3):<br />
$agentnumber = "007";<br />
$agentnumber += 0; // convert $number to numeric type<br />
echo $agentnumber; // will now show up as 7!<br />
<br />
If you do this for gods sake leave a comment on the line because its definitely not by-the-book coding. Another commentor here has used regular expressions to weed out the leading zeros, so I know its not the only solution.<br />
<br />
I also tried the equivelant of:<br />
$agentnum = "007";<br />
$agentnum = (int)$agentnumber;<br />
echo $agentnum;<br />
<br />
But the result is a nonsense number, probably by using the concatenation of the ASCII codes as the integer.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48028""></a>
  <div class="note">
   <strong class="user">memandeemail at gmail dot com</strong>
   <a href="#48028" class="date">09-Dec-2004 05:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/**<br />
&nbsp;&nbsp;&nbsp; * @return bool<br />
&nbsp;&nbsp;&nbsp; * @param array[byreference] $values<br />
&nbsp;&nbsp;&nbsp; * @desc Convert an array or any value to Escalar Object [not tested in large scale]<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; function setobject(&amp;$values) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $values = (object) $values;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($values as $tkey =&gt; $val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (is_array($val)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; setobject($val);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $values-&gt;$tkey = $val;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (bool) $values;<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47643""></a>
  <div class="note">
   
   <a href="#47643" class="date">23-Nov-2004 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in PHP3 converting a string to any number results in the value becoming 0.&nbsp; To check if a string represents a number try this: <br />
&lt;PRE&gt; <br />
$test = "0001"; <br />
$testcp = $test; <br />
settype($testcp,"double"); <br />
<br />
if (strval($testcp) === $test) { <br />
&nbsp;&nbsp; echo("\$test is a number"); <br />
} else { <br />
&nbsp;&nbsp; echo ("\$test is not a number"); <br />
} <br />
&lt;/PRE&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35587""></a>
  <div class="note">
   <strong class="user">sdibb at myway dot com</strong>
   <a href="#35587" class="date">06-Sep-2003 10:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using settype is not the best way to convert a string into an integer, since it will strip the string wherever the first non-numeric character begins.&nbsp; The function intval($string) does the same thing.<br />
<br />
If you're looking for a security check, or to strip non-numeric characters (such as cleaning up phone numbers or ZIP codes),&nbsp; try this instead:<br />
<br />
&lt;?<br />
&nbsp;&nbsp; &nbsp; $number=ereg_replace("[^0-9]","",$number);<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23386""></a>
  <div class="note">
   <strong class="user">djworld at php dot net</strong>
   <a href="#23386" class="date">17-Jul-2002 06:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Usually it won't be necessary to use this function, but some times you need to be sure the variables are of some kind. For example, if you send a number to a database query from a variable passed by GET or POST, you may get sure it's a number by doing SetType ($var, 'integer'); so you can avoid security holes if it isn't a number and you don't need to addslashes() it, or for example, if you need to be sure that a number won't have any decimals after rounding it, you may do the same and as it will be an integer, it won't contain decimals.<br />
<br />
(ed: change to reflect deleted of other notes)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14620""></a>
  <div class="note">
   <strong class="user">r dot schechtel at web dot de</strong>
   <a href="#14620" class="date">06-Aug-2001 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To: neoja@hotmail.com<br />
<br />
I believe in this case testing the $id using is_numeric() would be the better solution. <br />
<br />
E.g something like this:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">)) {<br />
&nbsp; </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">);<br />
&nbsp;}<br />
</span><span class="default">?&gt;<br />
</span><br />
Roman Schechtel</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="11359""></a>
  <div class="note">
   <strong class="user">neoja at hotmail dot com</strong>
   <a href="#11359" class="date">17-Feb-2001 06:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is always good to validate all the variables that are given in the url and would cause an error if they are of wrong type. For example, if your page is products.php?id=123 then run settype($id, "integer") in the script, before getting the product info from the database. If the user enters a non-numeric value in the url -- either pasting it wrong or intentionally :) -- the $id will be set to zero and database query will have no errors.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="5593""></a>
  <div class="note">
   <strong class="user">ns at canada dot com</strong>
   <a href="#5593" class="date">05-May-2000 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This settype() behaviour seems consistent to me. Quoting two sections from the manual:<br />
<br />
"When casting from a scalar or a string variable to an array, the variable will become the first element of the array: "<br />
&lt;pre&gt;<br />
2 $var = 'ciao';<br />
3 $arr = (array) $var;<br />
4 echo $arr[0];&nbsp; // outputs 'ciao' <br />
&lt;/pre&gt;<br />
<br />
And if (like your code above) you do a settype on an empty variable, you'll end up with a one element array with an empty (not unset!) first element. So appeanding to it will start appending at index 1. As for why reset() doesn't do anything:<br />
<br />
"When you assign a value to an array variable using empty brackets, the value will be added onto the end of the array."<br />
<br />
It doesn't matter where the array counter is; values are added at the end, not at the counter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.serialize.html">serialize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strval.html">strval</a></div>
 <div class="up"><a href="ref.var.html">Variable handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
