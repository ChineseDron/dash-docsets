<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Alias of count</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.shuffle.html">shuffle</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.sort.html">sort</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.sizeof" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sizeof</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">sizeof</span> &mdash; <span class="dc-title">Alias of <span class="function"><a href="function.count.html" class="function">count()</a></span></span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.sizeof-description">
  <h3 class="title">Description</h3>
  <p class="simpara">
   This function is an alias of: 
   <span class="function"><a href="function.count.html" class="function">count()</a></span>.
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="87795""></a>
  <div class="note">
   <strong class="user">Emil Mohamed</strong>
   <a href="#87795" class="date">22-Dec-2008 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are real test for below statements:<br />
Source:<br />
<span class="default">&lt;?php<br />
$arr </span><span class="keyword">= array();<br />
</span><span class="default">$num </span><span class="keyword">= </span><span class="default">1000000</span><span class="keyword">;<br />
echo </span><span class="string">"Populating test array with </span><span class="default">$num</span><span class="string"> elements ... "</span><span class="keyword">;<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$num</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) . </span><span class="default">mt_rand</span><span class="keyword">();<br />
}<br />
echo </span><span class="string">"Populated.\n\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Start testing FOREAH ... \n"</span><span class="keyword">;<br />
</span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$elem</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">= isset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
}<br />
echo </span><span class="string">"FOREACH result: " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start_time</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Start testing regular FOR ... \n"</span><span class="keyword">;<br />
</span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">= isset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
}<br />
echo </span><span class="string">"Regular for result: " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start_time</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Starting test for pre-computed size array FOR ... \n"</span><span class="keyword">;<br />
</span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$sizeof_arr </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$sizeof_arr</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">= isset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
}<br />
echo </span><span class="string">"pre-computed size of array FOR: " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start_time</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
emil@neon:~$ php test-loops-performance.php<br />
Populating test array with 1000000 elements ... Populated.<br />
<br />
Start testing FOREAH ...<br />
FOREACH result: 0.500122070312<br />
<br />
Start testing regular FOR ...<br />
Regular for result: 0.886044979095<br />
<br />
Starting test for pre-computed size array FOR ...<br />
pre-computed size of array FOR: 0.454435825348</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85899""></a>
  <div class="note">
   <strong class="user">umopdn [at] msn [dawt] com</strong>
   <a href="#85899" class="date">23-Sep-2008 02:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a) Always try and use PHP's internal routines to iterate through objects of various types (arrays in most examples below).<br />
<br />
Instead of interpreting your code to loop through them, they use their own internal routines which are much faster.<br />
<br />
(This is why foreach () will run faster than manual interation)<br />
<br />
b) It is _always_ good practice to leave as many static resulting functions outside of loops, having operations that return the exact same piece of data every iteration of the loop is not pretty on resources.<br />
<br />
c) I agree with PixEye's remarks on sizeof().&nbsp; In PHP it is just an alias for the true function count().&nbsp; It has other meanings logically in other languages rather than the number of elements in an object.&nbsp; This should be avoided as it may confuse developers transitioning to PHP from other languages.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85892""></a>
  <div class="note">
   <strong class="user">PixEye</strong>
   <a href="#85892" class="date">23-Sep-2008 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am quite surprised about previous posts. Here are my advices:<br />
<br />
1/ prefer the count() function instead of sizeOf() as sizeOf() is only an alias of count() and does not mean the same in many other languages based on C (avoid ambiguity).<br />
<br />
2/ prefer the powerful forEach() function to iterate over arrays.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85590""></a>
  <div class="note">
   <strong class="user">kaisellgren at gmail dot com</strong>
   <a href="#85590" class="date">07-Sep-2008 08:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In addition to previous posts, there is a better and cleaner way to loop through an array using this function.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">for (</span><span class="default">$a </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">,</span><span class="default">$b </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);</span><span class="default">$a </span><span class="keyword">&lt; </span><span class="default">$b</span><span class="keyword">;</span><span class="default">$a</span><span class="keyword">++)<br />
&nbsp;echo </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$a</span><span class="keyword">];<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82588""></a>
  <div class="note">
   <strong class="user">rrf5000 at psu dot edu</strong>
   <a href="#82588" class="date">17-Apr-2008 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To explain previous comments:&nbsp; the reason that the FOR loop runs faster on LARGE arrays if you set its size to an array first (using count() or sizeof() ) is pretty simple.&nbsp; It's because if you use<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$huge_array</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp; </span><span class="default">code<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
every time the FOR loop checks its condition (is $i less than sizeof($huge_array) ), it must run the sizeof() function on $huge_array again.&nbsp; This is what causes the extra processing time, which can become significant on larger arrays.<br />
<br />
As a side note, this has been thoroughly commented on both correctly and incorrectly in the User Contributed Notes for the count() function.&nbsp; Users Jaik, Wulfson, and Anonymous have summed this particular matter up pretty well in their posts <a href="http://www.php.net/manual/en/function.count.php#78741 , http://www.php.net/manual/en/function.count.php#78931 , and http://www.php.net/manual/en/function.count.php#79238 ." rel="nofollow" target="_blank">http://www.php.net/manual/en/function.count.php#78741 , http://www.php.net/manual/en/function.count.php#78931 , and http://www.php.net/manual/en/function.count.php#79238 .</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82490""></a>
  <div class="note">
   <strong class="user">Andreas dot Schuhmacher87 at googlemail dot com</strong>
   <a href="#82490" class="date">13-Apr-2008 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
also you can use for like this (no count() needed)<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$item </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">; </span><span class="default">false </span><span class="keyword">!= (</span><span class="default">$item </span><span class="keyword">= </span><span class="default">$some_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="default">$item</span><span class="keyword">; </span><span class="comment">//index $i of $some_array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //code<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82430""></a>
  <div class="note">
   <strong class="user">communiti.ch</strong>
   <a href="#82430" class="date">10-Apr-2008 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your array is "huge"<br />
<br />
It is reccomended to set a variable first for this case:<br />
<br />
THIS-&gt;<br />
<br />
$max = sizeof($huge_array);<br />
for($i = 0; $i &lt; $max;$i++)<br />
{<br />
code...<br />
}<br />
<br />
IS QUICKER THEN-&gt;<br />
<br />
for($i = 0; $i &lt; sizeof($huge_array);$i++)<br />
{<br />
code...<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81798""></a>
  <div class="note">
   <strong class="user">svanegmond at tinyplanet dot ca</strong>
   <a href="#81798" class="date">13-Mar-2008 11:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For people who use this kind of idiom:<br />
<br />
for ($i=0; $i&lt;sizeof($array); $i++) {<br />
&nbsp;&nbsp; ...<br />
}<br />
<br />
At least in PHP4, you will notice a large performance improvement if you switch to:<br />
<br />
$max = sizeof($array);<br />
for ($i=0; $i&lt;$max; $i++) {<br />
&nbsp;&nbsp; ...<br />
}<br />
<br />
I had an array with a few thousand items in it, each of them a map with 5 key-value pairs, and just for'ing through the array took a second of CPU on a decent machine.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.shuffle.html">shuffle</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.sort.html">sort</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
