<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Receives data from a socket whether or not it is connection-oriented</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.socket-recv.html">socket_recv</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.socket-select.html">socket_select</a></div>
 <div class="up"><a href="ref.sockets.html">Socket Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.socket-recvfrom" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_recvfrom</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5)</p><p class="refpurpose"><span class="refname">socket_recvfrom</span> &mdash; <span class="dc-title">Receives data from a socket whether or not it is connection-oriented</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.socket-recvfrom-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>socket_recvfrom</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$socket</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter reference">&$buf</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$len</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$flags</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter reference">&$name</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter reference">&$port</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   The <span class="function"><b>socket_recvfrom()</b></span> function receives
   <i><tt class="parameter">len</tt></i> bytes of data in <i><tt class="parameter">buf</tt></i> from
   <i><tt class="parameter">name</tt></i> on port <i><tt class="parameter">port</tt></i> (if the
   socket is not of type <b><tt>AF_UNIX</tt></b>) using
   <i><tt class="parameter">socket</tt></i>. <span class="function"><b>socket_recvfrom()</b></span> can be
   used to gather data from both connected and unconnected sockets.
   Additionally, one or more flags can be specified to modify the behaviour of
   the function.
  </p>
  <p class="para">
   The <i><tt class="parameter">name</tt></i> and <i><tt class="parameter">port</tt></i> must be
   passed by reference. If the socket is not connection-oriented,
   <i><tt class="parameter">name</tt></i> will be set to the internet protocol address of
   the remote host or the path to the UNIX socket. If the socket is
   connection-oriented, <i><tt class="parameter">name</tt></i> is <b><tt>NULL</tt></b>. Additionally,
   the <i><tt class="parameter">port</tt></i> will contain the port of the remote host in
   the case of an unconnected <b><tt>AF_INET</tt></b> or
   <b><tt>AF_INET6</tt></b> socket. 
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-recvfrom-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">socket</tt></i></span>
     <dd>

      <p class="para">
       The <i><tt class="parameter">socket</tt></i> must be a socket resource previously
       created by socket_create().
      </p>
     </dd>

    </dt>


    <dt>

     <span class="term"><i><tt class="parameter">buf</tt></i></span>
     <dd>

      <p class="para">
       The data received will be fetched to the variable specified with
       <i><tt class="parameter">buf</tt></i>.
      </p>
     </dd>

    </dt>


    <dt>

     <span class="term"><i><tt class="parameter">len</tt></i></span>
     <dd>

      <p class="para">
       Up to <i><tt class="parameter">len</tt></i> bytes will be fetched from remote host.
      </p>
     </dd>

    </dt>


    <dt>

     <span class="term"><i><tt class="parameter">flags</tt></i></span>
     <dd>

      <p class="para">
       The value of <i><tt class="parameter">flags</tt></i> can be any combination of 
       the following flags, joined with the binary OR (<i>|</i>)
       operator.
      </p>
      
      <table class="doctable table">
       <caption><b>Possible values for <i><tt class="parameter">flags</tt></i></b></caption>
       
        <thead valign="middle">
         <tr valign="middle">
          <th>Flag</th>
          <th>Description</th>
         </tr>

        </thead>

        <tbody valign="middle" class="tbody">
         <tr valign="middle">
          <td align="left"><b><tt>MSG_OOB</tt></b></td>
          <td align="left">
           Process out-of-band data.
          </td>
         </tr>

         <tr valign="middle">
          <td align="left"><b><tt>MSG_PEEK</tt></b></td>
          <td align="left">
           Receive data from the beginning of the receive queue without
           removing it from the queue.
          </td>
         </tr>

         <tr valign="middle">
          <td align="left"><b><tt>MSG_WAITALL</tt></b></td>
          <td align="left">
           Block until at least <i><tt class="parameter">len</tt></i> are received.
           However, if a signal is caught or the remote host disconnects, the
           function may return less data.
          </td>
         </tr>

         <tr valign="middle">
          <td align="left"><b><tt>MSG_DONTWAIT</tt></b></td>
          <td align="left">
           With this flag set, the function returns even if it would normally
           have blocked.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    </dt>


    <dt>

     <span class="term"><i><tt class="parameter">name</tt></i></span>
     <dd>

      <p class="para">
       If the socket is of the type <b><tt>AF_UNIX</tt></b> type,
       <i><tt class="parameter">name</tt></i> is the path to the file. Else, for
       unconnected sockets, <i><tt class="parameter">name</tt></i> is the IP address of,
       the remote host, or <b><tt>NULL</tt></b> if the socket is connection-oriented.
      </p>
     </dd>

    </dt>


    <dt>

     <span class="term"><i><tt class="parameter">port</tt></i></span>
     <dd>

      <p class="para">
       This argument only applies to <b><tt>AF_INET</tt></b> and
       <b><tt>AF_INET6</tt></b> sockets, and specifies the remote port
       from which the data is received. If the socket is connection-oriented,
       <i><tt class="parameter">port</tt></i> will be <b><tt>NULL</tt></b>.
      </p>
     </dd>

    </dt>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.socket-recvfrom-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   <span class="function"><b>socket_recvfrom()</b></span> returns the number of bytes received,
   or <b><tt>FALSE</tt></b> if there was an error. The actual error code can be retrieved by 
   calling <span class="function"><a href="function.socket-last-error.html" class="function">socket_last_error()</a></span>. This error code may be
   passed to <span class="function"><a href="function.socket-strerror.html" class="function">socket_strerror()</a></span> to get a textual explanation
   of the error.
  </p>
 </div>

                     
 <div class="refsect1 examples" id="refsect1-function.socket-recvfrom-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4158">
    <p><b>Example #1 <span class="function"><b>socket_recvfrom()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_STRICT</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$socket&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOCK_DGRAM</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">SOL_UDP</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">socket_bind</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1223</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$from&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$port&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">socket_recvfrom</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$buf</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$from</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$port</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Received&nbsp;</span><span style="color: #0000BB">$buf</span><span style="color: #DD0000">&nbsp;from&nbsp;remote&nbsp;address&nbsp;</span><span style="color: #0000BB">$from</span><span style="color: #DD0000">&nbsp;and&nbsp;remote&nbsp;port&nbsp;</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     This example will initiate a UDP socket on port 1223 of 127.0.0.1
     and print at most 12 characters received from a remote host.
    </p></div>
   </div>
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.socket-recvfrom-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.3.0</td>
       <td align="left">
        <span class="function"><b>socket_recvfrom()</b></span> is now binary safe.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.socket-recvfrom-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.socket-recv.html" class="function" rel="rdfs-seeAlso">socket_recv()</a> - Receives data from a connected socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-send.html" class="function" rel="rdfs-seeAlso">socket_send()</a> - Sends data to a connected socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-sendto.html" class="function" rel="rdfs-seeAlso">socket_sendto()</a> - Sends a message to a socket, whether it is connected or not</span></li>
    <li class="member"><span class="function"><a href="function.socket-create.html" class="function" rel="rdfs-seeAlso">socket_create()</a> - Create a socket (endpoint for communication)</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="97375""></a>
  <div class="note">
   <strong class="user">rmayo100 at yahoo dot com</strong>
   <a href="#97375" class="date">16-Apr-2010 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I said in my previous note that I'd add a secondary post when I found out more about how to use socket_recvfrom().&nbsp; So here it is.<br />
<br />
As I suspected, the example given is dead-flat-wrong and should be avoided.&nbsp; You WILL need to use pointers like the description at the top of the page says.&nbsp; My working socket_recvfrom() command looks like this:<br />
<br />
&nbsp;&nbsp; &nbsp; $bytes = socket_recvfrom ($socket, &amp;$udp_reply, 100, 0, &amp;$from_addr, &amp;$from_port);<br />
<br />
Also, even if you have no interest in the the information at all, you must create the $from_addr and $from_port variables and pass them by reference.&nbsp; PHP doesn't support passing in NULL just because you might not give a rat's patootie about the information....&nbsp; &nbsp; ;)<br />
<br />
R.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97325""></a>
  <div class="note">
   <strong class="user">rmayo100 at yahoo dot com</strong>
   <a href="#97325" class="date">14-Apr-2010 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example doesn't match the format described at the top of the page.&nbsp; It appears to me that to use this command to receive UDP data, I need to format my calling parameter as follows:<br />
<br />
int socket_recvfrom<br />
( <br />
&nbsp;&nbsp;&nbsp; resource $socket,&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp; Created this with socket_create<br />
&nbsp;&nbsp;&nbsp; string&nbsp; &nbsp;&nbsp; &amp;$buf,&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp;&nbsp; This is a pointer!!<br />
&nbsp;&nbsp;&nbsp; int&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $len,&nbsp; &nbsp; &nbsp; &nbsp; //&nbsp; &nbsp; I know the amount of data<br />
&nbsp;&nbsp;&nbsp; int&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $flags,&nbsp; &nbsp; &nbsp; //&nbsp;&nbsp; I know the flags I want<br />
&nbsp;&nbsp;&nbsp; string&nbsp; &nbsp;&nbsp; &amp;$name,&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp;&nbsp; This is ALSO a pointer!<br />
&nbsp;&nbsp;&nbsp; int&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &amp;$port&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp;&nbsp; This is ALSO a pointer, TOO!!<br />
);<br />
<br />
The example doesn't use any pointers, just values, and I didn't think socket_bind was necessary for UDP sockets.&nbsp; At least, it isn't in C.&nbsp; Anybody got a example that does work??&nbsp; (Because this doesn't see to so far.)<br />
<br />
If I do stumble on a combination of settings that works, I'll post it -- but this doesn't seem to be the most active page on PHP.net....<br />
<br />
R.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79045""></a>
  <div class="note">
   <strong class="user">jaggerwang at gmail dot com</strong>
   <a href="#79045" class="date">07-Nov-2007 09:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm confused about the rerturn value of socket_recvfrom(), it said -1 when failed, but when I call like this:<br />
<br />
if (($len = @socket_recvfrom($sock, $result, 32, 0, $ip, $port)) == -1) {<br />
&nbsp;&nbsp;&nbsp; if ($this-&gt;_debug) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "socket_read() failed: " . socket_strerror(socket_last_error()) . "\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return false;<br />
}<br />
<br />
variable $len = false, when I change the buffer length from 32 to 4096, it becomes right.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70063""></a>
  <div class="note">
   <strong class="user">ryan_at_ryanfisher_dot_com</strong>
   <a href="#70063" class="date">01-Oct-2006 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
DNS RELAY USING UDP SOCKETS<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;<br />
</span><span class="keyword">while(</span><span class="default">TRUE</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$socket </span><span class="keyword">= </span><span class="default">socket_create</span><span class="keyword">(</span><span class="default">AF_INET</span><span class="keyword">, </span><span class="default">SOCK_DGRAM</span><span class="keyword">, </span><span class="default">SOL_UDP</span><span class="keyword">); <br />
&nbsp;&nbsp; if(</span><span class="default">$socket </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">) <br />
&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">'Socket_create failed: '</span><span class="keyword">.</span><span class="default">socket_strerror</span><span class="keyword">(</span><span class="default">socket_last_error</span><span class="keyword">()).</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; if(!</span><span class="default">socket_bind</span><span class="keyword">(</span><span class="default">$socketD</span><span class="keyword">, </span><span class="string">"0.0.0.0"</span><span class="keyword">, </span><span class="default">53</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">socket_close</span><span class="keyword">(</span><span class="default">$socketD</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">'socket_bind failed: '</span><span class="keyword">.</span><span class="default">socket_strerror</span><span class="keyword">(</span><span class="default">socket_last_error</span><span class="keyword">()).</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; </span><span class="default">socket_recvfrom</span><span class="keyword">(</span><span class="default">$socket</span><span class="keyword">,</span><span class="default">$buf</span><span class="keyword">,</span><span class="default">65535</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$clientIP</span><span class="keyword">,</span><span class="default">$clientPort</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$stz </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">$buf</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$tx </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$stz</span><span class="keyword">)-</span><span class="default">26</span><span class="keyword">-</span><span class="default">10</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="string">"00"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$e</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$stz</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">+</span><span class="default">26</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$e</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">$stz</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">+</span><span class="default">27</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">$f </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$f </span><span class="keyword">&lt; </span><span class="default">32</span><span class="keyword">) </span><span class="default">$tx </span><span class="keyword">.= </span><span class="string">"."</span><span class="keyword">; else<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$tx </span><span class="keyword">.= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%c"</span><span class="keyword">,</span><span class="default">$f</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$clientIP</span><span class="string"> &lt;"</span><span class="keyword">.</span><span class="default">$tx</span><span class="keyword">.</span><span class="string">"&gt;\n"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fsockopen</span><span class="keyword">(</span><span class="string">"udp://72.174.110.4"</span><span class="keyword">,</span><span class="default">53</span><span class="keyword">,</span><span class="default">$errno</span><span class="keyword">,</span><span class="default">$errstr</span><span class="keyword">);<br />
&nbsp;&nbsp; if (!</span><span class="default">$fp</span><span class="keyword">) <br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"ERROR: </span><span class="default">$errno</span><span class="string"> - </span><span class="default">$errstr</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; } <br />
&nbsp;&nbsp; else <br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">$buf</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">$buf</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">667</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp; }<br />
</span><span class="default">socket_send</span><span class="keyword">(</span><span class="default">$socket</span><span class="keyword">,</span><span class="default">$ret</span><span class="keyword">,</span><span class="default">667</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50207""></a>
  <div class="note">
   <strong class="user">tsuna at tsunaquack d0t c0m</strong>
   <a href="#50207" class="date">21-Feb-2005 03:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is very handy when dealing with UDP connections, because it enables you to know who's the client who connected to your socket. Bear in mind that UDP doesn't care about the source of the connection, the packets may be annonymous or even faked. No check is required.<br />
<br />
If you want to listen on an UDP socket and answer to the client, read my comment on socket_listen() -&gt; <a href="http://www.php.net/manual/en/function.socket-listen.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.socket-listen.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.socket-recv.html">socket_recv</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.socket-select.html">socket_select</a></div>
 <div class="up"><a href="ref.sockets.html">Socket Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
