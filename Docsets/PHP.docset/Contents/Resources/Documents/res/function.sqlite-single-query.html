<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Executes a query and returns either an array for one single column or the value of the first row</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.sqlite-seek.html">sqlite_seek</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.sqlite-udf-decode-binary.html">sqlite_udf_decode_binary</a></div>
 <div class="up"><a href="ref.sqlite.html">SQLite Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.sqlite-single-query" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlite_single_query</h1>
  <h1 class="refname">SQLiteDatabase::singleQuery</h1>
  <p class="verinfo">(PHP 5, PECL sqlite &gt;= 1.0.1)</p><p class="refpurpose"><span class="refname">sqlite_single_query</span> -- <span class="refname">SQLiteDatabase::singleQuery</span> &mdash; <span class="dc-title">
   Executes a query and returns either an array for one single column or the value of the first row
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.sqlite-single-query-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><b>sqlite_single_query</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$db</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$query</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$first_row_only</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$decode_binary</tt></span>
  ]] )</div>

  <p class="para rdfs-comment">Object oriented style (method):</p>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><b>SQLiteDatabase::singleQuery</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$query</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$first_row_only</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$decode_binary</tt></span>
  ]] )</div>

  
  <div class="warning"><b class="warning">Warning</b><p class="simpara">This function is
currently not documented; only its argument list is available.
</p></div>

 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="82444""></a>
  <div class="note">
   <strong class="user">oohall AT gmail DOT comMERCIAL</strong>
   <a href="#82444" class="date">10-Apr-2008 10:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The previous note by franp at free dot fr appears to be incorrect, some cursory testing showed that DELETE FROM and INSERT INTO queries worked fine so other queries which do not return data should also work. However, if you're looking for a drop in replacement for sqlite_query(), try sqlite_unbuffered_query() as it appears to only execute the first query if more than one is given.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46019""></a>
  <div class="note">
   <strong class="user">franp at free dot fr</strong>
   <a href="#46019" class="date">26-Sep-2004 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
AFAIK, you cannot use sqlite-single-query for all kind of SQL queries.<br />
If you are lazy and thought you could safely copy-paste your :<br />
<span class="default">&lt;?php $result </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">sqlite</span><span class="keyword">-</span><span class="default">single</span><span class="keyword">-</span><span class="default">query</span><span class="keyword">(</span><span class="default">$sSQL</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span>straight from one query to the other, whatever is the query as long as it has only one line, you are wrong.<br />
<br />
Apparently, sqlite-single-query is limited to queries that return data, that is to SELECT queries. <br />
<br />
<span class="default">&lt;?php<br />
$sSQL&nbsp; </span><span class="keyword">= </span><span class="string">"DELETE FROM atoms WHERE ID = '8';"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// The following won't work :<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">singleQuery</span><span class="keyword">(</span><span class="default">$sSQL</span><span class="keyword">);<br />
<br />
</span><span class="comment">// But the following will :<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="default">$sSQL</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.sqlite-seek.html">sqlite_seek</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.sqlite-udf-decode-binary.html">sqlite_udf_decode_binary</a></div>
 <div class="up"><a href="ref.sqlite.html">SQLite Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
