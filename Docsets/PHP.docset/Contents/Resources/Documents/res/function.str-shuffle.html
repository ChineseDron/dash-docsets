<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Randomly shuffles a string</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.str-rot13.html">str_rot13</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.str-split.html">str_split</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.str-shuffle" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">str_shuffle</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5)</p><p class="refpurpose"><span class="refname">str_shuffle</span> &mdash; <span class="dc-title">Randomly shuffles a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.str-shuffle-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>str_shuffle</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$str</tt></span>
   )</div>

  <p class="simpara">
   <span class="function"><b>str_shuffle()</b></span> shuffles a string.  One permutation
   of all possible is created.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.str-shuffle-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">str</tt></i></span>
     <dd>

      <p class="para">
       The input string.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.str-shuffle-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the shuffled string.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.str-shuffle-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4428">
    <p><b>Example #1 <span class="function"><b>str_shuffle()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$shuffled&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_shuffle</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;echo&nbsp;something&nbsp;like:&nbsp;bfdaec<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$shuffled</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.str-shuffle-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.shuffle.html" class="function" rel="rdfs-seeAlso">shuffle()</a> - Shuffle an array</span></li>
    <li class="member"><span class="function"><a href="function.rand.html" class="function" rel="rdfs-seeAlso">rand()</a> - Generate a random integer</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="98531""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#98531" class="date">21-Jun-2010 10:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Shuffle for all encoding formats<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">unicode_shuffle</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$chars</span><span class="keyword">, </span><span class="default">$format </span><span class="keyword">= </span><span class="string">'UTF-8'</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$chars</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rands</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$rands </span><span class="keyword">as </span><span class="default">$r</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s</span><span class="keyword">.= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97107""></a>
  <div class="note">
   <strong class="user">andre at admolin dot com</strong>
   <a href="#97107" class="date">01-Apr-2010 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are nice functions for invert/randomize/alter the capitalization of a string.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">invert_case</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">); ++</span><span class="default">$i </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">.= ( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] == </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] ) ) ? </span><span class="default">strtoupper</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] ) : </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">rand_case</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">) {&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">); ++</span><span class="default">$i </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">.= ( </span><span class="default">rand</span><span class="keyword">( </span><span class="default">0</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">) ? </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] ) : </span><span class="default">strtoupper</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">alter_case</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$str </span><span class="keyword">); ++</span><span class="default">$i </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">.= ( </span><span class="default">$i </span><span class="keyword">% </span><span class="default">2 </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) ? </span><span class="default">strtoupper</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] ) : </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Examples:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment"># o RATO ROEU A ROUPA DO REI DE ROMA.<br />
</span><span class="keyword">echo </span><span class="default">invert_case</span><span class="keyword">( </span><span class="string">'O rato roeu a roupa do rei de roma.' </span><span class="keyword">);<br />
<br />
</span><span class="comment"># o RATo RoEU A ROUpA Do reI De rOma.<br />
</span><span class="keyword">echo </span><span class="default">rand_case</span><span class="keyword">( </span><span class="string">'O rato roeu a roupa do rei de roma.' </span><span class="keyword">);<br />
<br />
</span><span class="comment"># O RaTo rOeU A RoUpA Do rEi dE RoMa.<br />
</span><span class="keyword">echo </span><span class="default">alter_case</span><span class="keyword">( </span><span class="string">'O rato roeu a roupa do rei de roma.' </span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90205""></a>
  <div class="note">
   <strong class="user">benshelock at gmail dot com</strong>
   <a href="#90205" class="date">09-Apr-2009 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="string">'abcdefghijklmnopqrstuvwxyz1234567890'</span><span class="keyword">);<br />
echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Creates a nice 6 digit unique ID similar to that of tinyurl.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80604""></a>
  <div class="note">
   <strong class="user">merreborn at mailinator dot com</strong>
   <a href="#80604" class="date">24-Jan-2008 11:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: jojersztajner at OXYGEN dot POLAND<br />
<br />
"It may be useful if you want to create an accessible CAPTCHA."<br />
<br />
This is a flawed concept, since:<br />
<br />
1) It's not really accessible -- your scrambled text would produce incomprehensible output if passed through a screen reader (just imagine what a computer saying "uinervtisy" would sound like)<br />
<br />
2) It's in no way secure.&nbsp; A simple script with access to a copy of /usr/dict/words can reduce the space of possible solutions to no more than a handful.<br />
<br />
i.e., it's trivial for a script to generate a command like the following, which solves the "uinervtisy" example 100% of the time:<br />
<br />
php@server:~$ egrep -i '^u[inervts]{8}y$' /usr/share/dict/words<br />
university<br />
php@server:~$<br />
<br />
Novel idea, but it would take a clever spammer all of 5 minutes to defeat it completely.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75796""></a>
  <div class="note">
   <strong class="user">jojersztajner at OXYGEN dot POLAND</strong>
   <a href="#75796" class="date">16-Jun-2007 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Aoccdrnig to rseearch at an Elingsh uinervtisy, it deosn't mttaer in waht oredr the ltteers in a wrod are, the olny iprmoatnt tihng is that the frist and lsat ltteer is at the rghit pclae. The rset can be a toatl mses and you can sitll raed it wouthit a porbelm. Tihs is bcuseae we do not raed ervey lteter by it slef but the wrod as a wlohe.<br />
<br />
Hree's a cdoe taht slerbmcas txet in tihs way:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">scramble_word</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">) &lt; </span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$word</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} . </span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">)) . </span><span class="default">$word</span><span class="keyword">{</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/(\w+)/e'</span><span class="keyword">, </span><span class="string">'scramble_word("\1")'</span><span class="keyword">, </span><span class="string">'A quick brown fox jumped over the lazy dog.'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
It may be ufseul if you wnat to cetare an aessblicce CTCPAHA.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73254""></a>
  <div class="note">
   <strong class="user">CygnusX1</strong>
   <a href="#73254" class="date">14-Feb-2007 01:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To cobine functionality and simplicity of the two functions below we can have:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">generatePasswd</span><span class="keyword">(</span><span class="default">$numAlpha</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">,</span><span class="default">$numNonAlpha</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$listAlpha </span><span class="keyword">= </span><span class="string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$listNonAlpha </span><span class="keyword">= </span><span class="string">',;:!?.$/*-+&amp;@_+;./*&amp;?$-!,'</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">str_shuffle</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">$listAlpha</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">,</span><span class="default">$numAlpha</span><span class="keyword">) .<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">$listNonAlpha</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">,</span><span class="default">$numNonAlpha</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72030""></a>
  <div class="note">
   <strong class="user">dzafel at op dot pl</strong>
   <a href="#72030" class="date">29-Dec-2006 01:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Very, very simple random password generator, without using rand() function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">random_password</span><span class="keyword">(</span><span class="default">$chars </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$letters </span><span class="keyword">= </span><span class="string">'abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">$letters</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">$chars</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58411""></a>
  <div class="note">
   <strong class="user">nmoyroud at teledetection dot fr</strong>
   <a href="#58411" class="date">03-Nov-2005 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just another update to password builder function. With this version, you can choose the number of alphanumeric characters to add and the number of non-alphanumeric characters. You obtain a more secure password. You can add another characters to the non-alphanumeric list if you need.<br />
If you want a password with 8 alphanumeric and 3 non-alphanumeric characters in a random order, just call :<br />
random_passwd(8,3);<br />
<br />
function generatePasswd($numAlpha=6,$numNonAlpha=2) {<br />
&nbsp;&nbsp;&nbsp; $pwd = '';<br />
&nbsp;&nbsp;&nbsp; $listAlpha = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';<br />
&nbsp;&nbsp;&nbsp; $listNonAlpha = ',;:!?.$/*-+&amp;@_+;./*&amp;?$-!,';<br />
<br />
&nbsp;&nbsp;&nbsp; $start = mt_rand(1, (strlen($listAlpha)-$numAlpha));<br />
&nbsp;&nbsp;&nbsp; $string = str_shuffle($listAlpha);<br />
&nbsp;&nbsp;&nbsp; $pwd .= substr($string,$start,$numAlpha);<br />
<br />
&nbsp;&nbsp;&nbsp; $start = mt_rand(1, (strlen($listNonAlpha)-$numNonAlpha));<br />
&nbsp;&nbsp;&nbsp; $string = str_shuffle($listNonAlpha);<br />
&nbsp;&nbsp;&nbsp; $pwd .= substr($string,$start,$numNonAlpha);<br />
<br />
&nbsp;&nbsp;&nbsp; return str_shuffle($pwd);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55858""></a>
  <div class="note">
   <strong class="user">support at wiredlabs dot net</strong>
   <a href="#55858" class="date">15-Aug-2005 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just an update to sfalcon's function.&nbsp; Chooses a random number within the length and then selects a random segment not the current segment of 1 to $numchar. Also added upper-case chars.<br />
<br />
function random_passwd($numchar=8) {<br />
&nbsp;&nbsp;&nbsp; $str = "abcefghijklmnopqrstuvwxyz1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ";<br />
&nbsp;&nbsp;&nbsp; $start = mt_rand(1, (strlen($str)-$numchar));<br />
&nbsp;&nbsp;&nbsp; $string = str_shuffle($str);<br />
&nbsp;&nbsp;&nbsp; $password = substr($string,$start,$numchar);<br />
&nbsp;&nbsp;&nbsp; return($password);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55509""></a>
  <div class="note">
   <strong class="user">Qube, Efnet #php</strong>
   <a href="#55509" class="date">05-Aug-2005 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
(correction)<br />
I balked at the loop method used below in inverting and randomising capitalisation and released that we just need to flip the bit (3rd bit or 6th depending on what way you look at it) and it would cause the case change in a character.<br />
<br />
Full code and example:<br />
<a href="http://www.pgregg.com/projects/php/code/str_case.php" rel="nofollow" target="_blank">http://www.pgregg.com/projects/php/code/str_case.php</a><br />
(append an s to the url to get the .phps source)<br />
<br />
I came up with a method and thanks to arpad (optimising as ever! :) we now have:<br />
<br />
Invert case:<br />
preg_replace('/[a-z]/ie', '\'$0\' ^ str_pad(\'\', strlen(\'$0\'), \' \')', $input);<br />
<br />
Randomise case:<br />
preg_replace('/[a-z]/ie', '(rand(0,1) ? \'$0\' ^ str_pad(\'\', strlen(\'$0\'), \' \') : \'$0\')', $input);<br />
<br />
and for good measure:<br />
Upper case:<br />
preg_replace('/[a-z]/e', '\'$0\' &amp; str_pad(\'\', strlen(\'$0\'), chr(223))', $input);<br />
<br />
Lower case:<br />
preg_replace('/[A-Z]/e', '\'$0\' | str_pad(\'\', strlen(\'$0\'), \' \')', $input);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54381""></a>
  <div class="note">
   <strong class="user">rudigreen at gmail dot com</strong>
   <a href="#54381" class="date">01-Jul-2005 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are 2 functions, one inverts the case of a string and the other one randomizes the captilization in a string, kinda <br />
useful string operations.<br />
<br />
&lt;?<br />
<br />
//Inverts the case of a string<br />
function invert_case($str)<br />
{<br />
&nbsp;&nbsp;&nbsp; $nstr = '';<br />
&nbsp;&nbsp;&nbsp; for($i=0;$i&lt;strlen($str);$i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $char = substr($str,$i,1);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //If it's lower case make it upper case<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($char == strtolower($char))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $char = strtoupper($char);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else //if it's upper than make it lower<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $char = strtolower($char);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nstr .= $char;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $nstr;<br />
}<br />
<br />
//Randomly capilizes/uncaptilizes chars in a string<br />
function rand_case($str)<br />
{<br />
&nbsp;&nbsp;&nbsp; $nstr = '';<br />
&nbsp;&nbsp;&nbsp; for($i=0;$i&lt;strlen($str);$i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $char = substr($str,$i,1);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $char = invert_case($char);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //2 options, to change or not to change<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; rand(0,1) == 1 ? $char = invert_case($char) : null;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $nstr .= $char;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $nstr;<br />
}<br />
<br />
//Example:<br />
echo rand_case("pHp rooLz! gUyZ"); //produces something random<br />
echo invert_case("pHP STRiNG sEx");//produces Php strIng SeX<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49113""></a>
  <div class="note">
   <strong class="user">Michiel van den boogaard</strong>
   <a href="#49113" class="date">17-Jan-2005 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Shortend function for PHP &lt; 4.3<br />
<span class="default">&lt;?php&nbsp; <br />
</span><span class="keyword">function </span><span class="default">RandomPass</span><span class="keyword">(</span><span class="default">$numchar</span><span class="keyword">)&nbsp; <br />
{&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$word </span><span class="keyword">= </span><span class="string">"a,b,c,d,e,f,g,h,i,j,k,l,m,1,2,3,4,5,6,7,8,9,0"</span><span class="keyword">;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="default">$word</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newstring </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">);&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$numchar</span><span class="keyword">);&nbsp; <br />
}&nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45129""></a>
  <div class="note">
   <strong class="user">aidan at php dot net</strong>
   <a href="#45129" class="date">26-Aug-2004 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This functionality is now implemented in the PEAR package PHP_Compat.<br />
<br />
More information about using this function without upgrading your version of PHP can be found on the below link:<br />
<br />
<a href="http://pear.php.net/package/PHP_Compat" rel="nofollow" target="_blank">http://pear.php.net/package/PHP_Compat</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45117""></a>
  <div class="note">
   <strong class="user">sfalcon_(at)_pymesweb_(dot)_com</strong>
   <a href="#45117" class="date">26-Aug-2004 08:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use str_shuffle to make simple and nice random passwords:<br />
<br />
function random_passwd($numchar) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $string =str_shuffle("abcefghijklmnopqrstuvwxyz1234567890");<br />
&nbsp;&nbsp; &nbsp;&nbsp; $password = substr($string,1,$numchar);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; return($password);<br />
}<br />
<br />
echo random_passwd('8') // Will return something like "xa3dh214" =)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.str-rot13.html">str_rot13</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.str-split.html">str_split</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
