<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Installation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="imagick.requirements.html">Requirements</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="imagick.configuration.html">Runtime Configuration</a></div>
 <div class="up"><a href="imagick.setup.html">Installing/Configuring</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="imagick.installation" class="section">
  <h2 class="title">Installation</h2>
  <p class="para">
   This <a href="http://pecl.php.net/" class="link external" title="Link : http://pecl.php.net/">&raquo;&nbsp;PECL</a> extension
is not bundled with PHP.
  </p>
  <p class="para">
   Information for installing this PECL extension may be
found in the manual chapter titled <a href="install.pecl.html" class="link">Installation
of PECL extensions</a>. Additional information such as new releases,
downloads, source files, maintainer information, and a CHANGELOG, can be
located here: 
   <a href="http://pecl.php.net/package/imagick" class="link external" title="Link : http://pecl.php.net/package/imagick">&raquo;&nbsp;http://pecl.php.net/package/imagick</a>.
  </p>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <span class="simpara">The official name of this extension is <em class="emphasis">imagick</em>.</span>
  </p></blockquote>
  <p class="para">
   A <acronym title="Dynamic Link Library">DLL</acronym> for this
<acronym title="PHP Extension and Application Repository">PECL</acronym> extension is currently unavailable. See also the
<a href="install.windows.building.html" class="link">building on Windows</a>
section.
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="99162""></a>
  <div class="note">
   <strong class="user">vbsaltydog</strong>
   <a href="#99162" class="date">30-Jul-2010 08:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I could not install via PECL or compiling from source because of an error from line 3339 of the configure file generated by phpize so I looked at the configure file at line 3339 and it was just a check for the PHP version using the php-config command with the --vernum switch which was not supported by my PHP version so I commented out that check from the configure file and then it would configure, compile, and install.<br />
<br />
After installation, it put the shared object file in my php extension modules directory so I added an entry to my /etc/php.d directory to load the extension file and restarted apache and the imagick section is present in my info.php output.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95808""></a>
  <div class="note">
   <strong class="user">Martin Vincent</strong>
   <a href="#95808" class="date">22-Jan-2010 08:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For PHP 5.3 I have read that these versions should work:<br />
ImageMagick-6.5.9-0-Q16-windows-dll.exe<br />
imagick-2.3.0-dev/vc9_nts/php_imagick.dll</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95270""></a>
  <div class="note">
   <strong class="user">scottchu dot tw at gmail dot com</strong>
   <a href="#95270" class="date">22-Dec-2009 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PECL install imagick contantly fails due to the server is behind some firewall, so one may try 'phpize' way to install.<br />
<br />
However, someone like me who doesn't want to use default options may experience thru failure situation. And if you google thru the cloud, you may find many people tell you to rpm imagick-devel with yum or apt. That does solve the problem.<br />
<br />
However, In my case, my server already has php 5.3.1 installed under /usr/lcal/php &amp; the linux doesn't have yum or apt service. Furthermore, I just installed imagemagick yesterday (Also quite a battle =.=) under /usr/local/imk <br />
<br />
(note: You may see that I don't like default options, I like to install each package under different dir under /usr/local).<br />
<br />
Today, I want to install imagick, so this is what I do:<br />
<br />
1&gt; add /usr/local/php/bin &amp; /usr/local/imk/bin to path.<br />
<br />
2&gt; download imagick source of intended version (I use 3.0.b1).<br />
<br />
3&gt; enter that dir &amp; issue 'phpize'.<br />
<br />
(note:I got a habit to issue './configure --help &gt; oo' &amp; 'view oo' to see all the options first before installation)<br />
<br />
4&gt; 'vi configure' &amp; find LIBS, then add '-l/usr/local/imk/lib' after it.<br />
<br />
5&gt; issue './configure --prefix=/usr/local/ik4php' --with-imagick='/usr/local/imk'.<br />
<br />
(note: with-imagick points out where you install the imagicmagick package before, this name 'imagick'&nbsp; is not appropriate since it incurs ambiguity with imagick for php =.=)<br />
<br />
6&gt; after it's done, issue 'make'.<br />
<br />
7&gt; after make is done, issue 'make install'.<br />
<br />
(note:the last two output lines will tell you where to find the generated shared object library file: imagick.so)<br />
<br />
8&gt; go to that dir &amp; copy imagick.so to the extension dir defined in php.ini.<br />
<br />
(note: in my case it's /usr/local/php/ext)<br />
<br />
9&gt; edit php.ini to add 'extension=imagick.so' line.<br />
<br />
10&gt; stop &amp; start apache or just restart apache.<br />
<br />
(note: if you have tomcat + apache + jk module installation style as mine, shutdown tomcat, stop apache, then startup tomcat first, then start apache)<br />
<br />
If you have similar server environment &amp; situation as mine, hope this article helps you.<br />
<br />
Scott Chu @ Taiwan</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94169""></a>
  <div class="note">
   <strong class="user">gmorris at ilogsystems dot com</strong>
   <a href="#94169" class="date">20-Oct-2009 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I struggled to get imagick installed for mamp and dug high and low. I<br />
was left with the impression that so many struggle with opensource and<br />
&nbsp;this type of install that it is almost a right of passage. For my part, I<br />
&nbsp;managed to find two threads that helped me and the steps work. A lot<br />
&nbsp;of people talked about macports and pear installs which are fine(I tried<br />
&nbsp;them), but 1) they sometimes don't get the latest version of what<br />
&nbsp;you need and 2) I can't tell what they're doing and where they're doing it.<br />
<br />
It's much easier to me to download the stuff where i want it and be <br />
sure of what i got!<br />
<br />
First of all download a tar image of the ImageMagick install from here:<br />
sourceforge.net/projects/imagemagick/files/<br />
<br />
Unpack it and then from terminal issue the following commands in<br />
&nbsp;quotes:<br />
1.&nbsp; "cd ImageMagick-6.5.7" - go where you placed the folder<br />
<br />
2.&nbsp; "./configure"<br />
<br />
3.&nbsp; "make"<br />
<br />
If ImageMagick configured and compiled without complaint, you are<br />
&nbsp;ready to install it on your system. Administrator privileges are<br />
&nbsp;required to install. To install, type the following command in terminal:<br />
<br />
1.&nbsp; "sudo make install"<br />
<br />
To check your ImageMagick installation enter the following command<br />
&nbsp;in terminal:<br />
<br />
1. "make check"<br />
<br />
Remember all commands are entered into terminal in the directory in<br />
&nbsp;which you unzipped your downloaded ImageMagick tar file. (the latest<br />
&nbsp;version of which at this time of writing is ImageMagick-6.5.7.)<br />
<br />
Next we need to install Imagick.so which is what we want for PHP.<br />
<br />
First of all we need to get the right file and we can get that from here:<br />
<br />
pecl.php.net/package/imagick/download<br />
<br />
At current writing the latest stable version is imagick-2.3.0.<br />
<br />
Unpack the tar file and then enter the commands in quotes in terminal:<br />
<br />
1.&nbsp; "cd imagick-2.2.3" - go where you placed the folder<br />
<br />
2.&nbsp;&nbsp; "phpize"<br />
<br />
3.&nbsp;&nbsp; "./configure --with-imagick=/opt/local"<br />
<br />
4.&nbsp;&nbsp; "make"<br />
<br />
5.&nbsp; &nbsp; "make install"<br />
<br />
If you look at the bottom of the output, it will tell you where it has <br />
placed the imagick.so module. For me it was placed in:<br />
&nbsp;<br />
/imagick-2.3.0/modules<br />
<br />
which is where i had unpacked the downloaded imagick-2.3.0 file.<br />
<br />
Then copy it into your MAMP PHP extensions folder. <br />
<br />
For me it was: <br />
/Applications/MAMP/bin/php5/lib/php/extensions/no-debug-non-zts<br />
-20050922/<br />
<br />
Then, for PHP to honor the the extension, add the following line to the<br />
&nbsp;extensions section of your php.ini file:<br />
<br />
extension=imagick.so<br />
<br />
You should now have a working imagick extension with all of the<br />
&nbsp;resources for php found here:<br />
php.net/manual/en/book.imagick.php<br />
<br />
I will not claim credit for anyone for whom this works, that goes to:<br />
<br />
Imagemagick who posted instructions here:<br />
www.imagemagick.org/script/install-source.php<br />
<br />
and Wallance who posted his experience here:<br />
www.daniweb.com/forums/thread194181.html#<br />
<br />
I really hope this helps others because developing this stuff is <br />
frustrating enough without spending hours or even days just trying to set<br />
&nbsp;up the development environment so you can use the tools.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93490""></a>
  <div class="note">
   <strong class="user">elia weiss</strong>
   <a href="#93490" class="date">12-Sep-2009 12:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you get the following error on windows (vista):<br />
'The application has failed to start because its side-by-side <br />
configuration is incorrect. Please see the application event log<br />
&nbsp;for more detail.'<br />
<br />
then install:<br />
Visual C++ 2008 Redistributable Package (x86) <br />
from:<br />
<a href="http://www.microsoft.com/downloads" rel="nofollow" target="_blank">http://www.microsoft.com/downloads</a><br />
/details.aspx?familyid=A5C84275-3B97-4AB7-A40D-3802B2AF5FC2<br />
<br />
see: <br />
<a href="http://www.imagemagick.org/script/binary-releases.php#windows" rel="nofollow" target="_blank">http://www.imagemagick.org/script/binary-releases.php#windows</a><br />
for more info (scroll to the end of the page)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92529""></a>
  <div class="note">
   <strong class="user">Ultimater at gmail dot com</strong>
   <a href="#92529" class="date">28-Jul-2009 07:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installing Imagick on Windows isn't too hard.&nbsp; I followed the guide at <a href="http://valokuva.org/?page_id=50 and managed to install it without too much sweat." rel="nofollow" target="_blank">http://valokuva.org/?page_id=50 and managed to install it without too much sweat.</a><br />
<br />
1. Visit <a href="http://imagemagick.org/script/binary-releases.php#windows and download " rel="nofollow" target="_blank">http://imagemagick.org/script/binary-releases.php#windows and download </a>"ImageMagick-6.5.4-6-Q16-windows-dll.exe"<br />
<br />
2. Pick a version at <a href="http://valokuva.org/outside-blog-content/imagick-windows-builds/ The directories are in YYMMDD format. The latest version that worked for me was 2008-Jul-09 so download 080709/php_imagick_dyn-Q16.dll respectively." rel="nofollow" target="_blank">http://valokuva.org/outside-blog-content/imagick-windows-builds/ The directories are in YYMMDD format. The latest version that worked for me was 2008-Jul-09 so download 080709/php_imagick_dyn-Q16.dll respectively.</a><br />
&nbsp;<br />
3. Rename php_imagick_dyn-Q16.dll to "php_imagick.dll" and move it to php/ext<br />
<br />
4. open php.ini, and make sure <br />
extension=php_imagick.dll<br />
appears in the file and uncommented then resave.<br />
Note: phpinfo() will tell you the location of the loaded php.ini file.<br />
<br />
5. Re-start your webserver.<br />
<br />
That's it, a simple test will tell you if your installation was successful.<br />
<span class="default">&lt;?php<br />
$im </span><span class="keyword">= new </span><span class="default">Imagick</span><span class="keyword">();<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">newPseudoImage</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="string">"magick:rose"</span><span class="keyword">);<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">setImageFormat</span><span class="keyword">(</span><span class="string">"png"</span><span class="keyword">);<br />
</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">roundCorners</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$type</span><span class="keyword">=</span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">getFormat</span><span class="keyword">();<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: </span><span class="default">$type</span><span class="string">"</span><span class="keyword">);<br />
echo </span><span class="default">$im</span><span class="keyword">-&gt;</span><span class="default">getimageblob</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90571""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#90571" class="date">28-Apr-2009 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installation of Imagick on Windows:<br />
-------------------------------------------<br />
<br />
Here an important hint for all who want to use Imagick:<br />
<br />
First of all: Forget this PECL.<br />
It is for Linux only.<br />
<br />
In the old discussion boards I read that some years ago there was a DLL for PHP available on the FTP server of imagemagick.org. Once upon a time there has also been a CHM installation help file on FTP which also has been removed. The only thing you find today on the FTP server is a ridiculous text file:<br />
<a href="ftp://ftp.imagemagick.org/pub/ImageMagick/php/windows/README.txt" rel="nofollow" target="_blank">ftp://ftp.imagemagick.org/pub/ImageMagick/php/windows/README.txt</a><br />
This file contains 3 links:<br />
2 links of them are dead meanwhile.<br />
The only working one is this:<br />
www.dirk.sh/dirk/magickwand<br />
a page of a chinese guy who offers a MagickWand.dll for PHP of 4 MB size (Q8, static compiled)<br />
But he discontinoued support since 2007.<br />
There is no installation manual available.<br />
<br />
He only writes:<br />
"Please ref watson's post about how to install on Windows:<br />
redux.imagemagick.org/discourse-server/viewtopic.php?t=4708"<br />
<br />
This page which uses stupid style sheet settings like "font-size:11%" which make parts of the text unreadable also was no help.<br />
<br />
At the end all manuals say the same:<br />
Copy the DLL into the "ext" folder and add the entry to the php.ini:<br />
extension=dllname<br />
restart the Apache and you are done.<br />
<br />
But this is not true: it simply does NOT work on Xampp.<br />
In a DOS box entering <br />
PHP.exe -i &gt; Info.txt<br />
prints all installed modules.<br />
You also find:<br />
<br />
"magickwand<br />
MagickWand Backend Library =&gt; ImageMagick<br />
MagickWand Extension Version =&gt; 1.0.5<br />
ImageMagick support =&gt; enabled<br />
ImageMagick version =&gt; ImageMagick 6.3.5 09/21/07 Q8 www.imagemagick.org<br />
ImageMagick QuantumRange (MaxRGB) =&gt; 255<br />
MagickWand supported image formats =&gt; A, ART, AVI, AVS, B, BIE, BMP, BMP2, BMP3, etc.."<br />
<br />
But after executing phpinfo() MagickWand does NOT appear under the installed extensions. Strange!!<br />
And the Wand commands do NOT function like:<br />
$resource = NewMagickWand();<br />
<br />
I also found a php_imagick.dll of 65 kB size in the internet which also does not work. It does not even appear in <br />
PHP -i.<br />
<br />
There is no error in the Apache logfile!<br />
<br />
I read all I could find in the internet and wasted 2 entire days, without success, now I'm sick of Imagick and I absolutely cannot understand why the guys of imagemagick.org don't offer a ready compiled dll with an installation manual anymore?<br />
<br />
In general the Imagick page seems not very trustworthy:<br />
On the download page they do never explain what is the difference between the several versions. What doess static mean?<br />
They never explain. (Static means that the convert.exe does not depend on so many dlls. It only requires one external DLL, for that it has a size of 5 MB instead of 200 kb) <br />
And the explanation about the difference between Q8 and Q16 version is wrong: Q8 does NOT mean 8 Bits per pixel as the download page says. It means 8 Bit per color = 24 Bit per Pixel)<br />
<br />
And I found an ugly misdesign:<br />
If you install the Q8 version on your local PC and want to copy the files from your harddisk to the server, then convert.exe will crash!<br />
Convert.exe depends on a Registry Entry. And if this is missing (on a server where you have not full access) it will crash. The strangest thing is that this registry key can contain any nonsense, it only must exist! How stupid!<br />
<br />
So if you want to execute as an alternative the commandline tools like convert.exe from your PHP code you must add this Registry entries to the server:<br />
HKEY_LOCAL_MACHINE\SOFTWARE\ImageMagick\6.5.1\Q:8\ConfigurePath<br />
The value can be anything.<br />
<br />
But with the commandline tools you cannot obtain the width and height of an image in your PHP code. This is not possible.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="imagick.requirements.html">Requirements</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="imagick.configuration.html">Runtime Configuration</a></div>
 <div class="up"><a href="imagick.setup.html">Installing/Configuring</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
