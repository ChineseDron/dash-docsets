<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Windows Installer (PHP 5.2 and later)</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.installer.html">Windows Installer (PHP 5.1.0 and earlier)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.manual.html">Manual Installation Steps</a></div>
 <div class="up"><a href="install.windows.html">Installation on Windows systems</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="install.windows.installer.msi" class="sect1">
   <h2 class="title">Windows Installer (PHP 5.2 and later)</h2>
    <p class="para">
     The Windows PHP installer for later versions of PHP is built using MSI
     technology using the Wix Toolkit (<a href="http://wix.sourceforge.net/" class="link external" title="Link : http://wix.sourceforge.net/">&raquo;&nbsp;http://wix.sourceforge.net/</a>). 
     It will install and configure PHP and all the built-in and 
     <acronym title="PHP Extension and Application Repository">PECL</acronym> extensions, as well as configure many of the 
     popular web servers such as <acronym>IIS</acronym>, Apache, and Xitami.
    </p>
    
    <p class="simpara">
     First, install your selected <acronym title="Hypertext Transfer Protocol">HTTP</acronym> (web) server on your 
     system, and make sure that it works. Then proceed with one of the following
     install types.
    </p>
    
    <div class="sect2" id="install.windows.installer.msi.normal">
    <h3 class="title">Normal Install</h3>
     <p class="para">
      Run the MSI installer and follow the instructions provided by the
      installation wizard. You will be prompted to select the Web Server you
      wish to configure first, along with any configuration details needed.
     </p>
     
     <p class="para">
      You will then be prompted to select which features and extensions you
      wish to install and enable. By selecting &quot;Will be installed on local 
      hard drive&quot; in the drop-down menu for each item you can trigger whether
      to install the feature or not. By selecting &quot;Entire feature will be 
      installed on local hard drive&quot;, you will be able to install all 
      sub-features of the included feature (for example by selecting this 
      option for the feature &quot;PDO&quot; you will install all PDO Drivers).
     </p>
     
     <div class="warning"><b class="warning">Warning</b>
      <p class="para">
       It is not recommended to install all extensions by default, since many
       of them require dependencies from outside PHP in order to function
       properly. Instead, use the Installation Repair Mode that can be
       triggered thru the &#039;Add/Remove Programs&#039; control panel to
       enable or disable extensions and features after installation.
      </p>
     </div>
     
     <p class="para">
      The installer then sets up PHP to be used in Windows and the <var class="filename">php.ini</var>
      file, and configures certain web servers to use PHP. The installer will
      currently configure IIS, Apache, Xitami, and Sambar
      Server; if you are using a different web server you&#039;ll need to
      configure it manually. 
     </p>
    </div>
    
    <div class="sect2" id="install.windows.installer.msi.silent">
    <h3 class="title">Silent Install</h3>
     <p class="para">
      The installer also supports a silent mode, which is helpful for Systems
      Administrators to deploy PHP easily. To use silent mode:
      <div class="example-contents screen">
<div class="cdata"><pre>       
msiexec.exe /i php-VERSION-win32-install.msi /q
</pre></div>     
      </div>
     </p>
     <p class="para">
      You can control the install directory by passing it as a parameter to the
      install. For example, to install to e:\php:
      <div class="example-contents screen">
<div class="cdata"><pre>       
msiexec.exe /i php-VERSION-win32-install.msi /q INSTALLDIR=e:\php
</pre></div>     
      </div>
      You can also use the same syntax to specify the Apache Configuration
      Directory (APACHEDIR), the Sambar Server directory (SAMBARDIR), and the
      Xitami Server directory (XITAMIDIR).
     </p>
     <p class="para">
      You can also specify what features to install. For example, to install 
      the mysqli extension and the CGI executable:
      <div class="example-contents screen">
<div class="cdata"><pre>       
msiexec.exe /i php-VERSION-win32-install.msi /q ADDLOCAL=cgi,ext_php_mysqli
</pre></div>     
      </div>
     </p>
     <p class="para">
      The current list of Features to install is as follows:
      <div class="example-contents screen">
<div class="cdata"><pre> 
MainExecutable - php.exe executable ( no longer available as of PHP 5.2.10/5.3.0; it is now included by default )
ScriptExecutable - php-win.exe executable
ext_php_* - the various extensions ( for example: ext_php_mysql for MySQL )
apache13 - Apache 1.3 module
apache20 - Apache 2.0 module
apache22 - Apache 2.2 module
apacheCGI - Apache CGI executable
iis4ISAPI - IIS ISAPI module
iis4CGI - IIS CGI executable
iis4FastCGI - IIS CGI executable
NSAPI - Sun/iPlanet/Netscape server module
netserve - NetServe Web Server CGI executable
Xitami - Xitami CGI executable
Sambar - Sambar Server ISAPI module
CGI - php-cgi.exe executable
PEAR - PEAR installer
Manual - PHP Manual in CHM Format
</pre></div>
      </div>
     </p>
     <p class="para">
      For more information on installing MSI installers from the command line,
      visit <a href="http://msdn.microsoft.com/en-us/library/aa367988.aspx" class="link external" title="Link : http://msdn.microsoft.com/en-us/library/aa367988.aspx">&raquo;&nbsp;http://msdn.microsoft.com/en-us/library/aa367988.aspx</a>
     </p>
    </div>
    
    <div class="sect2" id="install.windows.installer.msi.upgrade">
    <h3 class="title">Upgrading PHP with the Install</h3>
    
     <p class="para">
      To upgrade, run the installer either graphically or from the command line 
      as normal. The installer will read your current install options, remove
      your old installation, and reinstall PHP with the same options as before.
      It is recommended that you use this method of keeping PHP updated instead
      of manually replacing the files in the installation directory.
     </p>
    </div>
    
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="100244""></a>
  <div class="note">
   <strong class="user">lwpro2</strong>
   <a href="#100244" class="date">04-Oct-2010 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
run php as CGI binary, and add these to httpd.conf, <br />
<br />
#BEGIN PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
ScriptAlias /php/ "C:/php/"<br />
Action application/x-httpd-php "C:/php/php-cgi.exe"<br />
#END PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
AddType application/x-httpd-php .php<br />
AddType application/x-httpd-php .phtml<br />
<br />
&lt;Directory "C:/Apache2.2/cgi-bin"&gt;<br />
&nbsp;&nbsp;&nbsp; AllowOverride None<br />
&nbsp;&nbsp;&nbsp; Options None<br />
&nbsp;&nbsp;&nbsp; Order allow,deny<br />
&nbsp;&nbsp;&nbsp; Allow from all<br />
&lt;/Directory&gt;<br />
<br />
&lt;Directory "C:/php"&gt;<br />
AllowOverride None<br />
Options None<br />
Order allow,deny<br />
Allow from all<br />
&lt;/Directory&gt;<br />
<br />
finally it works</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100196""></a>
  <div class="note">
   <strong class="user">klaussh</strong>
   <a href="#100196" class="date">30-Sep-2010 05:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for running php5.3 on IIS6 I had to add an Web Service Extension:<br />
<br />
IIS6 / Web Service Extensions<br />
<br />
Add an WSExtension<br />
ex. PHP -- File to use ...\PHP\php-cgi.exe ( Filetype cgi_exe )<br />
<br />
And switch to "allowed"<br />
<br />
( In earlier versions of php there was an php5isapi.dll<br />
which could be set as WebService Extention. But this is now<br />
replaced from cgi/fastcgi )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96651""></a>
  <div class="note">
   <strong class="user">fawaz at webcitynetworks dot com</strong>
   <a href="#96651" class="date">09-Mar-2010 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Tryed installing PHP several times using the MSI instalation, which defaults to "C:\Prorame Files\PHP", and could not work at all. <br />
<br />
The OS: Windows XP, with SP3<br />
Web Server: IIS 5.1<br />
<br />
Instalation Steps:<br />
<br />
Step 1: Install the MSI Instalation, but make sure you select the instalation folder to be "C:\PHP" and NOT "C:\Programe Files\PHP\".<br />
<br />
Step 2: Copy the "php.ini" fil from "C:\PHP", to "C:\Windows\" folder. Keep the default settings, so far OK.<br />
<br />
Step 3: Go to IIS, Open "Default Website", Properties, and open the "Home Directory" tab, and then "Configue" buttton.<br />
<br />
Step 4: Click 'Add" under Mappings Tab, and browse for "C:\PHP\php-cgi.exe" file from 'Browse', and add ".php" (i.e. without the Qoutes ""). Keep "Verb" settings to "All Verbs" and click "OK"<br />
<br />
Step 5: Create a php file with : <span class="default">&lt;?php phpinfo</span><span class="keyword">();</span><span class="default">?&gt;</span>, and test. <br />
<br />
It should be working fine by this time.<br />
<br />
Hope this was helpful to all.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96338""></a>
  <div class="note">
   <strong class="user">rod at rodsdot dot com</strong>
   <a href="#96338" class="date">21-Feb-2010 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On IIS 5.1 (Windows XP) and IIS 6.0 (Windows Server 2003) the following installation method goes very smoothly, but for three additional tasks.<br />
<br />
Before installing PHP 5.2.x using the Microsoft Web Platform Installer, make sure:<br />
<br />
C:\PHP does not exist<br />
C:\Program Files\PHP does not exist (it will be created)<br />
C:\Windows\php.ini does not exist (you won't need it there)<br />
<br />
Run Microsoft Web Platform Installer allowing it to install FastCGI support and PHP 5.2.x.<br />
<br />
After installation you should have PHP installed in C:\Program Files\PHP.<br />
<br />
An examination of php.ini will show you will not likely need to change any settings, except the sendmail_from address.&nbsp; The Windows specific settings have been set, but are grouped together under:<br />
<br />
; Default timeout for socket based streams (seconds)<br />
<br />
Those are:<br />
upload_tmp_dir="C:\WINDOWS\Temp"<br />
session.save_path="C:\WINDOWS\Temp"<br />
error_log="C:\WINDOWS\temp\php-errors.log"<br />
cgi.force_redirect=0<br />
fastcgi.impersonate=1<br />
fastcgi.logging=0<br />
<br />
In addition to having the correct minimal IIS settings already set in php.ini, you will find the Path has had C:\Program Files\PHP\ added, and the environment variable PHPRC is set correctly.<br />
<br />
The three things not performed by the install but needed to run:<br />
<br />
1.<br />
HKEY_LOCAL_MACHINE\Software\PHP\IniFilePath may be wrong.&nbsp; It should not be C:\Windows, but C:\Program Files\PHP, which is what is set in both the PATH and PHPRC. (This could be a left over setting from a previous install, but the installer does not correct it.)<br />
<br />
2.<br />
In IIS manager, under the default web site properties, Home Directory (tab), Configuration (button), Mappings, the entry for .php may be missing or wrong. It should be:<br />
Executable: "C:\Program Files\PHP\php-cgi.exe" with the quotes.<br />
Verbs: Limit To: GET,HEAD,POST,TRACE<br />
Script Engine checkbox checked<br />
Check That File Exists checkbox checked.<br />
<br />
3.<br />
The installer will not set the proper security permissions for php-cgi.exe or php.ini, both of which need to be accessible to the default Internet user account: e.g. IUSR_machine name.<br />
<br />
In Windows Explorer, navigate to the C:\Program Files\PHP folder, right click, properties, security (tab), add IUSR_machinename and accept the default security permissions.<br />
<br />
All of these seemed to take effect without a reboot, but a reboot is suggested.&nbsp; Note: Items 1 and 2 may be left over from previous installations and might possibly be rightly ignored by the installer, but if they are not corrected (at least check) you are going to have a problem.<br />
<br />
Item 3 is not going to be performed by the installer.&nbsp; You will have to do it based on how you have security permissions set in IIS.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96006""></a>
  <div class="note">
   <strong class="user">peter at peterjhart dot com</strong>
   <a href="#96006" class="date">02-Feb-2010 09:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Apache2 on Windows (PHP 5.3.1):<br />
<br />
Install VC6 x86 THREAD SAFE. If you do not see Apache in the list of webservers, it is because you downloaded the NON-THREAD SAFE installer.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92361""></a>
  <div class="note">
   <strong class="user">manville at doctors dot org dot uk</strong>
   <a href="#92361" class="date">21-Jul-2009 06:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have just spent a tiresome morning trying to get PHP 5.2 / 5.3 installed onto Apache 2.2 (WinXPSP2) (Slight oddity in setup that program files on D: drive)<br />
<br />
I have finally got it to work by using the following:<br />
<br />
1) Getting installation script to use "Other CGI" (would be nice if it mentioned Apache - I believe it to be a fairly popular option)<br />
<br />
2) Adding the following directives to httpd.conf (the Apache configuration file)<br />
<br />
ScriptAlias /php/&nbsp; "D:/Program Files/PHP/"<br />
<br />
(This tells Apache to treat the PHP directory as script files/executables and alias it under /php/ for ease of use later)<br />
<br />
AddHandler x-httpd-php .php<br />
<br />
(This tells apache to recognise all .php files as of type x-httpd-php (equally you could call them anything you liked and after this mornings debacle I can think of one or two choice phrases)<br />
<br />
Action x-httpd-php "php/php-cgi.exe"<br />
<br />
(The tells Apache to use php-cgi.exe to handle files of type x-httpd-php (or .php files as we declared earlier). php-cgi.exe only exists if you have selected the "Other CGI" option at installation". A lot of stuff around on the web is pointing at php.exe which is now failing. Has this changed recently?)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88910""></a>
  <div class="note">
   <strong class="user">infoworld at yahoo dot com</strong>
   <a href="#88910" class="date">12-Feb-2009 01:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the installer, I have been getting the "cannot run script" error on Windows XP and IIS 5.1.&nbsp; I used both the Zip file and installer filer to make it successful:<br />
<br />
1. I downloaded the zip file (not the installer) into C:\php\, <br />
2. extracted the contents to the same directory (C:\php\).<br />
3. Downloaded and ran the installer into the C:\php\<br />
<br />
Nagesh A</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88089""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#88089" class="date">09-Jan-2009 07:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just installed PHP 5.2.8 (MSI package) on windows XP, IIS 5.1.<br />
<br />
Selected IIS-ISAPI, always got error "The specified module could not be found." (firefox), HTTP 500 Internal Server Error (ie 7). Even though no extensions were selected.<br />
<br />
Trick: Install PHP to C:\PHP (and not to C:\Program Files\PHP)<br />
<br />
In your IIS web site properties, tab home directory, configuration, application mappings. <br />
Remove the quotes before and after the executable path and the problem will be solved.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87923""></a>
  <div class="note">
   <strong class="user">jstein at image dot dk</strong>
   <a href="#87923" class="date">30-Dec-2008 02:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just installed PHP 5.2.8 as an ISAPI-extension for IIS 6 in Windows 2003 server.<br />
<br />
I used the Windows installer, but had to make a few changes manually:<br />
<br />
- Copy php.ini from the PHP folder (C:\Program Files\PHP) to the Windows folder (C:\Windows).<br />
<br />
- Enable the ISAPI extension. (In IIS Manager under "Web Service Extensions" add a new extension with "Required files" set to C:\Program Files\PHP\php5isapi.dll).<br />
<br />
- Add index.php to default index pages (select properties for "Web Sites", add it on the "Documents" tab).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.installer.html">Windows Installer (PHP 5.1.0 and earlier)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.manual.html">Manual Installation Steps</a></div>
 <div class="up"><a href="install.windows.html">Installation on Windows systems</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
