<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Namespaces</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.changelog.html">OOP Changelog</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.namespaces.rationale.html">Namespaces overview</a></div>
 <div class="up"><a href="langref.html">Language Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.namespaces" class="chapter">
 <h1>Namespaces</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="language.namespaces.rationale.html">Namespaces overview</a></li><li><a href="language.namespaces.definition.html">Defining namespaces</a></li><li><a href="language.namespaces.nested.html">Declaring sub-namespaces</a></li><li><a href="language.namespaces.definitionmultiple.html">Defining multiple namespaces in the same file</a></li><li><a href="language.namespaces.basics.html">Using namespaces: Basics</a></li><li><a href="language.namespaces.dynamic.html">Namespaces and dynamic language features</a></li><li><a href="language.namespaces.nsconstants.html">namespace keyword and __NAMESPACE__ constant</a></li><li><a href="language.namespaces.importing.html">Using namespaces: Aliasing/Importing</a></li><li><a href="language.namespaces.global.html">Global space</a></li><li><a href="language.namespaces.fallback.html">Using namespaces: fallback to global function/constant</a></li><li><a href="language.namespaces.rules.html">Name resolution rules</a></li><li><a href="language.namespaces.faq.html">FAQ: things you need to know about namespaces</a></li></ul>


 

 
 
 
 
 
 
 
 
 

 
 
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104136""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#104136" class="date">25-May-2011 11:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The keyword 'use' has two different applications, but the reserved word table links to here.<br />
<br />
It can apply to namespace constucts:<br />
<br />
file1:<br />
<span class="default">&lt;?php </span><span class="keyword">namespace </span><span class="default">foo</span><span class="keyword">;<br />
&nbsp; class </span><span class="default">Cat </span><span class="keyword">{ <br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">says</span><span class="keyword">() {echo </span><span class="string">'meoow'</span><span class="keyword">;}&nbsp; } </span><span class="default">?&gt;<br />
</span><br />
file2:<br />
<span class="default">&lt;?php </span><span class="keyword">namespace </span><span class="default">bar</span><span class="keyword">;<br />
&nbsp; class </span><span class="default">Dog </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">says</span><span class="keyword">() {echo </span><span class="string">'ruff'</span><span class="keyword">;}&nbsp; } </span><span class="default">?&gt;<br />
</span><br />
file3:<br />
<span class="default">&lt;?php </span><span class="keyword">namespace </span><span class="default">animate</span><span class="keyword">;<br />
&nbsp; class </span><span class="default">Animal </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">breathes</span><span class="keyword">() {echo </span><span class="string">'air'</span><span class="keyword">;}&nbsp; } </span><span class="default">?&gt;<br />
</span><br />
file4:<br />
<span class="default">&lt;?php </span><span class="keyword">namespace </span><span class="default">fub</span><span class="keyword">;<br />
&nbsp; include </span><span class="string">'file1.php'</span><span class="keyword">;<br />
&nbsp; include </span><span class="string">'file2.php'</span><span class="keyword">;<br />
&nbsp; include </span><span class="string">'file3.php'</span><span class="keyword">;<br />
&nbsp; use </span><span class="default">foo </span><span class="keyword">as </span><span class="default">feline</span><span class="keyword">;<br />
&nbsp; use </span><span class="default">bar </span><span class="keyword">as </span><span class="default">canine</span><span class="keyword">;<br />
&nbsp; use </span><span class="default">animate</span><span class="keyword">;<br />
&nbsp; echo \</span><span class="default">feline</span><span class="keyword">\</span><span class="default">Cat</span><span class="keyword">::</span><span class="default">says</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp; echo \</span><span class="default">canine</span><span class="keyword">\</span><span class="default">Dog</span><span class="keyword">::</span><span class="default">says</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br />
&nbsp; echo \</span><span class="default">animate</span><span class="keyword">\</span><span class="default">Animal</span><span class="keyword">::</span><span class="default">breathes</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;&nbsp; </span><span class="default">?&gt;<br />
</span><br />
Note that <br />
felineCat::says()<br />
should be<br />
\feline\Cat::says()<br />
(and similar for the others)<br />
but this comment form deletes the backslash (why???) <br />
<br />
The 'use' keyword also applies to closure constructs:<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">function </span><span class="default">getTotal</span><span class="keyword">(</span><span class="default">$products_costs</span><span class="keyword">, </span><span class="default">$tax</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">= </span><span class="default">0.00</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$callback </span><span class="keyword">=<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; function (</span><span class="default">$pricePerItem</span><span class="keyword">) use (</span><span class="default">$tax</span><span class="keyword">, &amp;</span><span class="default">$total</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">$pricePerItem </span><span class="keyword">* (</span><span class="default">$tax </span><span class="keyword">+ </span><span class="default">1.0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$products_costs</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">round</span><span class="keyword">(</span><span class="default">$total</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103606""></a>
  <div class="note">
   <strong class="user">netmosfera at gmail dot com</strong>
   <a href="#103606" class="date">21-Apr-2011 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for example, if you use a lot of .php files (once per class) you need to know that require() a lot of files will slow down consistently the page load<br />
<br />
so you can use namespaces + autoload to implement package-specific initialization handlers<br />
<br />
i used this to put an entire package (lot of classes) in one php file<br />
<br />
!!! please note you can't use this as-is but you need to adapt it to your project<br />
<br />
the file __init.php is placed inside every namespace/folder you want to load<br />
there you can startup your namespace, check for environment, debugging, or as i do, you can merge all the package in one php file and require it to load other classes too.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Loader<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// here we store the already-initialized namespaces<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private static </span><span class="default">$loadedNamespaces </span><span class="keyword">= array();<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">loadClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// we assume the class AAA\BBB\CCC is placed in /AAA/BBB/CCC.php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$className </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">'/'</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">), \</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$className</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// we get the namespace parts<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$namespaces </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(\</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$className</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$namespaces</span><span class="keyword">[</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$namespaces</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">]); </span><span class="comment">// the last item is the classname<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // now we loops over namespaces<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">; foreach(</span><span class="default">$namespaces </span><span class="keyword">as </span><span class="default">$namepart</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// we chain $namepart to parent namespace string<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current</span><span class="keyword">.=</span><span class="string">'\\' </span><span class="keyword">. </span><span class="default">$namepart</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// skip if the namespace is already initialized<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$current</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$loadedNamespaces</span><span class="keyword">)) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// wow, we got a namespace to load, so:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fnload </span><span class="keyword">= </span><span class="default">$current </span><span class="keyword">. \</span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="string">"__init.php"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$fnload</span><span class="keyword">)) require(</span><span class="default">$fnload</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// then we flag the namespace as already-loaded<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$loadedNamespaces</span><span class="keyword">[] = </span><span class="default">$current</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// we build the filename to require<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$load </span><span class="keyword">= </span><span class="default">$className </span><span class="keyword">. </span><span class="string">".php"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check for file existence<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$load</span><span class="keyword">) ?: require(</span><span class="default">$load</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// return true if class is loaded<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">class_exists</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">register</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">"Loader::loadClass"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">unregister</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">spl_autoload_unregister</span><span class="keyword">(</span><span class="string">"Loader::loadClass"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">Loader</span><span class="keyword">::</span><span class="default">register</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.changelog.html">OOP Changelog</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.namespaces.rationale.html">Namespaces overview</a></div>
 <div class="up"><a href="langref.html">Language Reference</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
