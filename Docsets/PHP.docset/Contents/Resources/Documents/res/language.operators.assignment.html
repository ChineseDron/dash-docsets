<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Assignment Operators</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.operators.arithmetic.html">Arithmetic Operators</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.bitwise.html">Bitwise Operators</a></div>
 <div class="up"><a href="language.operators.html">Operators</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.operators.assignment" class="sect1">
   <h2 class="title">Assignment Operators</h2>
   <p class="simpara">
    The basic assignment operator is &quot;=&quot;. Your first inclination might
    be to think of this as &quot;equal to&quot;. Don&#039;t. It really means that the
    left operand gets set to the value of the expression on the
    right (that is, &quot;gets set to&quot;).
   </p>
   <p class="para">
    The value of an assignment expression is the value assigned. That
    is, the value of &quot;<i>$a = 3</i>&quot; is 3. This allows you to do some tricky
    things:
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$a&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;is&nbsp;equal&nbsp;to&nbsp;9&nbsp;now,&nbsp;and&nbsp;$b&nbsp;has&nbsp;been&nbsp;set&nbsp;to&nbsp;4.<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    For <span class="type"><span class="type arrays">arrays</span></span>, assigning a value to a named key is performed using
    the &quot;=&gt;&quot; operator. The <a href="language.operators.precedence.html" class="link">precedence</a>
    of this operator is the same as other assignment operators.
   </p>
   <p class="para">
    In addition to the basic assignment operator, there are &quot;combined
    operators&quot; for all of the <a href="language.operators.html" class="link">binary
    arithmetic</a>, array union and string operators that allow you to use a value in an
    expression and then set its value to the result of that expression. For
    example:
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;sets&nbsp;$a&nbsp;to&nbsp;8,&nbsp;as&nbsp;if&nbsp;we&nbsp;had&nbsp;said:&nbsp;$a&nbsp;=&nbsp;$a&nbsp;+&nbsp;5;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"There!"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;sets&nbsp;$b&nbsp;to&nbsp;"Hello&nbsp;There!",&nbsp;just&nbsp;like&nbsp;$b&nbsp;=&nbsp;$b&nbsp;.&nbsp;"There!";<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Note that the assignment copies the original variable to the new
    one (assignment by value), so changes to one will not affect the
    other. This may also have relevance if you need to copy something
    like a large array inside a tight loop.
   </p>
   <p class="para">
    An exception to the usual assignment by value behaviour within PHP occurs
    with <span class="type"><a href="language.types.object.html" class="type object">object</a></span>s, which are assigned by reference in PHP 5.
    Objects may be explicitly copied via the <a href="language.oop5.cloning.html" class="link">clone</a> keyword.
   </p>

   <div class="sect2" id="language.operators.assignment.reference">
    <h3 class="title">Assignment by Reference</h3>
    <p class="para">
     Assignment by reference is also supported, using the
     &quot;<span class="computeroutput">$var = &amp;$othervar;</span>&quot; syntax.
     Assignment by reference means that both variables end up pointing at the
     same data, and nothing is copied anywhere.
    </p>
    <p class="para">
     <div class="example" id="example-105">
      <p><b>Example #1 Assigning by reference</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$b&nbsp;is&nbsp;a&nbsp;reference&nbsp;to&nbsp;$a<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;3<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;3<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;change&nbsp;$a<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;4<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;prints&nbsp;4&nbsp;as&nbsp;well,&nbsp;since&nbsp;$b&nbsp;is&nbsp;a&nbsp;reference&nbsp;to&nbsp;$a,&nbsp;which&nbsp;has<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;been&nbsp;changed<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
    <p class="para">
     As of PHP 5, the <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a>
     operator returns a reference automatically, so assigning the result of
     <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a> by reference results
     in an <b><tt>E_DEPRECATED</tt></b> message in PHP 5.3 and later, and
     an <b><tt>E_STRICT</tt></b> message in earlier versions.
    </p>
    <p class="para">
     For example, this code will result in a warning:
     <div class="informalexample">
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">/*&nbsp;The&nbsp;following&nbsp;line&nbsp;generates&nbsp;the&nbsp;following&nbsp;error&nbsp;message:<br />&nbsp;*&nbsp;Deprecated:&nbsp;Assigning&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;new&nbsp;by&nbsp;reference&nbsp;is&nbsp;deprecated&nbsp;in...<br />&nbsp;*/<br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;&amp;new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
    <p class="para">
     More information on references and their potential uses can be found in
     the <a href="language.references.html" class="link">References Explained</a>
     section of the manual.
    </p>
   </div>
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105622""></a>
  <div class="note">
   <strong class="user">haubertj at alfredstate dot edu</strong>
   <a href="#105622" class="date">01-Sep-2011 07:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[[&nbsp;&nbsp; Editor's note: You are much better off using the foreach (array_expression as $key =&gt; $value) control structure in this case&nbsp;&nbsp; ]]<br />
<br />
When using <br />
<br />
&lt;php<br />
while ($var = current($array) {<br />
#do stuff<br />
next($aray)<br />
?&gt;<br />
<br />
to process an array, if current($array) happens to be falsy but not === false it will still end the loop.&nbsp; In such a case strict typing must be used.<br />
<br />
Like this:<br />
<br />
&lt;php<br />
while (($var = current($array)) !== FALSE) {<br />
#do stuff<br />
next($aray)<br />
?&gt;<br />
<br />
Of course if your array may contain actual FALSE values you will have to deal with those some other way.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102385""></a>
  <div class="note">
   <strong class="user">Peter, Moscow</strong>
   <a href="#102385" class="date">11-Feb-2011 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using $text .= "additional text"; instead of $text =&nbsp; $text ."additional text"; can seriously enhance performance due to memory allocation efficiency. <br />
<br />
I reduced execution time from 5 sec to .5 sec (10 times) by simply switching to the first pattern for a loop with 900 iterations over a string $text that reaches 800K by the end.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94627""></a>
  <div class="note">
   <strong class="user">inca</strong>
   <a href="#94627" class="date">15-Nov-2009 07:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that assignments will not use lazy evaluation. <br />
<br />
<span class="default">&lt;?php <br />
foo</span><span class="keyword">(){ <br />
&nbsp;&nbsp; echo </span><span class="string">'foo'</span><span class="keyword">; <br />
&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$bar </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$bar </span><span class="keyword">&amp;= </span><span class="default">foo</span><span class="keyword">(); </span><span class="comment">// will call foo()<br />
</span><span class="default">$bar </span><span class="keyword">= </span><span class="default">$bar </span><span class="keyword">&amp;&amp; </span><span class="default">foo</span><span class="keyword">(); </span><span class="comment">// will not call foo()<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80899""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#80899" class="date">05-Feb-2008 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You could also take adam at gmail dot com's xor-assignment operator and use the fact that it's right-associative:<br />
<br />
$a ^= $b ^= $a ^= $b;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78345""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#78345" class="date">07-Oct-2007 03:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
bradlis7 at bradlis7 dot com's description is a bit confusing. Here it is rephrased.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="string">'a'</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="string">'b'</span><span class="keyword">;<br />
<br />
</span><span class="default">$a </span><span class="keyword">.= </span><span class="default">$b </span><span class="keyword">.= </span><span class="string">"foo"</span><span class="keyword">;<br />
<br />
echo </span><span class="default">$a</span><span class="keyword">,</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">;</span><span class="default">?&gt;<br />
</span>outputs<br />
<br />
abfoo<br />
bfoo<br />
<br />
Because the assignment operators are right-associative and evaluate to the result of the assignment<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">.= </span><span class="default">$b </span><span class="keyword">.= </span><span class="string">"foo"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>is equivalent to<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">.= (</span><span class="default">$b </span><span class="keyword">.= </span><span class="string">"foo"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>and therefore<br />
<span class="default">&lt;?php<br />
$b </span><span class="keyword">.= </span><span class="string">"foo"</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">.= </span><span class="default">$b</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69182""></a>
  <div class="note">
   <strong class="user">adam at gmail dot com</strong>
   <a href="#69182" class="date">25-Aug-2006 10:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
or you could use the xor-assignment operator..<br />
$a ^= $b;<br />
$b ^= $a;<br />
$a ^= $b;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55848""></a>
  <div class="note">
   <strong class="user">bradlis7 at bradlis7 dot com</strong>
   <a href="#55848" class="date">15-Aug-2005 08:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note whenever you do this<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">.= </span><span class="default">$b </span><span class="keyword">.= </span><span class="string">"bla bla"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
it comes out to be the same as the following:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">.= </span><span class="default">$b</span><span class="keyword">.</span><span class="string">"bla bla"</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">.= </span><span class="string">"bla bla"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
So $a actually becomes $a and the final $b string. I'm sure it's the same with numerical assignments (+=, *=...).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40084""></a>
  <div class="note">
   <strong class="user">straz at mac dot nospam dot com</strong>
   <a href="#40084" class="date">20-Feb-2004 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This page really ought to have table of assignment operators,<br />
namely,<br />
<br />
See the Arithmetic Operators page (<a href="http://www.php.net/manual/en/language.operators.arithmetic.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.operators.arithmetic.php</a>)<br />
Assignment&nbsp; &nbsp; Same as:<br />
$a += $b&nbsp; &nbsp;&nbsp; $a = $a + $b&nbsp; &nbsp; Addition<br />
$a -= $b&nbsp; &nbsp;&nbsp; $a = $a - $b&nbsp; &nbsp;&nbsp; Subtraction<br />
$a *= $b&nbsp; &nbsp;&nbsp; $a = $a * $b&nbsp; &nbsp;&nbsp; Multiplication<br />
$a /= $b&nbsp; &nbsp;&nbsp; $a = $a / $b&nbsp; &nbsp; Division<br />
$a %= $b&nbsp; &nbsp;&nbsp; $a = $a % $b&nbsp; &nbsp; Modulus<br />
<br />
See the String Operators page(<a href="http://www.php.net/manual/en/language.operators.string.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.operators.string.php</a>)<br />
$a .= $b&nbsp; &nbsp;&nbsp; $a = $a . $b&nbsp; &nbsp; &nbsp;&nbsp; Concatenate<br />
<br />
See the Bitwise Operators page (<a href="http://www.php.net/manual/en/language.operators.bitwise.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.operators.bitwise.php</a>)<br />
$a &amp;= $b&nbsp; &nbsp;&nbsp; $a = $a &amp; $b&nbsp; &nbsp;&nbsp; Bitwise And<br />
$a |= $b&nbsp; &nbsp;&nbsp; $a = $a | $b&nbsp; &nbsp; &nbsp; Bitwise Or<br />
$a ^= $b&nbsp; &nbsp;&nbsp; $a = $a ^ $b&nbsp; &nbsp; &nbsp;&nbsp; Bitwise Xor<br />
$a &lt;&lt;= $b&nbsp; &nbsp;&nbsp; $a = $a &lt;&lt; $b&nbsp; &nbsp;&nbsp; Left shift<br />
$a &gt;&gt;= $b&nbsp; &nbsp;&nbsp; $a = $a &gt;&gt; $b&nbsp; &nbsp; &nbsp; Right shift</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.operators.arithmetic.html">Arithmetic Operators</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.bitwise.html">Bitwise Operators</a></div>
 <div class="up"><a href="language.operators.html">Operators</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
