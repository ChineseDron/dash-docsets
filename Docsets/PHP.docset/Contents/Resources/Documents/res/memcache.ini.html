<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Runtime Configuration</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="memcache.installation.html">Installation</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="memcache.resources.html">Resource Types</a></div>
 <div class="up"><a href="memcache.setup.html">Installing/Configuring</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="memcache.ini" class="section">
 <h2 class="title">Runtime Configuration</h2>
 <p class="simpara">
The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
</p>
 <p class="para">
  <table class="doctable table">
   <caption><b>Memcache Configuration Options</b></caption>
   
    <thead valign="middle">
     <tr valign="middle">
      <th>Name</th>
      <th>Default</th>
      <th>Changeable</th>
      <th>Changelog</th>
     </tr>

    </thead>

    <tbody valign="middle" class="tbody">
     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.allow-failover" class="link">memcache.allow_failover</a></td>
      <td align="left">&quot;1&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.0.2.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.max-failover-attempts" class="link">memcache.max_failover_attempts</a></td>
      <td align="left">&quot;20&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.1.0.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.chunk-size" class="link">memcache.chunk_size</a></td>
      <td align="left">&quot;8192&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.0.2.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.default-port" class="link">memcache.default_port</a></td>
      <td align="left">&quot;11211&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.0.2.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.hash-strategy" class="link">memcache.hash_strategy</a></td>
      <td align="left">&quot;standard&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.2.0.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.hash-function" class="link">memcache.hash_function</a></td>
      <td align="left">&quot;crc32&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Available since memcache 2.2.0.</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="session.configuration.html#ini.session.save-handler" class="link">session.save_handler</a></td>
      <td align="left">&quot;files&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Supported since memcache 2.1.2</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="session.configuration.html#ini.session.save-path" class="link">session.save_path</a></td>
      <td align="left">&quot;&quot;</td>
      <td align="left">PHP_INI_ALL</td>
      <td align="left">Supported since memcache 2.1.2</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.protocol" class="link">memcache.protocol</a></td>
      <td align="left">ascii</td>
      <td align="left">&gt;PHP_INI_ALL</td>
      <td align="left">Supported since memcache 3.0.0</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.redundancy" class="link">memcache.redundancy</a></td>
      <td align="left">1</td>
      <td align="left">&gt;PHP_INI_ALL</td>
      <td align="left">Supported since memcache 3.0.0</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.session-redundancy" class="link">memcache.session_redundancy</a></td>
      <td align="left">2</td>
      <td align="left">&gt;PHP_INI_ALL</td>
      <td align="left">Supported since memcache 3.0.0</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.compress-threshold" class="link">memcache.compress_threshold</a></td>
      <td align="left">20000</td>
      <td align="left">&gt;PHP_INI_ALL</td>
      <td align="left">Supported since memcache 3.0.3</td>
     </tr>

     <tr valign="middle">
      <td align="left"><a href="memcache.ini.html#ini.memcache.lock-timeout" class="link">memcache.lock_timeout</a></td>
      <td align="left">15</td>
      <td align="left">&gt;PHP_INI_ALL</td>
      <td align="left">Supported since memcache 3.0.4</td>
     </tr>

    </tbody>
   
  </table>

  For further details and definitions of the
PHP_INI_* modes, see the <a href="configuration.changes.modes.html" class="xref">Where a configuration setting may be set</a>.
 </p>

<p class="para">Here&#039;s a short explanation of
the configuration directives.</p>

<p class="para">
 <dl>

  
  <dt id="ini.memcache.allow-failover">
   <span class="term">
    <i><tt class="parameter">memcache.allow_failover</tt></i>
    <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
   </span>
   <dd>

    <p class="para">
     Whether to transparently failover to other servers on 
     errors.
    </p>
   </dd>

  </dt>

  
  <dt id="ini.memcache.max-failover-attempts">
   <span class="term">
    <i><tt class="parameter">memcache.max_failover_attempts</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     Defines how many servers to try when setting and getting data.
     Used only in conjunction with memcache.allow_failover.
    </p>
   </dd>

  </dt>

  
  <dt id="ini.memcache.chunk-size">
   <span class="term">
    <i><tt class="parameter">memcache.chunk_size</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     Data will be transferred in chunks of this size, setting
     the value lower requires more network writes. Try 
     increasing this value to 32768 if noticing otherwise 
     inexplicable slowdowns.
    </p>
   </dd>

  </dt>

  
  <dt id="ini.memcache.default-port">
   <span class="term">
    <i><tt class="parameter">memcache.default_port</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     The default TCP port number to use when connecting to
     the memcached server if no other port is specified.
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.hash-strategy">
   <span class="term">
    <i><tt class="parameter">memcache.hash_strategy</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     Controls which strategy to use when mapping keys to servers. Set this value to 
     <i>consistent</i> to enable consistent hashing which allows servers 
     to be added or removed from the pool without causing keys to be remapped.
     Setting this value to <i>standard</i> results in the old strategy
     being used.
    </p>
   </dd>

  </dt>

  
  <dt id="ini.memcache.hash-function">
   <span class="term">
    <i><tt class="parameter">memcache.hash_function</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     Controls which hash function to apply when mapping keys to servers, <i>crc32</i> 
     uses the standard CRC32 hash while <i>fnv</i> uses FNV-1a.
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.session-handler">
   <span class="term">
    <i><tt class="parameter">session.save_handler</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     Use memcache as a session handler by setting this value to <i>memcache</i>.
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.save-path">
   <span class="term">
    <i><tt class="parameter">session.save_path</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     Defines a comma separated of server urls to use for session storage, for example
     <i>&quot;tcp://host1:11211, tcp://host2:11211&quot;</i>.
    </p>
    <p class="para">
     Each url may contain parameters which are applied to that server, they are the same 
     as for the <span class="function"><a href="memcache.addserver.html" class="function">Memcache::addServer()</a></span> method. For example 
     <i>&quot;tcp://host1:11211?persistent=1&amp;weight=1&amp;timeout=1&amp;retry_interval=15&quot;</i>
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.protocol">
   <span class="term">
    <i><tt class="parameter">memcache.protocol</tt></i>
    <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
   </span>
   <dd>

    <p class="para">
     
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.redundancy">
   <span class="term">
    <i><tt class="parameter">memcache.redundancy</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.session-redundancy">
   <span class="term">
    <i><tt class="parameter">memcache.session_redundancy</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.compress-threshold">
   <span class="term">
    <i><tt class="parameter">memcache.compress_threshold</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     
    </p>
   </dd>

  </dt>


  <dt id="ini.memcache.lock-timeout">
   <span class="term">
    <i><tt class="parameter">memcache.lock_timeout</tt></i>
    <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
   </span>
   <dd>

    <p class="para">
     
    </p>
   </dd>

  </dt>


 </dl>

</p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="101862""></a>
  <div class="note">
   <strong class="user">info at phpgangsta dot de</strong>
   <a href="#101862" class="date">14-Jan-2011 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since 3.0.0 there are new defaults:<br />
<br />
memcache.hash_strategy = consistent<br />
memcache.chunk_size = 32768</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96909""></a>
  <div class="note">
   <strong class="user">kross at escapistmag dot com</strong>
   <a href="#96909" class="date">22-Mar-2010 09:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's a currently undocumented variable that is now available (you can see it in php_info()) for session handling:<br />
<br />
memcache.session_redundancy<br />
<br />
The default seems to be "2", and it is supposed to influence how many copies of a particular session object that Memcache will store for failover purposes (so with a redundancy of 2, it will store a session on 2 different shards).<br />
<br />
This will add slight overhead with extra writes, but overall seems worth it for purposes of failover.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86535""></a>
  <div class="note">
   <strong class="user">ruben [AT] ruben dot cn</strong>
   <a href="#86535" class="date">23-Oct-2008 06:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that when you specify more than one memcached server, you don't get the session data copied to every memcached server. Info is only copied to the first one. If the 1st server is down, it goes for the second (but the second will lack the info stored into the 1st one)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="memcache.installation.html">Installation</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="memcache.resources.html">Resource Types</a></div>
 <div class="up"><a href="memcache.setup.html">Installing/Configuring</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
