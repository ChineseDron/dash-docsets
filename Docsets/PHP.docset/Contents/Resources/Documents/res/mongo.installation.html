<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Installation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.manual.html">Manual</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongo.tutorial.html">Tutorial</a></div>
 <div class="up"><a href="mongo.manual.html">Manual</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mongo.installation" class="section">
 <h2 class="title">Installation</h2>
 <p class="para">
  The MongoDB PHP driver should work on nearly any system: Windows, Mac OS X, 
  Unix, and Linux; little- and big-endian machines; 32- and 64-bit machines; PHP
  5.1, 5.2, and 5.3.
 </p>
 <p class="para">
  This <a href="http://pecl.php.net/" class="link external" title="Link : http://pecl.php.net/">&raquo;&nbsp;PECL</a> extension
is not bundled with PHP. This page gives more specific information on installing on different systems and troubleshooting issues users have run into.
 </p>

 <ul class="itemizedlist">
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.nix" class="link external">&raquo;&nbsp;Installing on *NIX</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.manual" class="link external">&raquo;&nbsp;Manual Installation</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.osx" class="link external">&raquo;&nbsp;OS X</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.gentoo" class="link external">&raquo;&nbsp;Gentoo</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.fedora" class="link external">&raquo;&nbsp;Fedora</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.windows" class="link external">&raquo;&nbsp;Installing on Windows</a>
   </p>
  </li>
  <li class="listitem">
   <p class="para">
    <a href="#mongo.installation.thirdparty" class="link external">&raquo;&nbsp;Third-Party Installation Instructions</a>
   </p>
  </li>
 </ul>

 <div class="section" id="mongo.installation.nix">
  <h2 class="title">Installing on *NIX</h2>

  <p class="para">
   Run:
   <div class="example-contents">
<div class="cdata"><pre>

$ sudo pecl install mongo

</pre></div>
   </div>

  </p>

  <p class="para">
   If you are using CentOS or Redhat, Csoke Arpad created 
   <a href="http://csaapi.hu/RHEL/x86_64/php_mongo/" class="link external" title="Link : http://csaapi.hu/RHEL/x86_64/php_mongo/">&raquo;&nbsp;RPMs for these distributions</a>.
  </p>

  <p class="para">
   Add the following line to your php.ini file:
   <div class="example-contents">
<div class="cdata"><pre>

extension=mongo.so

</pre></div>
   </div>

  </p>

  <p class="para">
   If pecl runs out of memory while installing, make sure memory_limit in 
   php.ini is set to at least 32MB.
  </p>
 </div>

 <div class="section" id="mongo.installation.manual">
  <h2 class="title">Manual Installation</h2>

  <p class="para">For driver developers and people interested in the latest bugfixes, you 
   can compile the driver from the latest source code on 
   <a href="http://github.com/mongodb/mongo-php-driver" class="link external" title="Link : http://github.com/mongodb/mongo-php-driver">&raquo;&nbsp;Github</a>.
   Go to Github and click the &quot;download&quot; button.  Then run:

   <div class="example-contents">
<div class="cdata"><pre>

$ tar zxvf mongodb-mongodb-php-driver-&lt;commit_id&gt;.tar.gz
$ cd mongodb-mongodb-php-driver-&lt;commit_id&gt;
$ phpize
$ ./configure
$ sudo make install

</pre></div>
   </div>

  </p>

  <p class="para">
   Make the following changes to php.ini:
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Make sure the <em class="emphasis">extension_dir</em> variable is pointing to 
     the location of <em class="emphasis">mongo.so</em>. The build will display where 
     it is installing the PHP driver with output that looks something like:
     <div class="example-contents">
<div class="cdata"><pre>

      Installing &#039;/usr/lib/php/extensions/no-debug-zts-20060613/mongo.so&#039;

</pre></div>
     </div>


      Make sure that it is the same as the PHP extension directory by runnning:

     <div class="example-contents">
<div class="cdata"><pre>

      $ php -i | grep extension_dir
        extension_dir =&gt; /usr/lib/php/extensions/no-debug-zts-20060613 =&gt;
      /usr/lib/php/extensions/no-debug-zts-20060613  

</pre></div>
     </div>


     If it&#039;s not, change the <em class="emphasis">extension_dir</em> in php.ini or 
     move <em class="emphasis">mongo.so</em>.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     To load the extension on PHP startup, add a line:

     <div class="example-contents">
<div class="cdata"><pre>

      extension=mongo.so

</pre></div>
     </div>


    </p>
   </li>
  </ul>

  <div class="section" id="mongo.installation.osx">
   <h2 class="title">OS X</h2>

   <p class="para">
    If your system is unable to find autoconf, you&#039;ll need to install Xcode 
    (available on your installation DVD or as a free download from the Apple 
    website).
   </p>
   
   <p class="para">
    If you are using XAMPP, you may be able to compile the driver with the 
    following command:
    <div class="example-contents">
<div class="cdata"><pre>

sudo /Applications/XAMPP/xamppfiles/bin/pecl install mongo

</pre></div>
    </div>

   </p>

   <p class="para">
    If you are using MAMP (or XAMPP and the above command does not work), 
    precompiled binaries are available from 
    <a href="http://github.com/mongodb/mongo-php-driver/downloads" class="link external" title="Link : http://github.com/mongodb/mongo-php-driver/downloads">&raquo;&nbsp;Github</a>
    (download the latest one with &quot;osx&quot; in the name that matches your version of 
    PHP).  Extract mongo.so from the archive and add it to MAMP or XAMPP&#039;s 
    extension directory.  Add 
    <div class="example-contents">
<div class="cdata"><pre>

      extension=mongo.so

</pre></div>
    </div>

    to the php.ini file being used and restart the server.
   </p>
  </div>

  <div class="section" id="mongo.installation.gentoo">
   <h2 class="title">Gentoo</h2>
   <p class="para">
    Gentoo has a package for the PHP driver called dev-php5/mongo, which can be 
    installed with:
   </p>
   <div class="example-contents">
<div class="cdata"><pre>

$ sudo emerge -va dev-php5/mongo

</pre></div>
   </div>


   <p class="para">
    If you use PECL, you may get an error that libtool is the wrong version. 
    Compiling from source you&#039;ll need to run aclocal and autoconf.
   </p>
   <div class="example-contents">
<div class="cdata"><pre>

$ phpize &amp;&amp; aclocal &amp;&amp; autoconf &amp;&amp; ./configure &amp;&amp; make &amp;&amp; make install

</pre></div>
   </div>

  </div>
  <div class="section" id="mongo.installation.fedora">
   <h2 class="title">Red Hat</h2>
   <p class="para">
    This includes Fedora and CentOS.
   </p>
   <p class="para">
    The default Apache settings on these systems do not let requests make 
    network connections, meaning that the driver will get &quot;Permission denied&quot;
    errors when it tries to connect to the database.  If you run into this, try
    running:
    <div class="example-contents">
<div class="cdata"><pre>
$ /usr/sbin/setsebool -P httpd_can_network_connect 1 
</pre></div>
    </div>

    Then restart Apache.  (This issue has also occurred with SELinux.)
   </p>
  </div>
 </div>

 <div class="section" id="mongo.installation.windows">
  <h2 class="title">Installing on Windows</h2>

  <p class="para">
   Precompiled binaries for each release are available from 
   <a href="http://github.com/mongodb/mongo-php-driver/downloads" class="link external" title="Link : http://github.com/mongodb/mongo-php-driver/downloads">&raquo;&nbsp;Github</a> for a variety
   of combinations of versions, thread safety, and VC libraries. Unzip the 
   archive and put php_mongo.dll in your PHP extension directory (&quot;ext&quot; by 
   default).
  </p>

  <p class="para">
   The latest (non-release) code is compiled into Windows binaries on every 
   commit.  The zip consists of a .zip with php_mongo.dll and a version.txt.  
   Please keep the version.txt around so that if you have a question or problem,
   you can give the developers the exact version you&#039;re using.  (The number is 
   long and nonsensical, but it will make sense to the developers!)
  </p>
  <p class="para">
   To get the latest bug fixes (and possibly bugs), download the binary
   corresponding to the PHP you have installed:
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.2vc6.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.2vc6.zip">&raquo;&nbsp;
      PHP 5.2 VC6 Non-Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.2vc6ts.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.2vc6ts.zip">&raquo;&nbsp;
      PHP 5.2 VC6 Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc6.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc6.zip">&raquo;&nbsp;
      PHP 5.3 VC6 Non-Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc6ts.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc6ts.zip">&raquo;&nbsp;
      PHP 5.3 VC6 Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc8.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc8.zip">&raquo;&nbsp;
      PHP 5.3 VC8 Non-Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc8ts.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc8ts.zip">&raquo;&nbsp;
      PHP 5.3 VC8 Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc9.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc9.zip">&raquo;&nbsp;
      PHP 5.3 VC9 Non-Thread-Safe Mongo extension
     </a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://downloads.mongodb.org/mongo-latest-php5.3vc9ts.zip" class="link external" title="Link : http://downloads.mongodb.org/mongo-latest-php5.3vc9ts.zip">&raquo;&nbsp;
      PHP 5.3 VC9 Thread-Safe Mongo extension
     </a>
    </p>
   </li>
  </ul>

  <p class="para">
   Add the following line to your php.ini file:
   <div class="example-contents">
<div class="cdata"><pre>

extension=php_mongo.dll

</pre></div>
   </div>

  </p>
 </div>

 <div class="section" id="mongo.installation.thirdparty">
  <h2 class="title">Third-Party Installation Instructions</h2>
  
  <p class="para">
   A number of people have created excellent tutorials on installing the PHP
   driver.
  </p>

  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     <a href="http://www.vimeo.com/8005503" class="link external" title="Link : http://www.vimeo.com/8005503">&raquo;&nbsp;
      PHP 5.3.1 with Xdebug, MongoDB and Lithium on Ubuntu 9.10 / Apache 2.2
     </a>
    </p>
    <p class="para">An excellent video that takes you step-by-step through installing 
     Apache, PHP, Xdebug, MongoDB, and Lithium by Jon Adams.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://javierav.com/2009-10-instalando-mongodb-driver-php-en-ubuntu-9-04.html" class="link external" title="Link : http://javierav.com/2009-10-instalando-mongodb-driver-php-en-ubuntu-9-04.html">&raquo;&nbsp;
      Installing MongoDB and the PHP driver on Ubuntu 9.04
     </a>
    </p>
    <p class="para">
     Spanish article by Javier Aranda (<a href="http://translate.google.com/translate?js=n&prev=_t&hl=en&ie=UTF-8&layout=2&eotf=1&sl=auto&tl=en&u=http://javierav.com/2009-10-instalando-mongodb-driver-php-en-ubuntu-9-04.html" class="link external" title="Link : http://translate.google.com/translate?js=n&prev=_t&hl=en&ie=UTF-8&layout=2&eotf=1&sl=auto&tl=en&u=http://javierav.com/2009-10-instalando-mongodb-driver-php-en-ubuntu-9-04.html">&raquo;&nbsp;
      English translation</a>).
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="http://technosophos.com/content/os-x-installing-mongodb-and-php-mongo-driver" class="link external" title="Link : http://technosophos.com/content/os-x-installing-mongodb-and-php-mongo-driver">&raquo;&nbsp;
      OS X: Installing MongoDB and the PHP Mongo Driver
     </a>
    </p>
    <p class="para">
     By Matt Butcher.
    </p>
   </li>
  </ul>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105342""></a>
  <div class="note">
   <strong class="user">enzo at smshome dot net</strong>
   <a href="#105342" class="date">10-Aug-2011 08:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no php_mongo.dll for x64 PHP. PHP doesn't load pre-compiled version (error: "%1 is not a valid Win32 application")</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105302""></a>
  <div class="note">
   <strong class="user">tiago dot braga at gmail dot com</strong>
   <a href="#105302" class="date">08-Aug-2011 09:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In Windows running IIS the directory to instal is "C:\Program Files\PHP\ext". Than you have to install the apropriate MongoDriver version (in my case was mongo-1.1.4-php5.3vc9) and than Restart IIS.<br />
<br />
The MongoDB Driver will be available.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104629""></a>
  <div class="note">
   <strong class="user">rishi at plavaga dot in</strong>
   <a href="#104629" class="date">27-Jun-2011 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am using XAMPP 1.7.4 (32 bit) on Windows 7. Though it was mentioned that Apache uses a non-threadsafe version of DLL, when used, it was giving me the below error:<br />
<br />
PHP Warning:&nbsp; PHP Startup: Unable to load dynamic library <br />
Warning:&nbsp; PHP Startup: Unable to load dynamic library 'D:\xampp\php\ext\php_mongo.dll' - The specified module could not be found.<br />
<br />
I had to use the thread-safe version (mongo-1.1.4.zip\mongo-1.1.4-php5.3vc6ts\php_mongo.dll) to get it working.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104223""></a>
  <div class="note">
   <strong class="user">Andrey</strong>
   <a href="#104223" class="date">01-Jun-2011 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On windows installation check for VC compilator version inside phpinfo(), if you install incorrect one it wouldn't work.<br />
I tried to run on Apache2 with VC6, and always get folowing error:<br />
<br />
Fatal error: Class 'Mongo' not found<br />
<br />
Until I look into phpinfo and found MSVC9, after that<br />
I install VC9 dll files and it solve the problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100606""></a>
  <div class="note">
   <strong class="user">poorpuer at gmail dot com</strong>
   <a href="#100606" class="date">26-Oct-2010 08:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're running IIS under Windows 7 and have PHP manager installed you'll also need to manually enable the extension. Start IIS Manager, select PHP Manager, under the section labeled PHP Extensions click on Enable or disable an extension, then enable the php_mongo.dll extension, and restart IIS.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96734""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#96734" class="date">12-Mar-2010 10:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was only able to solve an xmapp install problem by accessing the cached version of this page - which was at the time hosted at mongo. <br />
<br />
in the comments someone said<br />
<br />
Setup on XAMPP<br />
Install the Developer package for XAMPP<br />
Make sure the the Apple Developer Tools are installed<br />
!!!Edit your php.ini file with extension=mongo. For some reason, the build did not work until I did that.<br />
if XAMPP install in your Application folder, run sudo /Applications/XAMPP/xamppfiles/bin/pecl install mongo<br />
Restart XAMPP<br />
<br />
which worked.<br />
<br />
using the github packages it ended up being compiled with different versions of whatever and then threw an error in the log and wasnt included.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96435""></a>
  <div class="note">
   <strong class="user">cap at unagon dot com</strong>
   <a href="#96435" class="date">26-Feb-2010 01:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For Debian users: apt-get install php5-dev will install phpize for you.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mongo.manual.html">Manual</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mongo.tutorial.html">Tutorial</a></div>
 <div class="up"><a href="mongo.manual.html">Manual</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
