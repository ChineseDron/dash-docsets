Instructions on how to generate MDN (JavaScript, HTML, XSLT, XUL and CSS) docsets are found in this file.

##############################
# Download the documentation #
##############################

You will need httrack to download the documentation from MDN. Install httrack using MacPorts. If httrack does not work due to ssl issues, run the following command:

sudo ln -s /usr/lib/libssl.dylib /usr/lib/libssl.so

Download the documentation using the following command:

cd ~/Desktop && mkdir Docsets && cd ~/Desktop/Docsets && mkdir HTML && cd HTML && httrack --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/HTML" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/HTML/* && httrack --update --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/SVG" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/SVG/* +developer.mozilla.org/en/HTML/* && cd ~/Desktop/Docsets && mkdir CSS && cd CSS && httrack --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/CSS/CSS_Reference" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/CSS/* && cd ~/Desktop/Docsets && mkdir XSLT && cd XSLT && httrack --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/XSLT/Elements" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/XSLT/* && cd ~/Desktop/Docsets && mkdir XUL && cd XUL && httrack --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/XUL_Reference" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/XUL/* +developer.mozilla.org/en/XUL_Reference && cd ~/Desktop/Docsets && mkdir JavaScript && cd JavaScript && httrack --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/JavaScript/Reference" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/JavaScript/Reference/* && httrack --update --mirror --keep-alive --robots=0 "https://developer.mozilla.org/en/Gecko_DOM_Reference" -n -* +*.css +*css.php +*.ico +*/fonts/* +*.png +*.jpg +*.gif +*.jpeg +*.js +developer.mozilla.org/en/DOM/* +developer.mozilla.org/en/Gecko_DOM_Reference +developer.mozilla.org/en/JavaScript/* && cd ~/Desktop/Docsets && echo -e "open(FILE, \">>\$ARGV[0]\");\nprint FILE \"\\\n#masthead {display:none}\\\n#nav-toolbar {display:none}\\\n#sessionMsg.errormsg{display:none}\\\n.page-watch {display:none}\\\n\";\nprint \"Appended CSS to \$ARGV[0]\\\n\";\nclose(FILE);" > css.pl && find . -type f -name "*.css" -exec perl css.pl {} \; && rm -rf css.pl

###############################
# Set-up the docset skeletons #
###############################

Run the following command:

cd ~/Desktop/Docsets/CSS && rm -rf hts-* && mkdir -p Contents/Resources/Documents && mv -f *.* Contents/Resources/Documents/ && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<plist version=\"1.0\">\n<dict>\n<key>CFBundleIdentifier</key>\n<string>css</string>\n<key>CFBundleName</key>\n<string>CSS</string>\n<key>DocSetPlatformFamily</key>\n<string>css</string>\n</dict>\n</plist>\n" > Contents/Info.plist && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<DocSetNodes version=\"1.0\">\n<TOC>\n<Node type=\"folder\">\n<Name>Documentation</Name>\n<Path>index.html</Path>\n</Node>\n</TOC>\n</DocSetNodes>" > Contents/Resources/Nodes.xml && cd ~/Desktop/Docsets/JavaScript && rm -rf hts-* && mkdir -p Contents/Resources/Documents && mv -f *.* Contents/Resources/Documents/ && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<plist version=\"1.0\">\n<dict>\n<key>CFBundleIdentifier</key>\n<string>javascript</string>\n<key>CFBundleName</key>\n<string>JavaScript</string>\n<key>DocSetPlatformFamily</key>\n<string>javascript</string>\n</dict>\n</plist>\n" > Contents/Info.plist && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<DocSetNodes version=\"1.0\">\n<TOC>\n<Node type=\"folder\">\n<Name>JavaScript Documentation</Name>\n<Path>index.html</Path>\n</Node>\n</TOC>\n</DocSetNodes>" > Contents/Resources/Nodes.xml && cd ~/Desktop/Docsets/HTML && rm -rf hts-* && mkdir -p Contents/Resources/Documents && mv -f *.* Contents/Resources/Documents/ && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<plist version=\"1.0\">\n<dict>\n<key>CFBundleIdentifier</key>\n<string>html</string>\n<key>CFBundleName</key>\n<string>HTML</string>\n<key>DocSetPlatformFamily</key>\n<string>html</string>\n</dict>\n</plist>\n" > Contents/Info.plist && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<DocSetNodes version=\"1.0\">\n<TOC>\n<Node type=\"folder\">\n<Name>HTML Documentation</Name>\n<Path>index.html</Path>\n</Node>\n</TOC>\n</DocSetNodes>" > Contents/Resources/Nodes.xml && cd ~/Desktop/Docsets/XSLT && rm -rf hts-* && mkdir -p Contents/Resources/Documents && mv -f *.* Contents/Resources/Documents/ && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<plist version=\"1.0\">\n<dict>\n<key>CFBundleIdentifier</key>\n<string>xslt</string>\n<key>CFBundleName</key>\n<string>XSLT</string>\n<key>DocSetPlatformFamily</key>\n<string>xslt</string>\n</dict>\n</plist>\n" > Contents/Info.plist && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<DocSetNodes version=\"1.0\">\n<TOC>\n<Node type=\"folder\">\n<Name>XSLT Documentation</Name>\n<Path>index.html</Path>\n</Node>\n</TOC>\n</DocSetNodes>" > Contents/Resources/Nodes.xml && cd ~/Desktop/Docsets/XUL && rm -rf hts-* && mkdir -p Contents/Resources/Documents && mv -f *.* Contents/Resources/Documents/ && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<plist version=\"1.0\">\n<dict>\n<key>CFBundleIdentifier</key>\n<string>xul</string>\n<key>CFBundleName</key>\n<string>XUL</string>\n<key>DocSetPlatformFamily</key>\n<string>xul</string>\n</dict>\n</plist>\n" > Contents/Info.plist && echo -e "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<DocSetNodes version=\"1.0\">\n<TOC>\n<Node type=\"folder\">\n<Name>XUL Documentation</Name>\n<Path>index.html</Path>\n</Node>\n</TOC>\n</DocSetNodes>" > Contents/Resources/Nodes.xml

######################
# Generate the index #
######################

Requirements: 

1. The HTML::TagParser perl module is required. Run "sudo cpan", type your password and then type "install HTML::TagParser".
2. Copy the perl scripts located in the Scripts folder on your Desktop.
3. The JavaScript.pl script contains an absolute path, edit it and change any mention of "bogdan" with your own username.

Run the following command:

cd ~/Desktop && cp HTML.pl Docsets/HTML/Contents/Resources/ && cd Docsets/HTML/Contents/Resources/ && perl HTML.pl && cd ~/Desktop/Docsets && mv HTML HTML.docset && /Developer/usr/bin/docsetutil index HTML.docset && cd ~/Desktop && cp CSS.pl Docsets/CSS/Contents/Resources/ && cd Docsets/CSS/Contents/Resources/ && perl CSS.pl && cd ~/Desktop/Docsets && mv CSS CSS.docset && /Developer/usr/bin/docsetutil index CSS.docset && cd ~/Desktop && cp XUL.pl Docsets/XUL/Contents/Resources/ && cd Docsets/XUL/Contents/Resources/ && perl XUL.pl && cd ~/Desktop/Docsets && mv XUL XUL.docset && /Developer/usr/bin/docsetutil index XUL.docset && cd ~/Desktop && cp XSLT.pl Docsets/XSLT/Contents/Resources/ && cd Docsets/XSLT/Contents/Resources/ && perl XSLT.pl && cd ~/Desktop/Docsets && mv XSLT XSLT.docset && /Developer/usr/bin/docsetutil index XSLT.docset && cd ~/Desktop && cp JavaScript.pl Docsets/JavaScript/Contents/Resources/ && cd Docsets/JavaScript/Contents/Resources/ && perl JavaScript.pl && cd ~/Desktop/Docsets && mv JavaScript JavaScript.docset && /Developer/usr/bin/docsetutil index JavaScript.docset